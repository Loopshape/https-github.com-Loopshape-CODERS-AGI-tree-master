(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function Qy(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ju={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Zy(){if(xm)return to;xm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(s,r,d){var p=null;if(d!==void 0&&(p=""+d),r.key!==void 0&&(p=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:l,type:s,key:p,ref:r!==void 0?r:null,props:d}}return to.Fragment=n,to.jsx=o,to.jsxs=o,to}var Rm;function $y(){return Rm||(Rm=1,ju.exports=Zy()),ju.exports}var C=$y(),er={exports:{}},no={},tr={exports:{}},nr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function Wy(){return Nm||(Nm=1,(function(l){function n(w,B){var ie=w.length;w.push(B);e:for(;0<ie;){var ge=ie-1>>>1,xe=w[ge];if(0<r(xe,B))w[ge]=B,w[ie]=xe,ie=ge;else break e}}function o(w){return w.length===0?null:w[0]}function s(w){if(w.length===0)return null;var B=w[0],ie=w.pop();if(ie!==B){w[0]=ie;e:for(var ge=0,xe=w.length,x=xe>>>1;ge<x;){var z=2*(ge+1)-1,O=w[z],K=z+1,ae=w[K];if(0>r(O,ie))K<xe&&0>r(ae,O)?(w[ge]=ae,w[K]=ie,ge=K):(w[ge]=O,w[z]=ie,ge=z);else if(K<xe&&0>r(ae,ie))w[ge]=ae,w[K]=ie,ge=K;else break e}}return B}function r(w,B){var ie=w.sortIndex-B.sortIndex;return ie!==0?ie:w.id-B.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var p=Date,g=p.now();l.unstable_now=function(){return p.now()-g}}var y=[],h=[],T=1,S=null,_=3,R=!1,G=!1,V=!1,F=!1,Y=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function Z(w){for(var B=o(h);B!==null;){if(B.callback===null)s(h);else if(B.startTime<=w)s(h),B.sortIndex=B.expirationTime,n(y,B);else break;B=o(h)}}function le(w){if(V=!1,Z(w),!G)if(o(y)!==null)G=!0,$||($=!0,fe());else{var B=o(h);B!==null&&Qe(le,B.startTime-w)}}var $=!1,k=-1,ce=5,te=-1;function ue(){return F?!0:!(l.unstable_now()-te<ce)}function Se(){if(F=!1,$){var w=l.unstable_now();te=w;var B=!0;try{e:{G=!1,V&&(V=!1,J(k),k=-1),R=!0;var ie=_;try{t:{for(Z(w),S=o(y);S!==null&&!(S.expirationTime>w&&ue());){var ge=S.callback;if(typeof ge=="function"){S.callback=null,_=S.priorityLevel;var xe=ge(S.expirationTime<=w);if(w=l.unstable_now(),typeof xe=="function"){S.callback=xe,Z(w),B=!0;break t}S===o(y)&&s(y),Z(w)}else s(y);S=o(y)}if(S!==null)B=!0;else{var x=o(h);x!==null&&Qe(le,x.startTime-w),B=!1}}break e}finally{S=null,_=ie,R=!1}B=void 0}}finally{B?fe():$=!1}}}var fe;if(typeof P=="function")fe=function(){P(Se)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,dt=ke.port2;ke.port1.onmessage=Se,fe=function(){dt.postMessage(null)}}else fe=function(){Y(Se,0)};function Qe(w,B){k=Y(function(){w(l.unstable_now())},B)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(w){w.callback=null},l.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<w?Math.floor(1e3/w):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(w){switch(_){case 1:case 2:case 3:var B=3;break;default:B=_}var ie=_;_=B;try{return w()}finally{_=ie}},l.unstable_requestPaint=function(){F=!0},l.unstable_runWithPriority=function(w,B){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var ie=_;_=w;try{return B()}finally{_=ie}},l.unstable_scheduleCallback=function(w,B,ie){var ge=l.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ge+ie:ge):ie=ge,w){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ie+xe,w={id:T++,callback:B,priorityLevel:w,startTime:ie,expirationTime:xe,sortIndex:-1},ie>ge?(w.sortIndex=ie,n(h,w),o(y)===null&&w===o(h)&&(V?(J(k),k=-1):V=!0,Qe(le,ie-ge))):(w.sortIndex=xe,n(y,w),G||R||(G=!0,$||($=!0,fe()))),w},l.unstable_shouldYield=ue,l.unstable_wrapCallback=function(w){var B=_;return function(){var ie=_;_=B;try{return w.apply(this,arguments)}finally{_=ie}}}})(nr)),nr}var Dm;function jy(){return Dm||(Dm=1,tr.exports=Wy()),tr.exports}var lr={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function ev(){if(Im)return se;Im=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,F={};function Y(x,z,O){this.props=x,this.context=z,this.refs=F,this.updater=O||G}Y.prototype.isReactComponent={},Y.prototype.setState=function(x,z){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,z,"setState")},Y.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function J(){}J.prototype=Y.prototype;function P(x,z,O){this.props=x,this.context=z,this.refs=F,this.updater=O||G}var Z=P.prototype=new J;Z.constructor=P,V(Z,Y.prototype),Z.isPureReactComponent=!0;var le=Array.isArray;function $(){}var k={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function te(x,z,O){var K=O.ref;return{$$typeof:l,type:x,key:z,ref:K!==void 0?K:null,props:O}}function ue(x,z){return te(x.type,z,x.props)}function Se(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function fe(x){var z={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(O){return z[O]})}var ke=/\/+/g;function dt(x,z){return typeof x=="object"&&x!==null&&x.key!=null?fe(""+x.key):z.toString(36)}function Qe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then($,$):(x.status="pending",x.then(function(z){x.status==="pending"&&(x.status="fulfilled",x.value=z)},function(z){x.status==="pending"&&(x.status="rejected",x.reason=z)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function w(x,z,O,K,ae){var me=typeof x;(me==="undefined"||me==="boolean")&&(x=null);var Ee=!1;if(x===null)Ee=!0;else switch(me){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(x.$$typeof){case l:case n:Ee=!0;break;case T:return Ee=x._init,w(Ee(x._payload),z,O,K,ae)}}if(Ee)return ae=ae(x),Ee=K===""?"."+dt(x,0):K,le(ae)?(O="",Ee!=null&&(O=Ee.replace(ke,"$&/")+"/"),w(ae,z,O,"",function(vn){return vn})):ae!=null&&(Se(ae)&&(ae=ue(ae,O+(ae.key==null||x&&x.key===ae.key?"":(""+ae.key).replace(ke,"$&/")+"/")+Ee)),z.push(ae)),1;Ee=0;var Ze=K===""?".":K+":";if(le(x))for(var He=0;He<x.length;He++)K=x[He],me=Ze+dt(K,He),Ee+=w(K,z,O,me,ae);else if(He=R(x),typeof He=="function")for(x=He.call(x),He=0;!(K=x.next()).done;)K=K.value,me=Ze+dt(K,He++),Ee+=w(K,z,O,me,ae);else if(me==="object"){if(typeof x.then=="function")return w(Qe(x),z,O,K,ae);throw z=String(x),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function B(x,z,O){if(x==null)return x;var K=[],ae=0;return w(x,K,"","",function(me){return z.call(O,me,ae++)}),K}function ie(x){if(x._status===-1){var z=x._result;z=z(),z.then(function(O){(x._status===0||x._status===-1)&&(x._status=1,x._result=O)},function(O){(x._status===0||x._status===-1)&&(x._status=2,x._result=O)}),x._status===-1&&(x._status=0,x._result=z)}if(x._status===1)return x._result.default;throw x._result}var ge=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},xe={map:B,forEach:function(x,z,O){B(x,function(){z.apply(this,arguments)},O)},count:function(x){var z=0;return B(x,function(){z++}),z},toArray:function(x){return B(x,function(z){return z})||[]},only:function(x){if(!Se(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return se.Activity=S,se.Children=xe,se.Component=Y,se.Fragment=o,se.Profiler=r,se.PureComponent=P,se.StrictMode=s,se.Suspense=y,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,se.__COMPILER_RUNTIME={__proto__:null,c:function(x){return k.H.useMemoCache(x)}},se.cache=function(x){return function(){return x.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(x,z,O){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var K=V({},x.props),ae=x.key;if(z!=null)for(me in z.key!==void 0&&(ae=""+z.key),z)!ce.call(z,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&z.ref===void 0||(K[me]=z[me]);var me=arguments.length-2;if(me===1)K.children=O;else if(1<me){for(var Ee=Array(me),Ze=0;Ze<me;Ze++)Ee[Ze]=arguments[Ze+2];K.children=Ee}return te(x.type,ae,K)},se.createContext=function(x){return x={$$typeof:p,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},se.createElement=function(x,z,O){var K,ae={},me=null;if(z!=null)for(K in z.key!==void 0&&(me=""+z.key),z)ce.call(z,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ae[K]=z[K]);var Ee=arguments.length-2;if(Ee===1)ae.children=O;else if(1<Ee){for(var Ze=Array(Ee),He=0;He<Ee;He++)Ze[He]=arguments[He+2];ae.children=Ze}if(x&&x.defaultProps)for(K in Ee=x.defaultProps,Ee)ae[K]===void 0&&(ae[K]=Ee[K]);return te(x,me,ae)},se.createRef=function(){return{current:null}},se.forwardRef=function(x){return{$$typeof:g,render:x}},se.isValidElement=Se,se.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:ie}},se.memo=function(x,z){return{$$typeof:h,type:x,compare:z===void 0?null:z}},se.startTransition=function(x){var z=k.T,O={};k.T=O;try{var K=x(),ae=k.S;ae!==null&&ae(O,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then($,ge)}catch(me){ge(me)}finally{z!==null&&O.types!==null&&(z.types=O.types),k.T=z}},se.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},se.use=function(x){return k.H.use(x)},se.useActionState=function(x,z,O){return k.H.useActionState(x,z,O)},se.useCallback=function(x,z){return k.H.useCallback(x,z)},se.useContext=function(x){return k.H.useContext(x)},se.useDebugValue=function(){},se.useDeferredValue=function(x,z){return k.H.useDeferredValue(x,z)},se.useEffect=function(x,z){return k.H.useEffect(x,z)},se.useEffectEvent=function(x){return k.H.useEffectEvent(x)},se.useId=function(){return k.H.useId()},se.useImperativeHandle=function(x,z,O){return k.H.useImperativeHandle(x,z,O)},se.useInsertionEffect=function(x,z){return k.H.useInsertionEffect(x,z)},se.useLayoutEffect=function(x,z){return k.H.useLayoutEffect(x,z)},se.useMemo=function(x,z){return k.H.useMemo(x,z)},se.useOptimistic=function(x,z){return k.H.useOptimistic(x,z)},se.useReducer=function(x,z,O){return k.H.useReducer(x,z,O)},se.useRef=function(x){return k.H.useRef(x)},se.useState=function(x){return k.H.useState(x)},se.useSyncExternalStore=function(x,z,O){return k.H.useSyncExternalStore(x,z,O)},se.useTransition=function(){return k.H.useTransition()},se.version="19.2.0",se}var Um;function hr(){return Um||(Um=1,lr.exports=ev()),lr.exports}var ir={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function tv(){if(bm)return ot;bm=1;var l=hr();function n(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)h+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,h,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:h,implementation:T}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ot.createPortal=function(y,h){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return d(y,h,null,T)},ot.flushSync=function(y){var h=p.T,T=s.p;try{if(p.T=null,s.p=2,y)return y()}finally{p.T=h,s.p=T,s.d.f()}},ot.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},ot.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ot.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var T=h.as,S=g(T,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,R=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;T==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:R}):T==="script"&&s.d.X(y,{crossOrigin:S,integrity:_,fetchPriority:R,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ot.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var T=g(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},ot.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var T=h.as,S=g(T,h.crossOrigin);s.d.L(y,T,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ot.preloadModule=function(y,h){if(typeof y=="string")if(h){var T=g(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},ot.requestFormReset=function(y){s.d.r(y)},ot.unstable_batchedUpdates=function(y,h){return y(h)},ot.useFormState=function(y,h,T){return p.H.useFormState(y,h,T)},ot.useFormStatus=function(){return p.H.useHostTransitionStatus()},ot.version="19.2.0",ot}var wm;function nv(){if(wm)return ir.exports;wm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),ir.exports=tv(),ir.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function lv(){if(Gm)return no;Gm=1;var l=jy(),n=hr(),o=nv();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(s(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,a=t;;){var f=i.return;if(f===null)break;var m=f.alternate;if(m===null){if(a=f.return,a!==null){i=a;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===i)return y(f),e;if(m===a)return y(f),t;m=m.sibling}throw Error(s(188))}if(i.return!==a.return)i=f,a=m;else{for(var v=!1,E=f.child;E;){if(E===i){v=!0,i=f,a=m;break}if(E===a){v=!0,a=f,i=m;break}E=E.sibling}if(!v){for(E=m.child;E;){if(E===i){v=!0,i=m,a=f;break}if(E===a){v=!0,a=m,i=f;break}E=E.sibling}if(!v)throw Error(s(189))}}if(i.alternate!==a)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),P=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function fe(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Symbol.for("react.client.reference");function dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case Y:return"Profiler";case F:return"StrictMode";case le:return"Suspense";case $:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case P:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:dt(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return dt(e(t))}catch{}}return null}var Qe=Array.isArray,w=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ge=[],xe=-1;function x(e){return{current:e}}function z(e){0>xe||(e.current=ge[xe],ge[xe]=null,xe--)}function O(e,t){xe++,ge[xe]=e.current,e.current=t}var K=x(null),ae=x(null),me=x(null),Ee=x(null);function Ze(e,t){switch(O(me,t),O(ae,e),O(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qd(t),e=Zd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(K),O(K,e)}function He(){z(K),z(ae),z(me)}function vn(e){e.memoizedState!==null&&O(Ee,e);var t=K.current,i=Zd(t,e.type);t!==i&&(O(ae,e),O(K,i))}function ee(e){ae.current===e&&(z(K),z(ae)),Ee.current===e&&(z(Ee),$i._currentValue=ie)}var ze,mt;function it(e){if(ze===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ze=t&&t[1]||"",mt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+mt}var st=!1;function $t(e,t){if(!e||st)return"";st=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(b){var U=b}Reflect.construct(e,[],H)}else{try{H.call()}catch(b){U=b}e.call(H.prototype)}}else{try{throw Error()}catch(b){U=b}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(b){if(b&&U&&typeof b.stack=="string")return[b.stack,U.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=a.DetermineComponentFrameRoot(),v=m[0],E=m[1];if(v&&E){var A=v.split(`
`),I=E.split(`
`);for(f=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(a===A.length||f===I.length)for(a=A.length-1,f=I.length-1;1<=a&&0<=f&&A[a]!==I[f];)f--;for(;1<=a&&0<=f;a--,f--)if(A[a]!==I[f]){if(a!==1||f!==1)do if(a--,f--,0>f||A[a]!==I[f]){var L=`
`+A[a].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=a&&0<=f);break}}}finally{st=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?it(i):""}function si(e,t){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return e.child!==t&&t!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return $t(e.type,!1);case 11:return $t(e.type.render,!1);case 1:return $t(e.type,!0);case 31:return it("Activity");default:return""}}function co(e){try{var t="",i=null;do t+=si(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ui=Object.prototype.hasOwnProperty,ut=l.unstable_scheduleCallback,rt=l.unstable_cancelCallback,Ut=l.unstable_shouldYield,Tn=l.unstable_requestPaint,ct=l.unstable_now,Dh=l.unstable_getCurrentPriorityLevel,xr=l.unstable_ImmediatePriority,Rr=l.unstable_UserBlockingPriority,fo=l.unstable_NormalPriority,Ih=l.unstable_LowPriority,Nr=l.unstable_IdlePriority,Uh=l.log,bh=l.unstable_setDisableYieldValue,ri=null,Et=null;function Sn(e){if(typeof Uh=="function"&&bh(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(ri,e)}catch{}}var _t=Math.clz32?Math.clz32:Lh,wh=Math.log,Gh=Math.LN2;function Lh(e){return e>>>=0,e===0?32:31-(wh(e)/Gh|0)|0}var mo=256,po=262144,ho=4194304;function Fn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function go(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var f=0,m=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=a&134217727;return E!==0?(a=E&~m,a!==0?f=Fn(a):(v&=E,v!==0?f=Fn(v):i||(i=E&~e,i!==0&&(f=Fn(i))))):(E=a&~m,E!==0?f=Fn(E):v!==0?f=Fn(v):i||(i=a&~e,i!==0&&(f=Fn(i)))),f===0?0:t!==0&&t!==f&&(t&m)===0&&(m=f&-f,i=t&-t,m>=i||m===32&&(i&4194048)!==0)?t:f}function ci(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dr(){var e=ho;return ho<<=1,(ho&62914560)===0&&(ho=4194304),e}function Pa(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function fi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hh(e,t,i,a,f,m){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,I=e.hiddenUpdates;for(i=v&~i;0<i;){var L=31-_t(i),H=1<<L;E[L]=0,A[L]=-1;var U=I[L];if(U!==null)for(I[L]=null,L=0;L<U.length;L++){var b=U[L];b!==null&&(b.lane&=-536870913)}i&=~H}a!==0&&Ir(e,a,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(v&~t))}function Ir(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-_t(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function Ur(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-_t(i),f=1<<a;f&t|e[a]&t&&(e[a]|=t),i&=~f}}function br(e,t){var i=t&-t;return i=(i&42)!==0?1:Oa(i),(i&(e.suspendedLanes|t))!==0?0:i}function Oa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ka(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wr(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Tm(e.type))}function Gr(e,t){var i=B.p;try{return B.p=e,t()}finally{B.p=i}}var En=Math.random().toString(36).slice(2),je="__reactFiber$"+En,pt="__reactProps$"+En,dl="__reactContainer$"+En,Ya="__reactEvents$"+En,zh="__reactListeners$"+En,Vh="__reactHandles$"+En,Lr="__reactResources$"+En,di="__reactMarker$"+En;function Ja(e){delete e[je],delete e[pt],delete e[Ya],delete e[zh],delete e[Vh]}function ml(e){var t=e[je];if(t)return t;for(var i=e.parentNode;i;){if(t=i[dl]||i[je]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=lm(e);e!==null;){if(i=e[je])return i;e=lm(e)}return t}e=i,i=e.parentNode}return null}function pl(e){if(e=e[je]||e[dl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function mi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function hl(e){var t=e[Lr];return t||(t=e[Lr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[di]=!0}var qr=new Set,Hr={};function Xn(e,t){gl(e,t),gl(e+"Capture",t)}function gl(e,t){for(Hr[e]=t,e=0;e<t.length;e++)qr.add(t[e])}var Bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zr={},Vr={};function Ph(e){return ui.call(Vr,e)?!0:ui.call(zr,e)?!1:Bh.test(e)?Vr[e]=!0:(zr[e]=!0,!1)}function yo(e,t,i){if(Ph(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function vo(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Wt(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Br(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Oh(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(v){i=""+v,m.call(this,v)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fa(e){if(!e._valueTracker){var t=Br(e)?"checked":"value";e._valueTracker=Oh(e,t,""+e[t])}}function Pr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Br(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function To(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kh=/[\n"\\]/g;function wt(e){return e.replace(kh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xa(e,t,i,a,f,m,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bt(t)):e.value!==""+bt(t)&&(e.value=""+bt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Ka(e,v,bt(t)):i!=null?Ka(e,v,bt(i)):a!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+bt(E):e.removeAttribute("name")}function Or(e,t,i,a,f,m,v,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),t!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||t!=null)){Fa(e);return}i=i!=null?""+bt(i):"",t=t!=null?""+bt(t):i,E||t===e.value||(e.value=t),e.defaultValue=t}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=E?e.checked:!!a,e.defaultChecked=!!a,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Fa(e)}function Ka(e,t,i){t==="number"&&To(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function yl(e,t,i,a){if(e=e.options,t){t={};for(var f=0;f<i.length;f++)t["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=t.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&a&&(e[i].defaultSelected=!0)}else{for(i=""+bt(i),t=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function kr(e,t,i){if(t!=null&&(t=""+bt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+bt(i):""}function Yr(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(s(92));if(Qe(a)){if(1<a.length)throw Error(s(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=bt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),Fa(e)}function vl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jr(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||Yh.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Fr(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var f in t)a=t[f],t.hasOwnProperty(f)&&i[f]!==a&&Jr(e,f,a)}else for(var m in t)t.hasOwnProperty(m)&&Jr(e,m,t[m])}function Qa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(e){return Fh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jt(){}var Za=null;function $a(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,Sl=null;function Xr(e){var t=pl(e);if(t&&(e=t.stateNode)){var i=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xa(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+wt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var f=a[pt]||null;if(!f)throw Error(s(90));Xa(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&Pr(a)}break e;case"textarea":kr(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&yl(e,!!i.multiple,t,!1)}}}var Wa=!1;function Kr(e,t,i){if(Wa)return e(t,i);Wa=!0;try{var a=e(t);return a}finally{if(Wa=!1,(Tl!==null||Sl!==null)&&(sa(),Tl&&(t=Tl,e=Sl,Sl=Tl=null,Xr(t),e)))for(t=0;t<e.length;t++)Xr(e[t])}}function pi(e,t){var i=e.stateNode;if(i===null)return null;var a=i[pt]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=!1;if(en)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){ja=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{ja=!1}var _n=null,es=null,Eo=null;function Qr(){if(Eo)return Eo;var e,t=es,i=t.length,a,f="value"in _n?_n.value:_n.textContent,m=f.length;for(e=0;e<i&&t[e]===f[e];e++);var v=i-e;for(a=1;a<=v&&t[i-a]===f[m-a];a++);return Eo=f.slice(e,1<a?1-a:void 0)}function _o(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function Zr(){return!1}function ht(e){function t(i,a,f,m,v){this._reactName=i,this._targetInst=f,this.type=a,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Co:Zr,this.isPropagationStopped=Zr,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=ht(Kn),gi=S({},Kn,{view:0,detail:0}),Xh=ht(gi),ts,ns,yi,Mo=S({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(ts=e.screenX-yi.screenX,ns=e.screenY-yi.screenY):ns=ts=0,yi=e),ts)},movementY:function(e){return"movementY"in e?e.movementY:ns}}),$r=ht(Mo),Kh=S({},Mo,{dataTransfer:0}),Qh=ht(Kh),Zh=S({},gi,{relatedTarget:0}),ls=ht(Zh),$h=S({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wh=ht($h),jh=S({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eg=ht(jh),tg=S({},Kn,{data:0}),Wr=ht(tg),ng={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function og(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ig[e])?!!t[e]:!1}function is(){return og}var ag=S({},gi,{key:function(e){if(e.key){var t=ng[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_o(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(e){return e.type==="keypress"?_o(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_o(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sg=ht(ag),ug=S({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jr=ht(ug),rg=S({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),cg=ht(rg),fg=S({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dg=ht(fg),mg=S({},Mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pg=ht(mg),hg=S({},Kn,{newState:0,oldState:0}),gg=ht(hg),yg=[9,13,27,32],os=en&&"CompositionEvent"in window,vi=null;en&&"documentMode"in document&&(vi=document.documentMode);var vg=en&&"TextEvent"in window&&!vi,ec=en&&(!os||vi&&8<vi&&11>=vi),tc=" ",nc=!1;function lc(e,t){switch(e){case"keyup":return yg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var El=!1;function Tg(e,t){switch(e){case"compositionend":return ic(t);case"keypress":return t.which!==32?null:(nc=!0,tc);case"textInput":return e=t.data,e===tc&&nc?null:e;default:return null}}function Sg(e,t){if(El)return e==="compositionend"||!os&&lc(e,t)?(e=Qr(),Eo=es=_n=null,El=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ec&&t.locale!=="ko"?null:t.data;default:return null}}var Eg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eg[e.type]:t==="textarea"}function ac(e,t,i,a){Tl?Sl?Sl.push(a):Sl=[a]:Tl=a,t=pa(t,"onChange"),0<t.length&&(i=new Ao("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Ti=null,Si=null;function _g(e){kd(e,0)}function xo(e){var t=mi(e);if(Pr(t))return e}function sc(e,t){if(e==="change")return t}var uc=!1;if(en){var as;if(en){var ss="oninput"in document;if(!ss){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),ss=typeof rc.oninput=="function"}as=ss}else as=!1;uc=as&&(!document.documentMode||9<document.documentMode)}function cc(){Ti&&(Ti.detachEvent("onpropertychange",fc),Si=Ti=null)}function fc(e){if(e.propertyName==="value"&&xo(Si)){var t=[];ac(t,Si,e,$a(e)),Kr(_g,t)}}function Cg(e,t,i){e==="focusin"?(cc(),Ti=t,Si=i,Ti.attachEvent("onpropertychange",fc)):e==="focusout"&&cc()}function Ag(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(Si)}function Mg(e,t){if(e==="click")return xo(t)}function xg(e,t){if(e==="input"||e==="change")return xo(t)}function Rg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:Rg;function Ei(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var f=i[a];if(!ui.call(t,f)||!Ct(e[f],t[f]))return!1}return!0}function dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var i=dc(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=dc(i)}}function pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=To(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=To(e.document)}return t}function us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ng=en&&"documentMode"in document&&11>=document.documentMode,_l=null,rs=null,_i=null,cs=!1;function gc(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;cs||_l==null||_l!==To(a)||(a=_l,"selectionStart"in a&&us(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),_i&&Ei(_i,a)||(_i=a,a=pa(rs,"onSelect"),0<a.length&&(t=new Ao("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=_l)))}function Qn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Cl={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionrun:Qn("Transition","TransitionRun"),transitionstart:Qn("Transition","TransitionStart"),transitioncancel:Qn("Transition","TransitionCancel"),transitionend:Qn("Transition","TransitionEnd")},fs={},yc={};en&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Zn(e){if(fs[e])return fs[e];if(!Cl[e])return e;var t=Cl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in yc)return fs[e]=t[i];return e}var vc=Zn("animationend"),Tc=Zn("animationiteration"),Sc=Zn("animationstart"),Dg=Zn("transitionrun"),Ig=Zn("transitionstart"),Ug=Zn("transitioncancel"),Ec=Zn("transitionend"),_c=new Map,ds="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ds.push("scrollEnd");function kt(e,t){_c.set(e,t),Xn(t,[e])}var Ro=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],Al=0,ms=0;function No(){for(var e=Al,t=ms=Al=0;t<e;){var i=Gt[t];Gt[t++]=null;var a=Gt[t];Gt[t++]=null;var f=Gt[t];Gt[t++]=null;var m=Gt[t];if(Gt[t++]=null,a!==null&&f!==null){var v=a.pending;v===null?f.next=f:(f.next=v.next,v.next=f),a.pending=f}m!==0&&Cc(i,f,m)}}function Do(e,t,i,a){Gt[Al++]=e,Gt[Al++]=t,Gt[Al++]=i,Gt[Al++]=a,ms|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ps(e,t,i,a){return Do(e,t,i,a),Io(e)}function $n(e,t){return Do(e,null,null,t),Io(e)}function Cc(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var f=!1,m=e.return;m!==null;)m.childLanes|=i,a=m.alternate,a!==null&&(a.childLanes|=i),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&t!==null&&(f=31-_t(i),e=m.hiddenUpdates,a=e[f],a===null?e[f]=[t]:a.push(t),t.lane=i|536870912),m):null}function Io(e){if(50<Yi)throw Yi=0,Cu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ml={};function bg(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,i,a){return new bg(e,t,i,a)}function hs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tn(e,t){var i=e.alternate;return i===null?(i=At(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Ac(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Uo(e,t,i,a,f,m){var v=0;if(a=e,typeof e=="function")hs(e)&&(v=1);else if(typeof e=="string")v=Hy(e,i,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=At(31,i,t,f),e.elementType=te,e.lanes=m,e;case V:return Wn(i.children,f,m,t);case F:v=8,f|=24;break;case Y:return e=At(12,i,t,f|2),e.elementType=Y,e.lanes=m,e;case le:return e=At(13,i,t,f),e.elementType=le,e.lanes=m,e;case $:return e=At(19,i,t,f),e.elementType=$,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:v=10;break e;case J:v=9;break e;case Z:v=11;break e;case k:v=14;break e;case ce:v=16,a=null;break e}v=29,i=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=At(v,i,t,f),t.elementType=e,t.type=a,t.lanes=m,t}function Wn(e,t,i,a){return e=At(7,e,a,t),e.lanes=i,e}function gs(e,t,i){return e=At(6,e,null,t),e.lanes=i,e}function Mc(e){var t=At(18,null,null,0);return t.stateNode=e,t}function ys(e,t,i){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xc=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var i=xc.get(e);return i!==void 0?i:(t={value:e,source:t,stack:co(t)},xc.set(e,t),t)}return{value:e,source:t,stack:co(t)}}var xl=[],Rl=0,bo=null,Ci=0,qt=[],Ht=0,Cn=null,Xt=1,Kt="";function nn(e,t){xl[Rl++]=Ci,xl[Rl++]=bo,bo=e,Ci=t}function Rc(e,t,i){qt[Ht++]=Xt,qt[Ht++]=Kt,qt[Ht++]=Cn,Cn=e;var a=Xt;e=Kt;var f=32-_t(a)-1;a&=~(1<<f),i+=1;var m=32-_t(t)+f;if(30<m){var v=f-f%5;m=(a&(1<<v)-1).toString(32),a>>=v,f-=v,Xt=1<<32-_t(t)+f|i<<f|a,Kt=m+e}else Xt=1<<m|i<<f|a,Kt=e}function vs(e){e.return!==null&&(nn(e,1),Rc(e,1,0))}function Ts(e){for(;e===bo;)bo=xl[--Rl],xl[Rl]=null,Ci=xl[--Rl],xl[Rl]=null;for(;e===Cn;)Cn=qt[--Ht],qt[Ht]=null,Kt=qt[--Ht],qt[Ht]=null,Xt=qt[--Ht],qt[Ht]=null}function Nc(e,t){qt[Ht++]=Xt,qt[Ht++]=Kt,qt[Ht++]=Cn,Xt=t.id,Kt=t.overflow,Cn=e}var et=null,we=null,Te=!1,An=null,zt=!1,Ss=Error(s(519));function Mn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ai(Lt(t,e)),Ss}function Dc(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[je]=e,t[pt]=a,i){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(i=0;i<Fi.length;i++)he(Fi[i],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),Or(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),Yr(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||Xd(t.textContent,i)?(a.popover!=null&&(he("beforetoggle",t),he("toggle",t)),a.onScroll!=null&&he("scroll",t),a.onScrollEnd!=null&&he("scrollend",t),a.onClick!=null&&(t.onclick=jt),t=!0):t=!1,t||Mn(e,!0)}function Ic(e){for(et=e.return;et;)switch(et.tag){case 5:case 31:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:et=et.return}}function Nl(e){if(e!==et)return!1;if(!Te)return Ic(e),Te=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||zu(e.type,e.memoizedProps)),i=!i),i&&we&&Mn(e),Ic(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));we=nm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));we=nm(e)}else t===27?(t=we,Vn(e.type)?(e=ku,ku=null,we=e):we=t):we=et?Bt(e.stateNode.nextSibling):null;return!0}function jn(){we=et=null,Te=!1}function Es(){var e=An;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),An=null),e}function Ai(e){An===null?An=[e]:An.push(e)}var _s=x(null),el=null,ln=null;function xn(e,t,i){O(_s,t._currentValue),t._currentValue=i}function on(e){e._currentValue=_s.current,z(_s)}function Cs(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function As(e,t,i,a){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var A=0;A<t.length;A++)if(E.context===t[A]){m.lanes|=i,E=m.alternate,E!==null&&(E.lanes|=i),Cs(m.return,i,e),a||(v=null);break e}m=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=i,m=v.alternate,m!==null&&(m.lanes|=i),Cs(v,i,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Dl(e,t,i,a){e=null;for(var f=t,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=f.type;Ct(f.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(f===Ee.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push($i):e=[$i])}f=f.return}e!==null&&As(t,e,i,a),t.flags|=262144}function wo(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function tl(e){el=e,ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return Uc(el,e)}function Go(e,t){return el===null&&tl(e),Uc(e,t)}function Uc(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},ln===null){if(e===null)throw Error(s(308));ln=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ln=ln.next=t;return i}var wg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Gg=l.unstable_scheduleCallback,Lg=l.unstable_NormalPriority,Ye={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ms(){return{controller:new wg,data:new Map,refCount:0}}function Mi(e){e.refCount--,e.refCount===0&&Gg(Lg,function(){e.controller.abort()})}var xi=null,xs=0,Il=0,Ul=null;function qg(e,t){if(xi===null){var i=xi=[];xs=0,Il=Du(),Ul={status:"pending",value:void 0,then:function(a){i.push(a)}}}return xs++,t.then(bc,bc),t}function bc(){if(--xs===0&&xi!==null){Ul!==null&&(Ul.status="fulfilled");var e=xi;xi=null,Il=0,Ul=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Hg(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var f=0;f<i.length;f++)(0,i[f])(t)},function(f){for(a.status="rejected",a.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),a}var wc=w.S;w.S=function(e,t){yd=ct(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&qg(e,t),wc!==null&&wc(e,t)};var nl=x(null);function Rs(){var e=nl.current;return e!==null?e:be.pooledCache}function Lo(e,t){t===null?O(nl,nl.current):O(nl,t.pool)}function Gc(){var e=Rs();return e===null?null:{parent:Ye._currentValue,pool:e}}var bl=Error(s(460)),Ns=Error(s(474)),qo=Error(s(542)),Ho={then:function(){}};function Lc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qc(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(jt,jt),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zc(e),e;default:if(typeof t.status=="string")t.then(jt,jt);else{if(e=be,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=a}},function(a){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zc(e),e}throw il=t,bl}}function ll(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(il=i,bl):i}}var il=null;function Hc(){if(il===null)throw Error(s(459));var e=il;return il=null,e}function zc(e){if(e===bl||e===qo)throw Error(s(483))}var wl=null,Ri=0;function zo(e){var t=Ri;return Ri+=1,wl===null&&(wl=[]),qc(wl,e,t)}function Ni(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vo(e,t){throw t.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Vc(e){function t(N,M){if(e){var D=N.deletions;D===null?(N.deletions=[M],N.flags|=16):D.push(M)}}function i(N,M){if(!e)return null;for(;M!==null;)t(N,M),M=M.sibling;return null}function a(N){for(var M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function f(N,M){return N=tn(N,M),N.index=0,N.sibling=null,N}function m(N,M,D){return N.index=D,e?(D=N.alternate,D!==null?(D=D.index,D<M?(N.flags|=67108866,M):D):(N.flags|=67108866,M)):(N.flags|=1048576,M)}function v(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function E(N,M,D,q){return M===null||M.tag!==6?(M=gs(D,N.mode,q),M.return=N,M):(M=f(M,D),M.return=N,M)}function A(N,M,D,q){var ne=D.type;return ne===V?L(N,M,D.props.children,q,D.key):M!==null&&(M.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ce&&ll(ne)===M.type)?(M=f(M,D.props),Ni(M,D),M.return=N,M):(M=Uo(D.type,D.key,D.props,null,N.mode,q),Ni(M,D),M.return=N,M)}function I(N,M,D,q){return M===null||M.tag!==4||M.stateNode.containerInfo!==D.containerInfo||M.stateNode.implementation!==D.implementation?(M=ys(D,N.mode,q),M.return=N,M):(M=f(M,D.children||[]),M.return=N,M)}function L(N,M,D,q,ne){return M===null||M.tag!==7?(M=Wn(D,N.mode,q,ne),M.return=N,M):(M=f(M,D),M.return=N,M)}function H(N,M,D){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=gs(""+M,N.mode,D),M.return=N,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return D=Uo(M.type,M.key,M.props,null,N.mode,D),Ni(D,M),D.return=N,D;case G:return M=ys(M,N.mode,D),M.return=N,M;case ce:return M=ll(M),H(N,M,D)}if(Qe(M)||fe(M))return M=Wn(M,N.mode,D,null),M.return=N,M;if(typeof M.then=="function")return H(N,zo(M),D);if(M.$$typeof===P)return H(N,Go(N,M),D);Vo(N,M)}return null}function U(N,M,D,q){var ne=M!==null?M.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ne!==null?null:E(N,M,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case R:return D.key===ne?A(N,M,D,q):null;case G:return D.key===ne?I(N,M,D,q):null;case ce:return D=ll(D),U(N,M,D,q)}if(Qe(D)||fe(D))return ne!==null?null:L(N,M,D,q,null);if(typeof D.then=="function")return U(N,M,zo(D),q);if(D.$$typeof===P)return U(N,M,Go(N,D),q);Vo(N,D)}return null}function b(N,M,D,q,ne){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return N=N.get(D)||null,E(M,N,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return N=N.get(q.key===null?D:q.key)||null,A(M,N,q,ne);case G:return N=N.get(q.key===null?D:q.key)||null,I(M,N,q,ne);case ce:return q=ll(q),b(N,M,D,q,ne)}if(Qe(q)||fe(q))return N=N.get(D)||null,L(M,N,q,ne,null);if(typeof q.then=="function")return b(N,M,D,zo(q),ne);if(q.$$typeof===P)return b(N,M,D,Go(M,q),ne);Vo(M,q)}return null}function X(N,M,D,q){for(var ne=null,_e=null,W=M,de=M=0,ve=null;W!==null&&de<D.length;de++){W.index>de?(ve=W,W=null):ve=W.sibling;var Ce=U(N,W,D[de],q);if(Ce===null){W===null&&(W=ve);break}e&&W&&Ce.alternate===null&&t(N,W),M=m(Ce,M,de),_e===null?ne=Ce:_e.sibling=Ce,_e=Ce,W=ve}if(de===D.length)return i(N,W),Te&&nn(N,de),ne;if(W===null){for(;de<D.length;de++)W=H(N,D[de],q),W!==null&&(M=m(W,M,de),_e===null?ne=W:_e.sibling=W,_e=W);return Te&&nn(N,de),ne}for(W=a(W);de<D.length;de++)ve=b(W,N,de,D[de],q),ve!==null&&(e&&ve.alternate!==null&&W.delete(ve.key===null?de:ve.key),M=m(ve,M,de),_e===null?ne=ve:_e.sibling=ve,_e=ve);return e&&W.forEach(function(Yn){return t(N,Yn)}),Te&&nn(N,de),ne}function oe(N,M,D,q){if(D==null)throw Error(s(151));for(var ne=null,_e=null,W=M,de=M=0,ve=null,Ce=D.next();W!==null&&!Ce.done;de++,Ce=D.next()){W.index>de?(ve=W,W=null):ve=W.sibling;var Yn=U(N,W,Ce.value,q);if(Yn===null){W===null&&(W=ve);break}e&&W&&Yn.alternate===null&&t(N,W),M=m(Yn,M,de),_e===null?ne=Yn:_e.sibling=Yn,_e=Yn,W=ve}if(Ce.done)return i(N,W),Te&&nn(N,de),ne;if(W===null){for(;!Ce.done;de++,Ce=D.next())Ce=H(N,Ce.value,q),Ce!==null&&(M=m(Ce,M,de),_e===null?ne=Ce:_e.sibling=Ce,_e=Ce);return Te&&nn(N,de),ne}for(W=a(W);!Ce.done;de++,Ce=D.next())Ce=b(W,N,de,Ce.value,q),Ce!==null&&(e&&Ce.alternate!==null&&W.delete(Ce.key===null?de:Ce.key),M=m(Ce,M,de),_e===null?ne=Ce:_e.sibling=Ce,_e=Ce);return e&&W.forEach(function(Ky){return t(N,Ky)}),Te&&nn(N,de),ne}function Ue(N,M,D,q){if(typeof D=="object"&&D!==null&&D.type===V&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case R:e:{for(var ne=D.key;M!==null;){if(M.key===ne){if(ne=D.type,ne===V){if(M.tag===7){i(N,M.sibling),q=f(M,D.props.children),q.return=N,N=q;break e}}else if(M.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ce&&ll(ne)===M.type){i(N,M.sibling),q=f(M,D.props),Ni(q,D),q.return=N,N=q;break e}i(N,M);break}else t(N,M);M=M.sibling}D.type===V?(q=Wn(D.props.children,N.mode,q,D.key),q.return=N,N=q):(q=Uo(D.type,D.key,D.props,null,N.mode,q),Ni(q,D),q.return=N,N=q)}return v(N);case G:e:{for(ne=D.key;M!==null;){if(M.key===ne)if(M.tag===4&&M.stateNode.containerInfo===D.containerInfo&&M.stateNode.implementation===D.implementation){i(N,M.sibling),q=f(M,D.children||[]),q.return=N,N=q;break e}else{i(N,M);break}else t(N,M);M=M.sibling}q=ys(D,N.mode,q),q.return=N,N=q}return v(N);case ce:return D=ll(D),Ue(N,M,D,q)}if(Qe(D))return X(N,M,D,q);if(fe(D)){if(ne=fe(D),typeof ne!="function")throw Error(s(150));return D=ne.call(D),oe(N,M,D,q)}if(typeof D.then=="function")return Ue(N,M,zo(D),q);if(D.$$typeof===P)return Ue(N,M,Go(N,D),q);Vo(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,M!==null&&M.tag===6?(i(N,M.sibling),q=f(M,D),q.return=N,N=q):(i(N,M),q=gs(D,N.mode,q),q.return=N,N=q),v(N)):i(N,M)}return function(N,M,D,q){try{Ri=0;var ne=Ue(N,M,D,q);return wl=null,ne}catch(W){if(W===bl||W===qo)throw W;var _e=At(29,W,null,N.mode);return _e.lanes=q,_e.return=N,_e}finally{}}}var ol=Vc(!0),Bc=Vc(!1),Rn=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Me&2)!==0){var f=a.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),a.pending=t,t=Io(e),Cc(e,null,i),t}return Do(e,a,t,i),Io(e)}function Di(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Ur(e,i)}}function Us(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var f=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,i=i.next}while(i!==null);m===null?f=m=t:m=m.next=t}else f=m=t;i={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var bs=!1;function Ii(){if(bs){var e=Ul;if(e!==null)throw e}}function Ui(e,t,i,a){bs=!1;var f=e.updateQueue;Rn=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var A=E,I=A.next;A.next=null,v===null?m=I:v.next=I,v=A;var L=e.alternate;L!==null&&(L=L.updateQueue,E=L.lastBaseUpdate,E!==v&&(E===null?L.firstBaseUpdate=I:E.next=I,L.lastBaseUpdate=A))}if(m!==null){var H=f.baseState;v=0,L=I=A=null,E=m;do{var U=E.lane&-536870913,b=U!==E.lane;if(b?(ye&U)===U:(a&U)===U){U!==0&&U===Il&&(bs=!0),L!==null&&(L=L.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var X=e,oe=E;U=t;var Ue=i;switch(oe.tag){case 1:if(X=oe.payload,typeof X=="function"){H=X.call(Ue,H,U);break e}H=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=oe.payload,U=typeof X=="function"?X.call(Ue,H,U):X,U==null)break e;H=S({},H,U);break e;case 2:Rn=!0}}U=E.callback,U!==null&&(e.flags|=64,b&&(e.flags|=8192),b=f.callbacks,b===null?f.callbacks=[U]:b.push(U))}else b={lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},L===null?(I=L=b,A=H):L=L.next=b,v|=U;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;b=E,E=b.next,b.next=null,f.lastBaseUpdate=b,f.shared.pending=null}}while(!0);L===null&&(A=H),f.baseState=A,f.firstBaseUpdate=I,f.lastBaseUpdate=L,m===null&&(f.shared.lanes=0),Gn|=v,e.lanes=v,e.memoizedState=H}}function Pc(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Oc(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Pc(i[e],t)}var Gl=x(null),Bo=x(0);function kc(e,t){e=pn,O(Bo,e),O(Gl,t),pn=e|t.baseLanes}function ws(){O(Bo,pn),O(Gl,Gl.current)}function Gs(){pn=Bo.current,z(Gl),z(Bo)}var Mt=x(null),Vt=null;function In(e){var t=e.alternate;O(Pe,Pe.current&1),O(Mt,e),Vt===null&&(t===null||Gl.current!==null||t.memoizedState!==null)&&(Vt=e)}function Ls(e){O(Pe,Pe.current),O(Mt,e),Vt===null&&(Vt=e)}function Yc(e){e.tag===22?(O(Pe,Pe.current),O(Mt,e),Vt===null&&(Vt=e)):Un()}function Un(){O(Pe,Pe.current),O(Mt,Mt.current)}function xt(e){z(Mt),Vt===e&&(Vt=null),z(Pe)}var Pe=x(0);function Po(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Pu(i)||Ou(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var an=0,re=null,De=null,Je=null,Oo=!1,Ll=!1,al=!1,ko=0,bi=0,ql=null,zg=0;function Ve(){throw Error(s(321))}function qs(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ct(e[i],t[i]))return!1;return!0}function Hs(e,t,i,a,f,m){return an=m,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Nf:Ws,al=!1,m=i(a,f),al=!1,Ll&&(m=Fc(t,i,a,f)),Jc(e),m}function Jc(e){w.H=Li;var t=De!==null&&De.next!==null;if(an=0,Je=De=re=null,Oo=!1,bi=0,ql=null,t)throw Error(s(300));e===null||Fe||(e=e.dependencies,e!==null&&wo(e)&&(Fe=!0))}function Fc(e,t,i,a){re=e;var f=0;do{if(Ll&&(ql=null),bi=0,Ll=!1,25<=f)throw Error(s(301));if(f+=1,Je=De=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}w.H=Df,m=t(i,a)}while(Ll);return m}function Vg(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?wi(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(re.flags|=1024),t}function zs(){var e=ko!==0;return ko=0,e}function Vs(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Bs(e){if(Oo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Oo=!1}an=0,Je=De=re=null,Ll=!1,bi=ko=0,ql=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?re.memoizedState=Je=e:Je=Je.next=e,Je}function Oe(){if(De===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Je===null?re.memoizedState:Je.next;if(t!==null)Je=t,De=e;else{if(e===null)throw re.alternate===null?Error(s(467)):Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Je===null?re.memoizedState=Je=e:Je=Je.next=e}return Je}function Yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wi(e){var t=bi;return bi+=1,ql===null&&(ql=[]),e=qc(ql,e,t),t=re,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Nf:Ws),e}function Jo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wi(e);if(e.$$typeof===P)return tt(e)}throw Error(s(438,String(e)))}function Ps(e){var t=null,i=re.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=re.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Yo(),re.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=ue;return t.index++,i}function sn(e,t){return typeof t=="function"?t(e):t}function Fo(e){var t=Oe();return Os(t,De,e)}function Os(e,t,i){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var f=e.baseQueue,m=a.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}t.baseQueue=f=m,a.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{t=f.next;var E=v=null,A=null,I=t,L=!1;do{var H=I.lane&-536870913;if(H!==I.lane?(ye&H)===H:(an&H)===H){var U=I.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),H===Il&&(L=!0);else if((an&U)===U){I=I.next,U===Il&&(L=!0);continue}else H={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(E=A=H,v=m):A=A.next=H,re.lanes|=U,Gn|=U;H=I.action,al&&i(m,H),m=I.hasEagerState?I.eagerState:i(m,H)}else U={lane:H,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(E=A=U,v=m):A=A.next=U,re.lanes|=H,Gn|=H;I=I.next}while(I!==null&&I!==t);if(A===null?v=m:A.next=E,!Ct(m,e.memoizedState)&&(Fe=!0,L&&(i=Ul,i!==null)))throw i;e.memoizedState=m,e.baseState=v,e.baseQueue=A,a.lastRenderedState=m}return f===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ks(e){var t=Oe(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=i.dispatch,f=i.pending,m=t.memoizedState;if(f!==null){i.pending=null;var v=f=f.next;do m=e(m,v.action),v=v.next;while(v!==f);Ct(m,t.memoizedState)||(Fe=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),i.lastRenderedState=m}return[m,a]}function Xc(e,t,i){var a=re,f=Oe(),m=Te;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=t();var v=!Ct((De||f).memoizedState,i);if(v&&(f.memoizedState=i,Fe=!0),f=f.queue,Fs(Zc.bind(null,a,f,e),[e]),f.getSnapshot!==t||v||Je!==null&&Je.memoizedState.tag&1){if(a.flags|=2048,Hl(9,{destroy:void 0},Qc.bind(null,a,f,i,t),null),be===null)throw Error(s(349));m||(an&127)!==0||Kc(a,t,i)}return i}function Kc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=re.updateQueue,t===null?(t=Yo(),re.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Qc(e,t,i,a){t.value=i,t.getSnapshot=a,$c(t)&&Wc(e)}function Zc(e,t,i){return i(function(){$c(t)&&Wc(e)})}function $c(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ct(e,i)}catch{return!0}}function Wc(e){var t=$n(e,2);t!==null&&St(t,e,2)}function Ys(e){var t=ft();if(typeof e=="function"){var i=e;if(e=i(),al){Sn(!0);try{i()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:e},t}function jc(e,t,i,a){return e.baseState=i,Os(e,De,typeof a=="function"?a:sn)}function Bg(e,t,i,a,f){if(Qo(e))throw Error(s(485));if(e=t.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};w.T!==null?i(!0):m.isTransition=!1,a(m),i=t.pending,i===null?(m.next=t.pending=m,ef(t,m)):(m.next=i.next,t.pending=i.next=m)}}function ef(e,t){var i=t.action,a=t.payload,f=e.state;if(t.isTransition){var m=w.T,v={};w.T=v;try{var E=i(f,a),A=w.S;A!==null&&A(v,E),tf(e,t,E)}catch(I){Js(e,t,I)}finally{m!==null&&v.types!==null&&(m.types=v.types),w.T=m}}else try{m=i(f,a),tf(e,t,m)}catch(I){Js(e,t,I)}}function tf(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){nf(e,t,a)},function(a){return Js(e,t,a)}):nf(e,t,i)}function nf(e,t,i){t.status="fulfilled",t.value=i,lf(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,ef(e,i)))}function Js(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,lf(t),t=t.next;while(t!==a)}e.action=null}function lf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function of(e,t){return t}function af(e,t){if(Te){var i=be.formState;if(i!==null){e:{var a=re;if(Te){if(we){t:{for(var f=we,m=zt;f.nodeType!==8;){if(!m){f=null;break t}if(f=Bt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){we=Bt(f.nextSibling),a=f.data==="F!";break e}}Mn(a)}a=!1}a&&(t=i[0])}}return i=ft(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:of,lastRenderedState:t},i.queue=a,i=Mf.bind(null,re,a),a.dispatch=i,a=Ys(!1),m=$s.bind(null,re,!1,a.queue),a=ft(),f={state:t,dispatch:null,action:e,pending:null},a.queue=f,i=Bg.bind(null,re,f,m,i),f.dispatch=i,a.memoizedState=e,[t,i,!1]}function sf(e){var t=Oe();return uf(t,De,e)}function uf(e,t,i){if(t=Os(e,t,of)[0],e=Fo(sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=wi(t)}catch(v){throw v===bl?qo:v}else a=t;t=Oe();var f=t.queue,m=f.dispatch;return i!==t.memoizedState&&(re.flags|=2048,Hl(9,{destroy:void 0},Pg.bind(null,f,i),null)),[a,m,e]}function Pg(e,t){e.action=t}function rf(e){var t=Oe(),i=De;if(i!==null)return uf(t,i,e);Oe(),t=t.memoizedState,i=Oe();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function Hl(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=re.updateQueue,t===null&&(t=Yo(),re.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function cf(){return Oe().memoizedState}function Xo(e,t,i,a){var f=ft();re.flags|=e,f.memoizedState=Hl(1|t,{destroy:void 0},i,a===void 0?null:a)}function Ko(e,t,i,a){var f=Oe();a=a===void 0?null:a;var m=f.memoizedState.inst;De!==null&&a!==null&&qs(a,De.memoizedState.deps)?f.memoizedState=Hl(t,m,i,a):(re.flags|=e,f.memoizedState=Hl(1|t,m,i,a))}function ff(e,t){Xo(8390656,8,e,t)}function Fs(e,t){Ko(2048,8,e,t)}function Og(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=Yo(),re.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function df(e){var t=Oe().memoizedState;return Og({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function mf(e,t){return Ko(4,2,e,t)}function pf(e,t){return Ko(4,4,e,t)}function hf(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gf(e,t,i){i=i!=null?i.concat([e]):null,Ko(4,4,hf.bind(null,t,e),i)}function Xs(){}function yf(e,t){var i=Oe();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&qs(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function vf(e,t){var i=Oe();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&qs(t,a[1]))return a[0];if(a=e(),al){Sn(!0);try{e()}finally{Sn(!1)}}return i.memoizedState=[a,t],a}function Ks(e,t,i){return i===void 0||(an&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Td(),re.lanes|=e,Gn|=e,i)}function Tf(e,t,i,a){return Ct(i,t)?i:Gl.current!==null?(e=Ks(e,i,a),Ct(e,t)||(Fe=!0),e):(an&42)===0||(an&1073741824)!==0&&(ye&261930)===0?(Fe=!0,e.memoizedState=i):(e=Td(),re.lanes|=e,Gn|=e,t)}function Sf(e,t,i,a,f){var m=B.p;B.p=m!==0&&8>m?m:8;var v=w.T,E={};w.T=E,$s(e,!1,t,i);try{var A=f(),I=w.S;if(I!==null&&I(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var L=Hg(A,a);Gi(e,t,L,Dt(e))}else Gi(e,t,a,Dt(e))}catch(H){Gi(e,t,{then:function(){},status:"rejected",reason:H},Dt())}finally{B.p=m,v!==null&&E.types!==null&&(v.types=E.types),w.T=v}}function kg(){}function Qs(e,t,i,a){if(e.tag!==5)throw Error(s(476));var f=Ef(e).queue;Sf(e,f,t,ie,i===null?kg:function(){return _f(e),i(a)})}function Ef(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:ie},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _f(e){var t=Ef(e);t.next===null&&(t=e.alternate.memoizedState),Gi(e,t.next.queue,{},Dt())}function Zs(){return tt($i)}function Cf(){return Oe().memoizedState}function Af(){return Oe().memoizedState}function Yg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Dt();e=Nn(i);var a=Dn(t,e,i);a!==null&&(St(a,t,i),Di(a,t,i)),t={cache:Ms()},e.payload=t;return}t=t.return}}function Jg(e,t,i){var a=Dt();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Qo(e)?xf(t,i):(i=ps(e,t,i,a),i!==null&&(St(i,e,a),Rf(i,t,a)))}function Mf(e,t,i){var a=Dt();Gi(e,t,i,a)}function Gi(e,t,i,a){var f={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))xf(t,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var v=t.lastRenderedState,E=m(v,i);if(f.hasEagerState=!0,f.eagerState=E,Ct(E,v))return Do(e,t,f,0),be===null&&No(),!1}catch{}finally{}if(i=ps(e,t,f,a),i!==null)return St(i,e,a),Rf(i,t,a),!0}return!1}function $s(e,t,i,a){if(a={lane:2,revertLane:Du(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Qo(e)){if(t)throw Error(s(479))}else t=ps(e,i,a,2),t!==null&&St(t,e,2)}function Qo(e){var t=e.alternate;return e===re||t!==null&&t===re}function xf(e,t){Ll=Oo=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Rf(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Ur(e,i)}}var Li={readContext:tt,use:Jo,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Li.useEffectEvent=Ve;var Nf={readContext:tt,use:Jo,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:ff,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Xo(4194308,4,hf.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Xo(4194308,4,e,t)},useInsertionEffect:function(e,t){Xo(4,2,e,t)},useMemo:function(e,t){var i=ft();t=t===void 0?null:t;var a=e();if(al){Sn(!0);try{e()}finally{Sn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=ft();if(i!==void 0){var f=i(t);if(al){Sn(!0);try{i(t)}finally{Sn(!1)}}}else f=t;return a.memoizedState=a.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},a.queue=e,e=e.dispatch=Jg.bind(null,re,e),[a.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Ys(e);var t=e.queue,i=Mf.bind(null,re,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Xs,useDeferredValue:function(e,t){var i=ft();return Ks(i,e,t)},useTransition:function(){var e=Ys(!1);return e=Sf.bind(null,re,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=re,f=ft();if(Te){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),be===null)throw Error(s(349));(ye&127)!==0||Kc(a,t,i)}f.memoizedState=i;var m={value:i,getSnapshot:t};return f.queue=m,ff(Zc.bind(null,a,m,e),[e]),a.flags|=2048,Hl(9,{destroy:void 0},Qc.bind(null,a,m,i,t),null),i},useId:function(){var e=ft(),t=be.identifierPrefix;if(Te){var i=Kt,a=Xt;i=(a&~(1<<32-_t(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=ko++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=zg++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Zs,useFormState:af,useActionState:af,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=$s.bind(null,re,!0,i),i.dispatch=t,[e,t]},useMemoCache:Ps,useCacheRefresh:function(){return ft().memoizedState=Yg.bind(null,re)},useEffectEvent:function(e){var t=ft(),i={impl:e};return t.memoizedState=i,function(){if((Me&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Ws={readContext:tt,use:Jo,useCallback:yf,useContext:tt,useEffect:Fs,useImperativeHandle:gf,useInsertionEffect:mf,useLayoutEffect:pf,useMemo:vf,useReducer:Fo,useRef:cf,useState:function(){return Fo(sn)},useDebugValue:Xs,useDeferredValue:function(e,t){var i=Oe();return Tf(i,De.memoizedState,e,t)},useTransition:function(){var e=Fo(sn)[0],t=Oe().memoizedState;return[typeof e=="boolean"?e:wi(e),t]},useSyncExternalStore:Xc,useId:Cf,useHostTransitionStatus:Zs,useFormState:sf,useActionState:sf,useOptimistic:function(e,t){var i=Oe();return jc(i,De,e,t)},useMemoCache:Ps,useCacheRefresh:Af};Ws.useEffectEvent=df;var Df={readContext:tt,use:Jo,useCallback:yf,useContext:tt,useEffect:Fs,useImperativeHandle:gf,useInsertionEffect:mf,useLayoutEffect:pf,useMemo:vf,useReducer:ks,useRef:cf,useState:function(){return ks(sn)},useDebugValue:Xs,useDeferredValue:function(e,t){var i=Oe();return De===null?Ks(i,e,t):Tf(i,De.memoizedState,e,t)},useTransition:function(){var e=ks(sn)[0],t=Oe().memoizedState;return[typeof e=="boolean"?e:wi(e),t]},useSyncExternalStore:Xc,useId:Cf,useHostTransitionStatus:Zs,useFormState:rf,useActionState:rf,useOptimistic:function(e,t){var i=Oe();return De!==null?jc(i,De,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ps,useCacheRefresh:Af};Df.useEffectEvent=df;function js(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var eu={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Dt(),f=Nn(a);f.payload=t,i!=null&&(f.callback=i),t=Dn(e,f,a),t!==null&&(St(t,e,a),Di(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Dt(),f=Nn(a);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=Dn(e,f,a),t!==null&&(St(t,e,a),Di(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Dt(),a=Nn(i);a.tag=2,t!=null&&(a.callback=t),t=Dn(e,a,i),t!==null&&(St(t,e,i),Di(t,e,i))}};function If(e,t,i,a,f,m,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,v):t.prototype&&t.prototype.isPureReactComponent?!Ei(i,a)||!Ei(f,m):!0}function Uf(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&eu.enqueueReplaceState(t,t.state,null)}function sl(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function bf(e){Ro(e)}function wf(e){console.error(e)}function Gf(e){Ro(e)}function Zo(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Lf(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function tu(e,t,i){return i=Nn(i),i.tag=3,i.payload={element:null},i.callback=function(){Zo(e,t)},i}function qf(e){return e=Nn(e),e.tag=3,e}function Hf(e,t,i,a){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;e.payload=function(){return f(m)},e.callback=function(){Lf(t,i,a)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Lf(t,i,a),typeof f!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function Fg(e,t,i,a,f){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&Dl(t,i,f,!0),i=Mt.current,i!==null){switch(i.tag){case 31:case 13:return Vt===null?ua():i.alternate===null&&Be===0&&(Be=3),i.flags&=-257,i.flags|=65536,i.lanes=f,a===Ho?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),xu(e,a,f)),!1;case 22:return i.flags|=65536,a===Ho?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),xu(e,a,f)),!1}throw Error(s(435,i.tag))}return xu(e,a,f),ua(),!1}if(Te)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,a!==Ss&&(e=Error(s(422),{cause:a}),Ai(Lt(e,i)))):(a!==Ss&&(t=Error(s(423),{cause:a}),Ai(Lt(t,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,a=Lt(a,i),f=tu(e.stateNode,a,f),Us(e,f),Be!==4&&(Be=2)),!1;var m=Error(s(520),{cause:a});if(m=Lt(m,i),ki===null?ki=[m]:ki.push(m),Be!==4&&(Be=2),t===null)return!0;a=Lt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=tu(i.stateNode,a,e),Us(i,e),!1;case 1:if(t=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ln===null||!Ln.has(m))))return i.flags|=65536,f&=-f,i.lanes|=f,f=qf(f),Hf(f,e,i,a),Us(i,f),!1}i=i.return}while(i!==null);return!1}var nu=Error(s(461)),Fe=!1;function nt(e,t,i,a){t.child=e===null?Bc(t,null,i,a):ol(t,e.child,i,a)}function zf(e,t,i,a,f){i=i.render;var m=t.ref;if("ref"in a){var v={};for(var E in a)E!=="ref"&&(v[E]=a[E])}else v=a;return tl(t),a=Hs(e,t,i,v,m,f),E=zs(),e!==null&&!Fe?(Vs(e,t,f),un(e,t,f)):(Te&&E&&vs(t),t.flags|=1,nt(e,t,a,f),t.child)}function Vf(e,t,i,a,f){if(e===null){var m=i.type;return typeof m=="function"&&!hs(m)&&m.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=m,Bf(e,t,m,a,f)):(e=Uo(i.type,null,a,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!cu(e,f)){var v=m.memoizedProps;if(i=i.compare,i=i!==null?i:Ei,i(v,a)&&e.ref===t.ref)return un(e,t,f)}return t.flags|=1,e=tn(m,a),e.ref=t.ref,e.return=t,t.child=e}function Bf(e,t,i,a,f){if(e!==null){var m=e.memoizedProps;if(Ei(m,a)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=a=m,cu(e,f))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,un(e,t,f)}return lu(e,t,i,a,f)}function Pf(e,t,i,a){var f=a.children,m=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,e!==null){for(a=t.child=e.child,f=0;a!==null;)f=f|a.lanes|a.childLanes,a=a.sibling;a=f&~m}else a=0,t.child=null;return Of(e,t,m,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lo(t,m!==null?m.cachePool:null),m!==null?kc(t,m):ws(),Yc(t);else return a=t.lanes=536870912,Of(e,t,m!==null?m.baseLanes|i:i,i,a)}else m!==null?(Lo(t,m.cachePool),kc(t,m),Un(),t.memoizedState=null):(e!==null&&Lo(t,null),ws(),Un());return nt(e,t,f,i),t.child}function qi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Of(e,t,i,a,f){var m=Rs();return m=m===null?null:{parent:Ye._currentValue,pool:m},t.memoizedState={baseLanes:i,cachePool:m},e!==null&&Lo(t,null),ws(),Yc(t),e!==null&&Dl(e,t,a,!0),t.childLanes=f,null}function $o(e,t){return t=jo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function kf(e,t,i){return ol(t,e.child,null,i),e=$o(t,t.pendingProps),e.flags|=2,xt(t),t.memoizedState=null,e}function Xg(e,t,i){var a=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Te){if(a.mode==="hidden")return e=$o(t,a),t.lanes=536870912,qi(null,e);if(Ls(t),(e=we)?(e=tm(e,zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:Xt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},i=Mc(e),i.return=t,t.child=i,et=t,we=null)):e=null,e===null)throw Mn(t);return t.lanes=536870912,null}return $o(t,a)}var m=e.memoizedState;if(m!==null){var v=m.dehydrated;if(Ls(t),f)if(t.flags&256)t.flags&=-257,t=kf(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Fe||Dl(e,t,i,!1),f=(i&e.childLanes)!==0,Fe||f){if(a=be,a!==null&&(v=br(a,i),v!==0&&v!==m.retryLane))throw m.retryLane=v,$n(e,v),St(a,e,v),nu;ua(),t=kf(e,t,i)}else e=m.treeContext,we=Bt(v.nextSibling),et=t,Te=!0,An=null,zt=!1,e!==null&&Nc(t,e),t=$o(t,a),t.flags|=4096;return t}return e=tn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Wo(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function lu(e,t,i,a,f){return tl(t),i=Hs(e,t,i,a,void 0,f),a=zs(),e!==null&&!Fe?(Vs(e,t,f),un(e,t,f)):(Te&&a&&vs(t),t.flags|=1,nt(e,t,i,f),t.child)}function Yf(e,t,i,a,f,m){return tl(t),t.updateQueue=null,i=Fc(t,a,i,f),Jc(e),a=zs(),e!==null&&!Fe?(Vs(e,t,m),un(e,t,m)):(Te&&a&&vs(t),t.flags|=1,nt(e,t,i,m),t.child)}function Jf(e,t,i,a,f){if(tl(t),t.stateNode===null){var m=Ml,v=i.contextType;typeof v=="object"&&v!==null&&(m=tt(v)),m=new i(a,m),t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=eu,t.stateNode=m,m._reactInternals=t,m=t.stateNode,m.props=a,m.state=t.memoizedState,m.refs={},Ds(t),v=i.contextType,m.context=typeof v=="object"&&v!==null?tt(v):Ml,m.state=t.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(js(t,i,v,a),m.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&eu.enqueueReplaceState(m,m.state,null),Ui(t,a,m,f),Ii(),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){m=t.stateNode;var E=t.memoizedProps,A=sl(i,E);m.props=A;var I=m.context,L=i.contextType;v=Ml,typeof L=="object"&&L!==null&&(v=tt(L));var H=i.getDerivedStateFromProps;L=typeof H=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,L||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||I!==v)&&Uf(t,m,a,v),Rn=!1;var U=t.memoizedState;m.state=U,Ui(t,a,m,f),Ii(),I=t.memoizedState,E||U!==I||Rn?(typeof H=="function"&&(js(t,i,H,a),I=t.memoizedState),(A=Rn||If(t,i,A,a,U,I,v))?(L||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=I),m.props=a,m.state=I,m.context=v,a=A):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{m=t.stateNode,Is(e,t),v=t.memoizedProps,L=sl(i,v),m.props=L,H=t.pendingProps,U=m.context,I=i.contextType,A=Ml,typeof I=="object"&&I!==null&&(A=tt(I)),E=i.getDerivedStateFromProps,(I=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==H||U!==A)&&Uf(t,m,a,A),Rn=!1,U=t.memoizedState,m.state=U,Ui(t,a,m,f),Ii();var b=t.memoizedState;v!==H||U!==b||Rn||e!==null&&e.dependencies!==null&&wo(e.dependencies)?(typeof E=="function"&&(js(t,i,E,a),b=t.memoizedState),(L=Rn||If(t,i,L,a,U,b,A)||e!==null&&e.dependencies!==null&&wo(e.dependencies))?(I||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,b,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,b,A)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=b),m.props=a,m.state=b,m.context=A,a=L):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),a=!1)}return m=a,Wo(e,t),a=(t.flags&128)!==0,m||a?(m=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:m.render(),t.flags|=1,e!==null&&a?(t.child=ol(t,e.child,null,f),t.child=ol(t,null,i,f)):nt(e,t,i,f),t.memoizedState=m.state,e=t.child):e=un(e,t,f),e}function Ff(e,t,i,a){return jn(),t.flags|=256,nt(e,t,i,a),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ou(e){return{baseLanes:e,cachePool:Gc()}}function au(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Nt),e}function Xf(e,t,i){var a=t.pendingProps,f=!1,m=(t.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),v&&(f=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(f?In(t):Un(),(e=we)?(e=tm(e,zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cn!==null?{id:Xt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},i=Mc(e),i.return=t,t.child=i,et=t,we=null)):e=null,e===null)throw Mn(t);return Ou(e)?t.lanes=32:t.lanes=536870912,null}var E=a.children;return a=a.fallback,f?(Un(),f=t.mode,E=jo({mode:"hidden",children:E},f),a=Wn(a,f,i,null),E.return=t,a.return=t,E.sibling=a,t.child=E,a=t.child,a.memoizedState=ou(i),a.childLanes=au(e,v,i),t.memoizedState=iu,qi(null,a)):(In(t),su(t,E))}var A=e.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(m)t.flags&256?(In(t),t.flags&=-257,t=uu(e,t,i)):t.memoizedState!==null?(Un(),t.child=e.child,t.flags|=128,t=null):(Un(),E=a.fallback,f=t.mode,a=jo({mode:"visible",children:a.children},f),E=Wn(E,f,i,null),E.flags|=2,a.return=t,E.return=t,a.sibling=E,t.child=a,ol(t,e.child,null,i),a=t.child,a.memoizedState=ou(i),a.childLanes=au(e,v,i),t.memoizedState=iu,t=qi(null,a));else if(In(t),Ou(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var I=v.dgst;v=I,a=Error(s(419)),a.stack="",a.digest=v,Ai({value:a,source:null,stack:null}),t=uu(e,t,i)}else if(Fe||Dl(e,t,i,!1),v=(i&e.childLanes)!==0,Fe||v){if(v=be,v!==null&&(a=br(v,i),a!==0&&a!==A.retryLane))throw A.retryLane=a,$n(e,a),St(v,e,a),nu;Pu(E)||ua(),t=uu(e,t,i)}else Pu(E)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,we=Bt(E.nextSibling),et=t,Te=!0,An=null,zt=!1,e!==null&&Nc(t,e),t=su(t,a.children),t.flags|=4096);return t}return f?(Un(),E=a.fallback,f=t.mode,A=e.child,I=A.sibling,a=tn(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,I!==null?E=tn(I,E):(E=Wn(E,f,i,null),E.flags|=2),E.return=t,a.return=t,a.sibling=E,t.child=a,qi(null,a),a=t.child,E=e.child.memoizedState,E===null?E=ou(i):(f=E.cachePool,f!==null?(A=Ye._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=Gc(),E={baseLanes:E.baseLanes|i,cachePool:f}),a.memoizedState=E,a.childLanes=au(e,v,i),t.memoizedState=iu,qi(e.child,a)):(In(t),i=e.child,e=i.sibling,i=tn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=i,t.memoizedState=null,i)}function su(e,t){return t=jo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function jo(e,t){return e=At(22,e,null,t),e.lanes=0,e}function uu(e,t,i){return ol(t,e.child,null,i),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kf(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Cs(e.return,t,i)}function ru(e,t,i,a,f,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:f,treeForkCount:m}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=a,v.tail=i,v.tailMode=f,v.treeForkCount=m)}function Qf(e,t,i){var a=t.pendingProps,f=a.revealOrder,m=a.tail;a=a.children;var v=Pe.current,E=(v&2)!==0;if(E?(v=v&1|2,t.flags|=128):v&=1,O(Pe,v),nt(e,t,a,i),a=Te?Ci:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kf(e,i,t);else if(e.tag===19)Kf(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=t.child,f=null;i!==null;)e=i.alternate,e!==null&&Po(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=t.child,t.child=null):(f=i.sibling,i.sibling=null),ru(t,!1,f,i,m,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Po(e)===null){t.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}ru(t,!0,i,null,m,a);break;case"together":ru(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function un(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Dl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=tn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=tn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function cu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wo(e)))}function Kg(e,t,i){switch(t.tag){case 3:Ze(t,t.stateNode.containerInfo),xn(t,Ye,e.memoizedState.cache),jn();break;case 27:case 5:vn(t);break;case 4:Ze(t,t.stateNode.containerInfo);break;case 10:xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ls(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(In(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Xf(e,t,i):(In(t),e=un(e,t,i),e!==null?e.sibling:null);In(t);break;case 19:var f=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(Dl(e,t,i,!1),a=(i&t.childLanes)!==0),f){if(a)return Qf(e,t,i);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),O(Pe,Pe.current),a)break;return null;case 22:return t.lanes=0,Pf(e,t,i,t.pendingProps);case 24:xn(t,Ye,e.memoizedState.cache)}return un(e,t,i)}function Zf(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!cu(e,i)&&(t.flags&128)===0)return Fe=!1,Kg(e,t,i);Fe=(e.flags&131072)!==0}else Fe=!1,Te&&(t.flags&1048576)!==0&&Rc(t,Ci,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ll(t.elementType),t.type=e,typeof e=="function")hs(e)?(a=sl(e,a),t.tag=1,t=Jf(null,t,e,a,i)):(t.tag=0,t=lu(null,t,e,a,i));else{if(e!=null){var f=e.$$typeof;if(f===Z){t.tag=11,t=zf(null,t,e,a,i);break e}else if(f===k){t.tag=14,t=Vf(null,t,e,a,i);break e}}throw t=dt(e)||e,Error(s(306,t,""))}}return t;case 0:return lu(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,f=sl(a,t.pendingProps),Jf(e,t,a,f,i);case 3:e:{if(Ze(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var m=t.memoizedState;f=m.element,Is(e,t),Ui(t,a,null,i);var v=t.memoizedState;if(a=v.cache,xn(t,Ye,a),a!==m.cache&&As(t,[Ye],i,!0),Ii(),a=v.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){t=Ff(e,t,a,i);break e}else if(a!==f){f=Lt(Error(s(424)),t),Ai(f),t=Ff(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(we=Bt(e.firstChild),et=t,Te=!0,An=null,zt=!0,i=Bc(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(jn(),a===f){t=un(e,t,i);break e}nt(e,t,a,i)}t=t.child}return t;case 26:return Wo(e,t),e===null?(i=sm(t.type,null,t.pendingProps,null))?t.memoizedState=i:Te||(i=t.type,e=t.pendingProps,a=ha(me.current).createElement(i),a[je]=t,a[pt]=e,lt(a,i,e),$e(a),t.stateNode=a):t.memoizedState=sm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vn(t),e===null&&Te&&(a=t.stateNode=im(t.type,t.pendingProps,me.current),et=t,zt=!0,f=we,Vn(t.type)?(ku=f,we=Bt(a.firstChild)):we=f),nt(e,t,t.pendingProps.children,i),Wo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((f=a=we)&&(a=Ay(a,t.type,t.pendingProps,zt),a!==null?(t.stateNode=a,et=t,we=Bt(a.firstChild),zt=!1,f=!0):f=!1),f||Mn(t)),vn(t),f=t.type,m=t.pendingProps,v=e!==null?e.memoizedProps:null,a=m.children,zu(f,m)?a=null:v!==null&&zu(f,v)&&(t.flags|=32),t.memoizedState!==null&&(f=Hs(e,t,Vg,null,null,i),$i._currentValue=f),Wo(e,t),nt(e,t,a,i),t.child;case 6:return e===null&&Te&&((e=i=we)&&(i=My(i,t.pendingProps,zt),i!==null?(t.stateNode=i,et=t,we=null,e=!0):e=!1),e||Mn(t)),null;case 13:return Xf(e,t,i);case 4:return Ze(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ol(t,null,a,i):nt(e,t,a,i),t.child;case 11:return zf(e,t,t.type,t.pendingProps,i);case 7:return nt(e,t,t.pendingProps,i),t.child;case 8:return nt(e,t,t.pendingProps.children,i),t.child;case 12:return nt(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,xn(t,t.type,a.value),nt(e,t,a.children,i),t.child;case 9:return f=t.type._context,a=t.pendingProps.children,tl(t),f=tt(f),a=a(f),t.flags|=1,nt(e,t,a,i),t.child;case 14:return Vf(e,t,t.type,t.pendingProps,i);case 15:return Bf(e,t,t.type,t.pendingProps,i);case 19:return Qf(e,t,i);case 31:return Xg(e,t,i);case 22:return Pf(e,t,i,t.pendingProps);case 24:return tl(t),a=tt(Ye),e===null?(f=Rs(),f===null&&(f=be,m=Ms(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=i),f=m),t.memoizedState={parent:a,cache:f},Ds(t),xn(t,Ye,f)):((e.lanes&i)!==0&&(Is(e,t),Ui(t,null,null,i),Ii()),f=e.memoizedState,m=t.memoizedState,f.parent!==a?(f={parent:a,cache:a},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),xn(t,Ye,a)):(a=m.cache,xn(t,Ye,a),a!==f.cache&&As(t,[Ye],i,!0))),nt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function rn(e){e.flags|=4}function fu(e,t,i,a,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Cd())e.flags|=8192;else throw il=Ho,Ns}else e.flags&=-16777217}function $f(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dm(t))if(Cd())e.flags|=8192;else throw il=Ho,Ns}function ea(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dr():536870912,e.lanes|=t,Pl|=t)}function Hi(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Qg(e,t,i){var a=t.pendingProps;switch(Ts(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),on(Ye),He(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Nl(t)?rn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Es())),Ge(t),null;case 26:var f=t.type,m=t.memoizedState;return e===null?(rn(t),m!==null?(Ge(t),$f(t,m)):(Ge(t),fu(t,f,null,a,i))):m?m!==e.memoizedState?(rn(t),Ge(t),$f(t,m)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&rn(t),Ge(t),fu(t,f,e,a,i)),null;case 27:if(ee(t),i=me.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&rn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ge(t),null}e=K.current,Nl(t)?Dc(t):(e=im(f,a,i),t.stateNode=e,rn(t))}return Ge(t),null;case 5:if(ee(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&rn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ge(t),null}if(m=K.current,Nl(t))Dc(t);else{var v=ha(me.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof a.is=="string"?v.createElement("select",{is:a.is}):v.createElement("select"),a.multiple?m.multiple=!0:a.size&&(m.size=a.size);break;default:m=typeof a.is=="string"?v.createElement(f,{is:a.is}):v.createElement(f)}}m[je]=t,m[pt]=a;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=m;e:switch(lt(m,f,a),f){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&rn(t)}}return Ge(t),fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&rn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=me.current,Nl(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,f=et,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}e[je]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||Xd(e.nodeValue,i)),e||Mn(t,!0)}else e=ha(e).createTextNode(a),e[je]=t,t.stateNode=e}return Ge(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=Nl(t),i!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[je]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else i=Es(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(xt(t),t):(xt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ge(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Nl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[je]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),f=!1}else f=Es(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(xt(t),t):(xt(t),null)}return xt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==f&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),ea(t,t.updateQueue),Ge(t),null);case 4:return He(),e===null&&wu(t.stateNode.containerInfo),Ge(t),null;case 10:return on(t.type),Ge(t),null;case 19:if(z(Pe),a=t.memoizedState,a===null)return Ge(t),null;if(f=(t.flags&128)!==0,m=a.rendering,m===null)if(f)Hi(a,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Po(e),m!==null){for(t.flags|=128,Hi(a,!1),e=m.updateQueue,t.updateQueue=e,ea(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Ac(i,e),i=i.sibling;return O(Pe,Pe.current&1|2),Te&&nn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&ct()>oa&&(t.flags|=128,f=!0,Hi(a,!1),t.lanes=4194304)}else{if(!f)if(e=Po(m),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,ea(t,e),Hi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!m.alternate&&!Te)return Ge(t),null}else 2*ct()-a.renderingStartTime>oa&&i!==536870912&&(t.flags|=128,f=!0,Hi(a,!1),t.lanes=4194304);a.isBackwards?(m.sibling=t.child,t.child=m):(e=a.last,e!==null?e.sibling=m:t.child=m,a.last=m)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ct(),e.sibling=null,i=Pe.current,O(Pe,f?i&1|2:i&1),Te&&nn(t,a.treeForkCount),e):(Ge(t),null);case 22:case 23:return xt(t),Gs(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),i=t.updateQueue,i!==null&&ea(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&z(nl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),on(Ye),Ge(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Zg(e,t){switch(Ts(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return on(Ye),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ee(t),null;case 31:if(t.memoizedState!==null){if(xt(t),t.alternate===null)throw Error(s(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(Pe),null;case 4:return He(),null;case 10:return on(t.type),null;case 22:case 23:return xt(t),Gs(),e!==null&&z(nl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return on(Ye),null;case 25:return null;default:return null}}function Wf(e,t){switch(Ts(t),t.tag){case 3:on(Ye),He();break;case 26:case 27:case 5:ee(t);break;case 4:He();break;case 31:t.memoizedState!==null&&xt(t);break;case 13:xt(t);break;case 19:z(Pe);break;case 10:on(t.type);break;case 22:case 23:xt(t),Gs(),e!==null&&z(nl);break;case 24:on(Ye)}}function zi(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var f=a.next;i=f;do{if((i.tag&e)===e){a=void 0;var m=i.create,v=i.inst;a=m(),v.destroy=a}i=i.next}while(i!==f)}}catch(E){Ne(t,t.return,E)}}function bn(e,t,i){try{var a=t.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var m=f.next;a=m;do{if((a.tag&e)===e){var v=a.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=t;var A=i,I=E;try{I()}catch(L){Ne(f,A,L)}}}a=a.next}while(a!==m)}}catch(L){Ne(t,t.return,L)}}function jf(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Oc(t,i)}catch(a){Ne(e,e.return,a)}}}function ed(e,t,i){i.props=sl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Ne(e,t,a)}}function Vi(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(f){Ne(e,t,f)}}function Qt(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(f){Ne(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Ne(e,t,f)}else i.current=null}function td(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(f){Ne(e,e.return,f)}}function du(e,t,i){try{var a=e.stateNode;vy(a,e.type,i,t),a[pt]=t}catch(f){Ne(e,e.return,f)}}function nd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vn(e.type)||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=jt));else if(a!==4&&(a===27&&Vn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(pu(e,t,i),e=e.sibling;e!==null;)pu(e,t,i),e=e.sibling}function ta(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&Vn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ta(e,t,i),e=e.sibling;e!==null;)ta(e,t,i),e=e.sibling}function ld(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);lt(t,a,i),t[je]=e,t[pt]=i}catch(m){Ne(e,e.return,m)}}var cn=!1,Xe=!1,hu=!1,id=typeof WeakSet=="function"?WeakSet:Set,We=null;function $g(e,t){if(e=e.containerInfo,qu=_a,e=hc(e),us(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var f=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var v=0,E=-1,A=-1,I=0,L=0,H=e,U=null;t:for(;;){for(var b;H!==i||f!==0&&H.nodeType!==3||(E=v+f),H!==m||a!==0&&H.nodeType!==3||(A=v+a),H.nodeType===3&&(v+=H.nodeValue.length),(b=H.firstChild)!==null;)U=H,H=b;for(;;){if(H===e)break t;if(U===i&&++I===f&&(E=v),U===m&&++L===a&&(A=v),(b=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=b}i=E===-1||A===-1?null:{start:E,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(Hu={focusedElem:e,selectionRange:i},_a=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){switch(t=We,m=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,i=t,f=m.memoizedProps,m=m.memoizedState,a=i.stateNode;try{var X=sl(i.type,f);e=a.getSnapshotBeforeUpdate(X,m),a.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ne(i,i.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Bu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}}function od(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:dn(e,i),a&4&&zi(5,i);break;case 1:if(dn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(v){Ne(i,i.return,v)}else{var f=sl(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Ne(i,i.return,v)}}a&64&&jf(i),a&512&&Vi(i,i.return);break;case 3:if(dn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Oc(e,t)}catch(v){Ne(i,i.return,v)}}break;case 27:t===null&&a&4&&ld(i);case 26:case 5:dn(e,i),t===null&&a&4&&td(i),a&512&&Vi(i,i.return);break;case 12:dn(e,i);break;case 31:dn(e,i),a&4&&ud(e,i);break;case 13:dn(e,i),a&4&&rd(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=ay.bind(null,i),xy(e,i))));break;case 22:if(a=i.memoizedState!==null||cn,!a){t=t!==null&&t.memoizedState!==null||Xe,f=cn;var m=Xe;cn=a,(Xe=t)&&!m?mn(e,i,(i.subtreeFlags&8772)!==0):dn(e,i),cn=f,Xe=m}break;case 30:break;default:dn(e,i)}}function ad(e){var t=e.alternate;t!==null&&(e.alternate=null,ad(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ja(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,gt=!1;function fn(e,t,i){for(i=i.child;i!==null;)sd(e,t,i),i=i.sibling}function sd(e,t,i){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(ri,i)}catch{}switch(i.tag){case 26:Xe||Qt(i,t),fn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Xe||Qt(i,t);var a=qe,f=gt;Vn(i.type)&&(qe=i.stateNode,gt=!1),fn(e,t,i),Ki(i.stateNode),qe=a,gt=f;break;case 5:Xe||Qt(i,t);case 6:if(a=qe,f=gt,qe=null,fn(e,t,i),qe=a,gt=f,qe!==null)if(gt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(i.stateNode)}catch(m){Ne(i,t,m)}else try{qe.removeChild(i.stateNode)}catch(m){Ne(i,t,m)}break;case 18:qe!==null&&(gt?(e=qe,jd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ql(e)):jd(qe,i.stateNode));break;case 4:a=qe,f=gt,qe=i.stateNode.containerInfo,gt=!0,fn(e,t,i),qe=a,gt=f;break;case 0:case 11:case 14:case 15:bn(2,i,t),Xe||bn(4,i,t),fn(e,t,i);break;case 1:Xe||(Qt(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&ed(i,t,a)),fn(e,t,i);break;case 21:fn(e,t,i);break;case 22:Xe=(a=Xe)||i.memoizedState!==null,fn(e,t,i),Xe=a;break;default:fn(e,t,i)}}function ud(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ql(e)}catch(i){Ne(t,t.return,i)}}}function rd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ql(e)}catch(i){Ne(t,t.return,i)}}function Wg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new id),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new id),t;default:throw Error(s(435,e.tag))}}function na(e,t){var i=Wg(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var f=sy.bind(null,e,a);a.then(f,f)}})}function yt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var f=i[a],m=e,v=t,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Vn(E.type)){qe=E.stateNode,gt=!1;break e}break;case 5:qe=E.stateNode,gt=!1;break e;case 3:case 4:qe=E.stateNode.containerInfo,gt=!0;break e}E=E.return}if(qe===null)throw Error(s(160));sd(m,v,f),qe=null,gt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cd(t,e),t=t.sibling}var Yt=null;function cd(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),vt(e),a&4&&(bn(3,e,e.return),zi(3,e),bn(5,e,e.return));break;case 1:yt(t,e),vt(e),a&512&&(Xe||i===null||Qt(i,i.return)),a&64&&cn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var f=Yt;if(yt(t,e),vt(e),a&512&&(Xe||i===null||Qt(i,i.return)),a&4){var m=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(a){case"title":m=f.getElementsByTagName("title")[0],(!m||m[di]||m[je]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(a),f.head.insertBefore(m,f.querySelector("head > title"))),lt(m,a,i),m[je]=e,$e(m),a=m;break e;case"link":var v=cm("link","href",f).get(a+(i.href||""));if(v){for(var E=0;E<v.length;E++)if(m=v[E],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(E,1);break t}}m=f.createElement(a),lt(m,a,i),f.head.appendChild(m);break;case"meta":if(v=cm("meta","content",f).get(a+(i.content||""))){for(E=0;E<v.length;E++)if(m=v[E],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(E,1);break t}}m=f.createElement(a),lt(m,a,i),f.head.appendChild(m);break;default:throw Error(s(468,a))}m[je]=e,$e(m),a=m}e.stateNode=a}else fm(f,e.type,e.stateNode);else e.stateNode=rm(f,a,e.memoizedProps);else m!==a?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,a===null?fm(f,e.type,e.stateNode):rm(f,a,e.memoizedProps)):a===null&&e.stateNode!==null&&du(e,e.memoizedProps,i.memoizedProps)}break;case 27:yt(t,e),vt(e),a&512&&(Xe||i===null||Qt(i,i.return)),i!==null&&a&4&&du(e,e.memoizedProps,i.memoizedProps);break;case 5:if(yt(t,e),vt(e),a&512&&(Xe||i===null||Qt(i,i.return)),e.flags&32){f=e.stateNode;try{vl(f,"")}catch(X){Ne(e,e.return,X)}}a&4&&e.stateNode!=null&&(f=e.memoizedProps,du(e,f,i!==null?i.memoizedProps:f)),a&1024&&(hu=!0);break;case 6:if(yt(t,e),vt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(X){Ne(e,e.return,X)}}break;case 3:if(va=null,f=Yt,Yt=ga(t.containerInfo),yt(t,e),Yt=f,vt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ql(t.containerInfo)}catch(X){Ne(e,e.return,X)}hu&&(hu=!1,fd(e));break;case 4:a=Yt,Yt=ga(e.stateNode.containerInfo),yt(t,e),vt(e),Yt=a;break;case 12:yt(t,e),vt(e);break;case 31:yt(t,e),vt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,na(e,a)));break;case 13:yt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ia=ct()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,na(e,a)));break;case 22:f=e.memoizedState!==null;var A=i!==null&&i.memoizedState!==null,I=cn,L=Xe;if(cn=I||f,Xe=L||A,yt(t,e),Xe=L,cn=I,vt(e),a&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(i===null||A||cn||Xe||ul(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){A=i=t;try{if(m=A.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=A.stateNode;var H=A.memoizedProps.style,U=H!=null&&H.hasOwnProperty("display")?H.display:null;E.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(X){Ne(A,A.return,X)}}}else if(t.tag===6){if(i===null){A=t;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(X){Ne(A,A.return,X)}}}else if(t.tag===18){if(i===null){A=t;try{var b=A.stateNode;f?em(b,!0):em(A.stateNode,!1)}catch(X){Ne(A,A.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,na(e,i))));break;case 19:yt(t,e),vt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,na(e,a)));break;case 30:break;case 21:break;default:yt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(nd(a)){i=a;break}a=a.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,m=mu(e);ta(e,m,f);break;case 5:var v=i.stateNode;i.flags&32&&(vl(v,""),i.flags&=-33);var E=mu(e);ta(e,E,v);break;case 3:case 4:var A=i.stateNode.containerInfo,I=mu(e);pu(e,I,A);break;default:throw Error(s(161))}}catch(L){Ne(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function dn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)od(e,t.alternate,t),t=t.sibling}function ul(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bn(4,t,t.return),ul(t);break;case 1:Qt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&ed(t,t.return,i),ul(t);break;case 27:Ki(t.stateNode);case 26:case 5:Qt(t,t.return),ul(t);break;case 22:t.memoizedState===null&&ul(t);break;case 30:ul(t);break;default:ul(t)}e=e.sibling}}function mn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,f=e,m=t,v=m.flags;switch(m.tag){case 0:case 11:case 15:mn(f,m,i),zi(4,m);break;case 1:if(mn(f,m,i),a=m,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){Ne(a,a.return,I)}if(a=m,f=a.updateQueue,f!==null){var E=a.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)Pc(A[f],E)}catch(I){Ne(a,a.return,I)}}i&&v&64&&jf(m),Vi(m,m.return);break;case 27:ld(m);case 26:case 5:mn(f,m,i),i&&a===null&&v&4&&td(m),Vi(m,m.return);break;case 12:mn(f,m,i);break;case 31:mn(f,m,i),i&&v&4&&ud(f,m);break;case 13:mn(f,m,i),i&&v&4&&rd(f,m);break;case 22:m.memoizedState===null&&mn(f,m,i),Vi(m,m.return);break;case 30:break;default:mn(f,m,i)}t=t.sibling}}function gu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Mi(i))}function yu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Mi(e))}function Jt(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dd(e,t,i,a),t=t.sibling}function dd(e,t,i,a){var f=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,i,a),f&2048&&zi(9,t);break;case 1:Jt(e,t,i,a);break;case 3:Jt(e,t,i,a),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Mi(e)));break;case 12:if(f&2048){Jt(e,t,i,a),e=t.stateNode;try{var m=t.memoizedProps,v=m.id,E=m.onPostCommit;typeof E=="function"&&E(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ne(t,t.return,A)}}else Jt(e,t,i,a);break;case 31:Jt(e,t,i,a);break;case 13:Jt(e,t,i,a);break;case 23:break;case 22:m=t.stateNode,v=t.alternate,t.memoizedState!==null?m._visibility&2?Jt(e,t,i,a):Bi(e,t):m._visibility&2?Jt(e,t,i,a):(m._visibility|=2,zl(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),f&2048&&gu(v,t);break;case 24:Jt(e,t,i,a),f&2048&&yu(t.alternate,t);break;default:Jt(e,t,i,a)}}function zl(e,t,i,a,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var m=e,v=t,E=i,A=a,I=v.flags;switch(v.tag){case 0:case 11:case 15:zl(m,v,E,A,f),zi(8,v);break;case 23:break;case 22:var L=v.stateNode;v.memoizedState!==null?L._visibility&2?zl(m,v,E,A,f):Bi(m,v):(L._visibility|=2,zl(m,v,E,A,f)),f&&I&2048&&gu(v.alternate,v);break;case 24:zl(m,v,E,A,f),f&&I&2048&&yu(v.alternate,v);break;default:zl(m,v,E,A,f)}t=t.sibling}}function Bi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,f=a.flags;switch(a.tag){case 22:Bi(i,a),f&2048&&gu(a.alternate,a);break;case 24:Bi(i,a),f&2048&&yu(a.alternate,a);break;default:Bi(i,a)}t=t.sibling}}var Pi=8192;function Vl(e,t,i){if(e.subtreeFlags&Pi)for(e=e.child;e!==null;)md(e,t,i),e=e.sibling}function md(e,t,i){switch(e.tag){case 26:Vl(e,t,i),e.flags&Pi&&e.memoizedState!==null&&zy(i,Yt,e.memoizedState,e.memoizedProps);break;case 5:Vl(e,t,i);break;case 3:case 4:var a=Yt;Yt=ga(e.stateNode.containerInfo),Vl(e,t,i),Yt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Pi,Pi=16777216,Vl(e,t,i),Pi=a):Vl(e,t,i));break;default:Vl(e,t,i)}}function pd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];We=a,gd(a,e)}pd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hd(e),e=e.sibling}function hd(e){switch(e.tag){case 0:case 11:case 15:Oi(e),e.flags&2048&&bn(9,e,e.return);break;case 3:Oi(e);break;case 12:Oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,la(e)):Oi(e);break;default:Oi(e)}}function la(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];We=a,gd(a,e)}pd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:bn(8,t,t.return),la(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,la(t));break;default:la(t)}e=e.sibling}}function gd(e,t){for(;We!==null;){var i=We;switch(i.tag){case 0:case 11:case 15:bn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Mi(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,We=a;else e:for(i=e;We!==null;){a=We;var f=a.sibling,m=a.return;if(ad(a),a===i){We=null;break e}if(f!==null){f.return=m,We=f;break e}We=m}}}var jg={getCacheForType:function(e){var t=tt(Ye),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return tt(Ye).controller.signal}},ey=typeof WeakMap=="function"?WeakMap:Map,Me=0,be=null,pe=null,ye=0,Re=0,Rt=null,wn=!1,Bl=!1,vu=!1,pn=0,Be=0,Gn=0,rl=0,Tu=0,Nt=0,Pl=0,ki=null,Tt=null,Su=!1,ia=0,yd=0,oa=1/0,aa=null,Ln=null,Ke=0,qn=null,Ol=null,hn=0,Eu=0,_u=null,vd=null,Yi=0,Cu=null;function Dt(){return(Me&2)!==0&&ye!==0?ye&-ye:w.T!==null?Du():wr()}function Td(){if(Nt===0)if((ye&536870912)===0||Te){var e=po;po<<=1,(po&3932160)===0&&(po=262144),Nt=e}else Nt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Nt}function St(e,t,i){(e===be&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(kl(e,0),Hn(e,ye,Nt,!1)),fi(e,i),((Me&2)===0||e!==be)&&(e===be&&((Me&2)===0&&(rl|=i),Be===4&&Hn(e,ye,Nt,!1)),Zt(e))}function Sd(e,t,i){if((Me&6)!==0)throw Error(s(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||ci(e,t),f=a?ly(e,t):Mu(e,t,!0),m=a;do{if(f===0){Bl&&!a&&Hn(e,t,0,!1);break}else{if(i=e.current.alternate,m&&!ty(i)){f=Mu(e,t,!1),m=!1;continue}if(f===2){if(m=t,e.errorRecoveryDisabledLanes&m)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var E=e;f=ki;var A=E.current.memoizedState.isDehydrated;if(A&&(kl(E,v).flags|=256),v=Mu(E,v,!1),v!==2){if(vu&&!A){E.errorRecoveryDisabledLanes|=m,rl|=m,f=4;break e}m=Tt,Tt=f,m!==null&&(Tt===null?Tt=m:Tt.push.apply(Tt,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){kl(e,0),Hn(e,t,0,!0);break}e:{switch(a=e,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Hn(a,t,Nt,!wn);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(f=ia+300-ct(),10<f)){if(Hn(a,t,Nt,!wn),go(a,0,!0)!==0)break e;hn=t,a.timeoutHandle=$d(Ed.bind(null,a,i,Tt,aa,Su,t,Nt,rl,Pl,wn,m,"Throttled",-0,0),f);break e}Ed(a,i,Tt,aa,Su,t,Nt,rl,Pl,wn,m,null,-0,0)}}break}while(!0);Zt(e)}function Ed(e,t,i,a,f,m,v,E,A,I,L,H,U,b){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jt},md(t,m,H);var X=(m&62914560)===m?ia-ct():(m&4194048)===m?yd-ct():0;if(X=Vy(H,X),X!==null){hn=m,e.cancelPendingCommit=X(Dd.bind(null,e,t,m,i,a,f,v,E,A,L,H,null,U,b)),Hn(e,m,v,!I);return}}Dd(e,t,m,i,a,f,v,E,A)}function ty(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var f=i[a],m=f.getSnapshot;f=f.value;try{if(!Ct(m(),f))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hn(e,t,i,a){t&=~Tu,t&=~rl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var f=t;0<f;){var m=31-_t(f),v=1<<m;a[m]=-1,f&=~v}i!==0&&Ir(e,i,t)}function sa(){return(Me&6)===0?(Ji(0),!1):!0}function Au(){if(pe!==null){if(Re===0)var e=pe.return;else e=pe,ln=el=null,Bs(e),wl=null,Ri=0,e=pe;for(;e!==null;)Wf(e.alternate,e),e=e.return;pe=null}}function kl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Ey(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),hn=0,Au(),be=e,pe=i=tn(e.current,null),ye=t,Re=0,Rt=null,wn=!1,Bl=ci(e,t),vu=!1,Pl=Nt=Tu=rl=Gn=Be=0,Tt=ki=null,Su=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var f=31-_t(a),m=1<<f;t|=e[f],a&=~m}return pn=t,No(),i}function _d(e,t){re=null,w.H=Li,t===bl||t===qo?(t=Hc(),Re=3):t===Ns?(t=Hc(),Re=4):Re=t===nu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,pe===null&&(Be=1,Zo(e,Lt(t,e.current)))}function Cd(){var e=Mt.current;return e===null?!0:(ye&4194048)===ye?Vt===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Vt:!1}function Ad(){var e=w.H;return w.H=Li,e===null?Li:e}function Md(){var e=w.A;return w.A=jg,e}function ua(){Be=4,wn||(ye&4194048)!==ye&&Mt.current!==null||(Bl=!0),(Gn&134217727)===0&&(rl&134217727)===0||be===null||Hn(be,ye,Nt,!1)}function Mu(e,t,i){var a=Me;Me|=2;var f=Ad(),m=Md();(be!==e||ye!==t)&&(aa=null,kl(e,t)),t=!1;var v=Be;e:do try{if(Re!==0&&pe!==null){var E=pe,A=Rt;switch(Re){case 8:Au(),v=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var I=Re;if(Re=0,Rt=null,Yl(e,E,A,I),i&&Bl){v=0;break e}break;default:I=Re,Re=0,Rt=null,Yl(e,E,A,I)}}ny(),v=Be;break}catch(L){_d(e,L)}while(!0);return t&&e.shellSuspendCounter++,ln=el=null,Me=a,w.H=f,w.A=m,pe===null&&(be=null,ye=0,No()),v}function ny(){for(;pe!==null;)xd(pe)}function ly(e,t){var i=Me;Me|=2;var a=Ad(),f=Md();be!==e||ye!==t?(aa=null,oa=ct()+500,kl(e,t)):Bl=ci(e,t);e:do try{if(Re!==0&&pe!==null){t=pe;var m=Rt;t:switch(Re){case 1:Re=0,Rt=null,Yl(e,t,m,1);break;case 2:case 9:if(Lc(m)){Re=0,Rt=null,Rd(t);break}t=function(){Re!==2&&Re!==9||be!==e||(Re=7),Zt(e)},m.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Lc(m)?(Re=0,Rt=null,Rd(t)):(Re=0,Rt=null,Yl(e,t,m,7));break;case 5:var v=null;switch(pe.tag){case 26:v=pe.memoizedState;case 5:case 27:var E=pe;if(v?dm(v):E.stateNode.complete){Re=0,Rt=null;var A=E.sibling;if(A!==null)pe=A;else{var I=E.return;I!==null?(pe=I,ra(I)):pe=null}break t}}Re=0,Rt=null,Yl(e,t,m,5);break;case 6:Re=0,Rt=null,Yl(e,t,m,6);break;case 8:Au(),Be=6;break e;default:throw Error(s(462))}}iy();break}catch(L){_d(e,L)}while(!0);return ln=el=null,w.H=a,w.A=f,Me=i,pe!==null?0:(be=null,ye=0,No(),Be)}function iy(){for(;pe!==null&&!Ut();)xd(pe)}function xd(e){var t=Zf(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?ra(e):pe=t}function Rd(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Yf(i,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=Yf(i,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:Bs(t);default:Wf(i,t),t=pe=Ac(t,pn),t=Zf(i,t,pn)}e.memoizedProps=e.pendingProps,t===null?ra(e):pe=t}function Yl(e,t,i,a){ln=el=null,Bs(t),wl=null,Ri=0;var f=t.return;try{if(Fg(e,f,t,i,ye)){Be=1,Zo(e,Lt(i,e.current)),pe=null;return}}catch(m){if(f!==null)throw pe=f,m;Be=1,Zo(e,Lt(i,e.current)),pe=null;return}t.flags&32768?(Te||a===1?e=!0:Bl||(ye&536870912)!==0?e=!1:(wn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Mt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Nd(t,e)):ra(t)}function ra(e){var t=e;do{if((t.flags&32768)!==0){Nd(t,wn);return}e=t.return;var i=Qg(t.alternate,t,pn);if(i!==null){pe=i;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);Be===0&&(Be=5)}function Nd(e,t){do{var i=Zg(e.alternate,e);if(i!==null){i.flags&=32767,pe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=i}while(e!==null);Be=6,pe=null}function Dd(e,t,i,a,f,m,v,E,A){e.cancelPendingCommit=null;do ca();while(Ke!==0);if((Me&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(m=t.lanes|t.childLanes,m|=ms,Hh(e,i,m,v,E,A),e===be&&(pe=be=null,ye=0),Ol=t,qn=e,hn=i,Eu=m,_u=f,vd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uy(fo,function(){return Gd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=w.T,w.T=null,f=B.p,B.p=2,v=Me,Me|=4;try{$g(e,t,i)}finally{Me=v,B.p=f,w.T=a}}Ke=1,Id(),Ud(),bd()}}function Id(){if(Ke===1){Ke=0;var e=qn,t=Ol,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=w.T,w.T=null;var a=B.p;B.p=2;var f=Me;Me|=4;try{cd(t,e);var m=Hu,v=hc(e.containerInfo),E=m.focusedElem,A=m.selectionRange;if(v!==E&&E&&E.ownerDocument&&pc(E.ownerDocument.documentElement,E)){if(A!==null&&us(E)){var I=A.start,L=A.end;if(L===void 0&&(L=I),"selectionStart"in E)E.selectionStart=I,E.selectionEnd=Math.min(L,E.value.length);else{var H=E.ownerDocument||document,U=H&&H.defaultView||window;if(U.getSelection){var b=U.getSelection(),X=E.textContent.length,oe=Math.min(A.start,X),Ue=A.end===void 0?oe:Math.min(A.end,X);!b.extend&&oe>Ue&&(v=Ue,Ue=oe,oe=v);var N=mc(E,oe),M=mc(E,Ue);if(N&&M&&(b.rangeCount!==1||b.anchorNode!==N.node||b.anchorOffset!==N.offset||b.focusNode!==M.node||b.focusOffset!==M.offset)){var D=H.createRange();D.setStart(N.node,N.offset),b.removeAllRanges(),oe>Ue?(b.addRange(D),b.extend(M.node,M.offset)):(D.setEnd(M.node,M.offset),b.addRange(D))}}}}for(H=[],b=E;b=b.parentNode;)b.nodeType===1&&H.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<H.length;E++){var q=H[E];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}_a=!!qu,Hu=qu=null}finally{Me=f,B.p=a,w.T=i}}e.current=t,Ke=2}}function Ud(){if(Ke===2){Ke=0;var e=qn,t=Ol,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=w.T,w.T=null;var a=B.p;B.p=2;var f=Me;Me|=4;try{od(e,t.alternate,t)}finally{Me=f,B.p=a,w.T=i}}Ke=3}}function bd(){if(Ke===4||Ke===3){Ke=0,Tn();var e=qn,t=Ol,i=hn,a=vd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ke=5:(Ke=0,Ol=qn=null,wd(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ln=null),ka(i),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(ri,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=w.T,f=B.p,B.p=2,w.T=null;try{for(var m=e.onRecoverableError,v=0;v<a.length;v++){var E=a[v];m(E.value,{componentStack:E.stack})}}finally{w.T=t,B.p=f}}(hn&3)!==0&&ca(),Zt(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Cu?Yi++:(Yi=0,Cu=e):Yi=0,Ji(0)}}function wd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Mi(t)))}function ca(){return Id(),Ud(),bd(),Gd()}function Gd(){if(Ke!==5)return!1;var e=qn,t=Eu;Eu=0;var i=ka(hn),a=w.T,f=B.p;try{B.p=32>i?32:i,w.T=null,i=_u,_u=null;var m=qn,v=hn;if(Ke=0,Ol=qn=null,hn=0,(Me&6)!==0)throw Error(s(331));var E=Me;if(Me|=4,hd(m.current),dd(m,m.current,v,i),Me=E,Ji(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(ri,m)}catch{}return!0}finally{B.p=f,w.T=a,wd(e,t)}}function Ld(e,t,i){t=Lt(i,t),t=tu(e.stateNode,t,2),e=Dn(e,t,2),e!==null&&(fi(e,2),Zt(e))}function Ne(e,t,i){if(e.tag===3)Ld(e,e,i);else for(;t!==null;){if(t.tag===3){Ld(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ln===null||!Ln.has(a))){e=Lt(i,e),i=qf(2),a=Dn(t,i,2),a!==null&&(Hf(i,a,t,e),fi(a,2),Zt(a));break}}t=t.return}}function xu(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new ey;var f=new Set;a.set(t,f)}else f=a.get(t),f===void 0&&(f=new Set,a.set(t,f));f.has(i)||(vu=!0,f.add(i),e=oy.bind(null,e,t,i),t.then(e,e))}function oy(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,be===e&&(ye&i)===i&&(Be===4||Be===3&&(ye&62914560)===ye&&300>ct()-ia?(Me&2)===0&&kl(e,0):Tu|=i,Pl===ye&&(Pl=0)),Zt(e)}function qd(e,t){t===0&&(t=Dr()),e=$n(e,t),e!==null&&(fi(e,t),Zt(e))}function ay(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),qd(e,i)}function sy(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),qd(e,i)}function uy(e,t){return ut(e,t)}var fa=null,Jl=null,Ru=!1,da=!1,Nu=!1,zn=0;function Zt(e){e!==Jl&&e.next===null&&(Jl===null?fa=Jl=e:Jl=Jl.next=e),da=!0,Ru||(Ru=!0,cy())}function Ji(e,t){if(!Nu&&da){Nu=!0;do for(var i=!1,a=fa;a!==null;){if(e!==0){var f=a.pendingLanes;if(f===0)var m=0;else{var v=a.suspendedLanes,E=a.pingedLanes;m=(1<<31-_t(42|e)+1)-1,m&=f&~(v&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,Bd(a,m))}else m=ye,m=go(a,a===be?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(m&3)===0||ci(a,m)||(i=!0,Bd(a,m));a=a.next}while(i);Nu=!1}}function ry(){Hd()}function Hd(){da=Ru=!1;var e=0;zn!==0&&Sy()&&(e=zn);for(var t=ct(),i=null,a=fa;a!==null;){var f=a.next,m=zd(a,t);m===0?(a.next=null,i===null?fa=f:i.next=f,f===null&&(Jl=i)):(i=a,(e!==0||(m&3)!==0)&&(da=!0)),a=f}Ke!==0&&Ke!==5||Ji(e),zn!==0&&(zn=0)}function zd(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var v=31-_t(m),E=1<<v,A=f[v];A===-1?((E&i)===0||(E&a)!==0)&&(f[v]=qh(E,t)):A<=t&&(e.expiredLanes|=E),m&=~E}if(t=be,i=ye,i=go(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&rt(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ci(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&rt(a),ka(i)){case 2:case 8:i=Rr;break;case 32:i=fo;break;case 268435456:i=Nr;break;default:i=fo}return a=Vd.bind(null,e),i=ut(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&rt(a),e.callbackPriority=2,e.callbackNode=null,2}function Vd(e,t){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ca()&&e.callbackNode!==i)return null;var a=ye;return a=go(e,e===be?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Sd(e,a,t),zd(e,ct()),e.callbackNode!=null&&e.callbackNode===i?Vd.bind(null,e):null)}function Bd(e,t){if(ca())return null;Sd(e,t,!0)}function cy(){_y(function(){(Me&6)!==0?ut(xr,ry):Hd()})}function Du(){if(zn===0){var e=Il;e===0&&(e=mo,mo<<=1,(mo&261888)===0&&(mo=256)),zn=e}return zn}function Pd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:So(""+e)}function Od(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function fy(e,t,i,a,f){if(t==="submit"&&i&&i.stateNode===f){var m=Pd((f[pt]||null).action),v=a.submitter;v&&(t=(t=v[pt]||null)?Pd(t.formAction):v.getAttribute("formAction"),t!==null&&(m=t,v=null));var E=new Ao("action","action",null,a,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(zn!==0){var A=v?Od(f,v):new FormData(f);Qs(i,{pending:!0,data:A,method:f.method,action:m},null,A)}}else typeof m=="function"&&(E.preventDefault(),A=v?Od(f,v):new FormData(f),Qs(i,{pending:!0,data:A,method:f.method,action:m},m,A))},currentTarget:f}]})}}for(var Iu=0;Iu<ds.length;Iu++){var Uu=ds[Iu],dy=Uu.toLowerCase(),my=Uu[0].toUpperCase()+Uu.slice(1);kt(dy,"on"+my)}kt(vc,"onAnimationEnd"),kt(Tc,"onAnimationIteration"),kt(Sc,"onAnimationStart"),kt("dblclick","onDoubleClick"),kt("focusin","onFocus"),kt("focusout","onBlur"),kt(Dg,"onTransitionRun"),kt(Ig,"onTransitionStart"),kt(Ug,"onTransitionCancel"),kt(Ec,"onTransitionEnd"),gl("onMouseEnter",["mouseout","mouseover"]),gl("onMouseLeave",["mouseout","mouseover"]),gl("onPointerEnter",["pointerout","pointerover"]),gl("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),py=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fi));function kd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],f=a.event;a=a.listeners;e:{var m=void 0;if(t)for(var v=a.length-1;0<=v;v--){var E=a[v],A=E.instance,I=E.currentTarget;if(E=E.listener,A!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=I;try{m(f)}catch(L){Ro(L)}f.currentTarget=null,m=A}else for(v=0;v<a.length;v++){if(E=a[v],A=E.instance,I=E.currentTarget,E=E.listener,A!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=I;try{m(f)}catch(L){Ro(L)}f.currentTarget=null,m=A}}}}function he(e,t){var i=t[Ya];i===void 0&&(i=t[Ya]=new Set);var a=e+"__bubble";i.has(a)||(Yd(t,e,2,!1),i.add(a))}function bu(e,t,i){var a=0;t&&(a|=4),Yd(i,e,a,t)}var ma="_reactListening"+Math.random().toString(36).slice(2);function wu(e){if(!e[ma]){e[ma]=!0,qr.forEach(function(i){i!=="selectionchange"&&(py.has(i)||bu(i,!1,e),bu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ma]||(t[ma]=!0,bu("selectionchange",!1,t))}}function Yd(e,t,i,a){switch(Tm(t)){case 2:var f=Oy;break;case 8:f=ky;break;default:f=Ku}i=f.bind(null,t,i,e),f=void 0,!ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(t,i,{capture:!0,passive:f}):e.addEventListener(t,i,!0):f!==void 0?e.addEventListener(t,i,{passive:f}):e.addEventListener(t,i,!1)}function Gu(e,t,i,a,f){var m=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var v=a.tag;if(v===3||v===4){var E=a.stateNode.containerInfo;if(E===f)break;if(v===4)for(v=a.return;v!==null;){var A=v.tag;if((A===3||A===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;E!==null;){if(v=ml(E),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){a=m=v;continue e}E=E.parentNode}}a=a.return}Kr(function(){var I=m,L=$a(i),H=[];e:{var U=_c.get(e);if(U!==void 0){var b=Ao,X=e;switch(e){case"keypress":if(_o(i)===0)break e;case"keydown":case"keyup":b=sg;break;case"focusin":X="focus",b=ls;break;case"focusout":X="blur",b=ls;break;case"beforeblur":case"afterblur":b=ls;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=cg;break;case vc:case Tc:case Sc:b=Wh;break;case Ec:b=dg;break;case"scroll":case"scrollend":b=Xh;break;case"wheel":b=pg;break;case"copy":case"cut":case"paste":b=eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=jr;break;case"toggle":case"beforetoggle":b=gg}var oe=(t&4)!==0,Ue=!oe&&(e==="scroll"||e==="scrollend"),N=oe?U!==null?U+"Capture":null:U;oe=[];for(var M=I,D;M!==null;){var q=M;if(D=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||D===null||N===null||(q=pi(M,N),q!=null&&oe.push(Xi(M,q,D))),Ue)break;M=M.return}0<oe.length&&(U=new b(U,X,null,i,L),H.push({event:U,listeners:oe}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",U&&i!==Za&&(X=i.relatedTarget||i.fromElement)&&(ml(X)||X[dl]))break e;if((b||U)&&(U=L.window===L?L:(U=L.ownerDocument)?U.defaultView||U.parentWindow:window,b?(X=i.relatedTarget||i.toElement,b=I,X=X?ml(X):null,X!==null&&(Ue=d(X),oe=X.tag,X!==Ue||oe!==5&&oe!==27&&oe!==6)&&(X=null)):(b=null,X=I),b!==X)){if(oe=$r,q="onMouseLeave",N="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(oe=jr,q="onPointerLeave",N="onPointerEnter",M="pointer"),Ue=b==null?U:mi(b),D=X==null?U:mi(X),U=new oe(q,M+"leave",b,i,L),U.target=Ue,U.relatedTarget=D,q=null,ml(L)===I&&(oe=new oe(N,M+"enter",X,i,L),oe.target=D,oe.relatedTarget=Ue,q=oe),Ue=q,b&&X)t:{for(oe=hy,N=b,M=X,D=0,q=N;q;q=oe(q))D++;q=0;for(var ne=M;ne;ne=oe(ne))q++;for(;0<D-q;)N=oe(N),D--;for(;0<q-D;)M=oe(M),q--;for(;D--;){if(N===M||M!==null&&N===M.alternate){oe=N;break t}N=oe(N),M=oe(M)}oe=null}else oe=null;b!==null&&Jd(H,U,b,oe,!1),X!==null&&Ue!==null&&Jd(H,Ue,X,oe,!0)}}e:{if(U=I?mi(I):window,b=U.nodeName&&U.nodeName.toLowerCase(),b==="select"||b==="input"&&U.type==="file")var _e=sc;else if(oc(U))if(uc)_e=xg;else{_e=Ag;var W=Cg}else b=U.nodeName,!b||b.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?I&&Qa(I.elementType)&&(_e=sc):_e=Mg;if(_e&&(_e=_e(e,I))){ac(H,_e,i,L);break e}W&&W(e,U,I),e==="focusout"&&I&&U.type==="number"&&I.memoizedProps.value!=null&&Ka(U,"number",U.value)}switch(W=I?mi(I):window,e){case"focusin":(oc(W)||W.contentEditable==="true")&&(_l=W,rs=I,_i=null);break;case"focusout":_i=rs=_l=null;break;case"mousedown":cs=!0;break;case"contextmenu":case"mouseup":case"dragend":cs=!1,gc(H,i,L);break;case"selectionchange":if(Ng)break;case"keydown":case"keyup":gc(H,i,L)}var de;if(os)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else El?lc(e,i)&&(ve="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ve="onCompositionStart");ve&&(ec&&i.locale!=="ko"&&(El||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&El&&(de=Qr()):(_n=L,es="value"in _n?_n.value:_n.textContent,El=!0)),W=pa(I,ve),0<W.length&&(ve=new Wr(ve,e,null,i,L),H.push({event:ve,listeners:W}),de?ve.data=de:(de=ic(i),de!==null&&(ve.data=de)))),(de=vg?Tg(e,i):Sg(e,i))&&(ve=pa(I,"onBeforeInput"),0<ve.length&&(W=new Wr("onBeforeInput","beforeinput",null,i,L),H.push({event:W,listeners:ve}),W.data=de)),fy(H,e,I,i,L)}kd(H,t)})}function Xi(e,t,i){return{instance:e,listener:t,currentTarget:i}}function pa(e,t){for(var i=t+"Capture",a=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=pi(e,i),f!=null&&a.unshift(Xi(e,f,m)),f=pi(e,t),f!=null&&a.push(Xi(e,f,m))),e.tag===3)return a;e=e.return}return[]}function hy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jd(e,t,i,a,f){for(var m=t._reactName,v=[];i!==null&&i!==a;){var E=i,A=E.alternate,I=E.stateNode;if(E=E.tag,A!==null&&A===a)break;E!==5&&E!==26&&E!==27||I===null||(A=I,f?(I=pi(i,m),I!=null&&v.unshift(Xi(i,I,A))):f||(I=pi(i,m),I!=null&&v.push(Xi(i,I,A)))),i=i.return}v.length!==0&&e.push({event:t,listeners:v})}var gy=/\r\n?/g,yy=/\u0000|\uFFFD/g;function Fd(e){return(typeof e=="string"?e:""+e).replace(gy,`
`).replace(yy,"")}function Xd(e,t){return t=Fd(t),Fd(e)===t}function Ie(e,t,i,a,f,m){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||vl(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&vl(e,""+a);break;case"className":vo(e,"class",a);break;case"tabIndex":vo(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":vo(e,i,a);break;case"style":Fr(e,a,m);break;case"data":if(t!=="object"){vo(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=So(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(t!=="input"&&Ie(e,t,"name",f.name,f,null),Ie(e,t,"formEncType",f.formEncType,f,null),Ie(e,t,"formMethod",f.formMethod,f,null),Ie(e,t,"formTarget",f.formTarget,f,null)):(Ie(e,t,"encType",f.encType,f,null),Ie(e,t,"method",f.method,f,null),Ie(e,t,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=So(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=jt);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(i=a.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=So(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":he("beforetoggle",e),he("toggle",e),yo(e,"popover",a);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":yo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Jh.get(i)||i,yo(e,i,a))}}function Lu(e,t,i,a,f,m){switch(i){case"style":Fr(e,a,m);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(i=a.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof a=="string"?vl(e,a):(typeof a=="number"||typeof a=="bigint")&&vl(e,""+a);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"onClick":a!=null&&(e.onclick=jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),t=i.slice(2,f?i.length-7:void 0),m=e[pt]||null,m=m!=null?m[i]:null,typeof m=="function"&&e.removeEventListener(t,m,f),typeof a=="function")){typeof m!="function"&&m!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,f);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):yo(e,i,a)}}}function lt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var a=!1,f=!1,m;for(m in i)if(i.hasOwnProperty(m)){var v=i[m];if(v!=null)switch(m){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ie(e,t,m,v,i,null)}}f&&Ie(e,t,"srcSet",i.srcSet,i,null),a&&Ie(e,t,"src",i.src,i,null);return;case"input":he("invalid",e);var E=m=v=f=null,A=null,I=null;for(a in i)if(i.hasOwnProperty(a)){var L=i[a];if(L!=null)switch(a){case"name":f=L;break;case"type":v=L;break;case"checked":A=L;break;case"defaultChecked":I=L;break;case"value":m=L;break;case"defaultValue":E=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,t));break;default:Ie(e,t,a,L,i,null)}}Or(e,m,E,A,I,v,f,!1);return;case"select":he("invalid",e),a=v=m=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":v=E;break;case"multiple":a=E;default:Ie(e,t,f,E,i,null)}t=m,i=v,e.multiple=!!a,t!=null?yl(e,!!a,t,!1):i!=null&&yl(e,!!a,i,!0);return;case"textarea":he("invalid",e),m=f=a=null;for(v in i)if(i.hasOwnProperty(v)&&(E=i[v],E!=null))switch(v){case"value":a=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ie(e,t,v,E,i,null)}Yr(e,a,f,m);return;case"option":for(A in i)if(i.hasOwnProperty(A)&&(a=i[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ie(e,t,A,a,i,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(a=0;a<Fi.length;a++)he(Fi[a],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in i)if(i.hasOwnProperty(I)&&(a=i[I],a!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ie(e,t,I,a,i,null)}return;default:if(Qa(t)){for(L in i)i.hasOwnProperty(L)&&(a=i[L],a!==void 0&&Lu(e,t,L,a,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(a=i[E],a!=null&&Ie(e,t,E,a,i,null))}function vy(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,E=null,A=null,I=null,L=null;for(b in i){var H=i[b];if(i.hasOwnProperty(b)&&H!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":A=H;default:a.hasOwnProperty(b)||Ie(e,t,b,null,a,H)}}for(var U in a){var b=a[U];if(H=i[U],a.hasOwnProperty(U)&&(b!=null||H!=null))switch(U){case"type":m=b;break;case"name":f=b;break;case"checked":I=b;break;case"defaultChecked":L=b;break;case"value":v=b;break;case"defaultValue":E=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(137,t));break;default:b!==H&&Ie(e,t,U,b,a,H)}}Xa(e,v,E,A,I,L,m,f);return;case"select":b=v=E=U=null;for(m in i)if(A=i[m],i.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":b=A;default:a.hasOwnProperty(m)||Ie(e,t,m,null,a,A)}for(f in a)if(m=a[f],A=i[f],a.hasOwnProperty(f)&&(m!=null||A!=null))switch(f){case"value":U=m;break;case"defaultValue":E=m;break;case"multiple":v=m;default:m!==A&&Ie(e,t,f,m,a,A)}t=E,i=v,a=b,U!=null?yl(e,!!i,U,!1):!!a!=!!i&&(t!=null?yl(e,!!i,t,!0):yl(e,!!i,i?[]:"",!1));return;case"textarea":b=U=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ie(e,t,E,null,a,f)}for(v in a)if(f=a[v],m=i[v],a.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":U=f;break;case"defaultValue":b=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ie(e,t,v,f,a,m)}kr(e,U,b);return;case"option":for(var X in i)if(U=i[X],i.hasOwnProperty(X)&&U!=null&&!a.hasOwnProperty(X))switch(X){case"selected":e.selected=!1;break;default:Ie(e,t,X,null,a,U)}for(A in a)if(U=a[A],b=i[A],a.hasOwnProperty(A)&&U!==b&&(U!=null||b!=null))switch(A){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ie(e,t,A,U,a,b)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in i)U=i[oe],i.hasOwnProperty(oe)&&U!=null&&!a.hasOwnProperty(oe)&&Ie(e,t,oe,null,a,U);for(I in a)if(U=a[I],b=i[I],a.hasOwnProperty(I)&&U!==b&&(U!=null||b!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:Ie(e,t,I,U,a,b)}return;default:if(Qa(t)){for(var Ue in i)U=i[Ue],i.hasOwnProperty(Ue)&&U!==void 0&&!a.hasOwnProperty(Ue)&&Lu(e,t,Ue,void 0,a,U);for(L in a)U=a[L],b=i[L],!a.hasOwnProperty(L)||U===b||U===void 0&&b===void 0||Lu(e,t,L,U,a,b);return}}for(var N in i)U=i[N],i.hasOwnProperty(N)&&U!=null&&!a.hasOwnProperty(N)&&Ie(e,t,N,null,a,U);for(H in a)U=a[H],b=i[H],!a.hasOwnProperty(H)||U===b||U==null&&b==null||Ie(e,t,H,U,a,b)}function Kd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ty(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var f=i[a],m=f.transferSize,v=f.initiatorType,E=f.duration;if(m&&E&&Kd(v)){for(v=0,E=f.responseEnd,a+=1;a<i.length;a++){var A=i[a],I=A.startTime;if(I>E)break;var L=A.transferSize,H=A.initiatorType;L&&Kd(H)&&(A=A.responseEnd,v+=L*(A<E?1:(E-I)/(A-I)))}if(--a,t+=8*(m+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qu=null,Hu=null;function ha(e){return e.nodeType===9?e:e.ownerDocument}function Qd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vu=null;function Sy(){var e=window.event;return e&&e.type==="popstate"?e===Vu?!1:(Vu=e,!0):(Vu=null,!1)}var $d=typeof setTimeout=="function"?setTimeout:void 0,Ey=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,_y=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(e){return Wd.resolve(null).then(e).catch(Cy)}:$d;function Cy(e){setTimeout(function(){throw e})}function Vn(e){return e==="head"}function jd(e,t){var i=t,a=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(f),Ql(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")Ki(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ki(i);for(var m=i.firstChild;m;){var v=m.nextSibling,E=m.nodeName;m[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=v}}else i==="body"&&Ki(e.ownerDocument.body);i=f}while(i);Ql(t)}function em(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function Bu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Bu(i),Ja(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Ay(e,t,i,a){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[di])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Bt(e.nextSibling),e===null)break}return null}function My(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Bt(e.nextSibling),e===null))return null;return e}function tm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Bt(e.nextSibling),e===null))return null;return e}function Pu(e){return e.data==="$?"||e.data==="$~"}function Ou(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xy(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ku=null;function nm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Bt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function lm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function im(e,t,i){switch(t=ha(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ki(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ja(e)}var Pt=new Map,om=new Set;function ga(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gn=B.d;B.d={f:Ry,r:Ny,D:Dy,C:Iy,L:Uy,m:by,X:Gy,S:wy,M:Ly};function Ry(){var e=gn.f(),t=sa();return e||t}function Ny(e){var t=pl(e);t!==null&&t.tag===5&&t.type==="form"?_f(t):gn.r(e)}var Fl=typeof document>"u"?null:document;function am(e,t,i){var a=Fl;if(a&&typeof t=="string"&&t){var f=wt(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),om.has(f)||(om.add(f),e={rel:e,crossOrigin:i,href:t},a.querySelector(f)===null&&(t=a.createElement("link"),lt(t,"link",e),$e(t),a.head.appendChild(t)))}}function Dy(e){gn.D(e),am("dns-prefetch",e,null)}function Iy(e,t){gn.C(e,t),am("preconnect",e,t)}function Uy(e,t,i){gn.L(e,t,i);var a=Fl;if(a&&e&&t){var f='link[rel="preload"][as="'+wt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+wt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+wt(i.imageSizes)+'"]')):f+='[href="'+wt(e)+'"]';var m=f;switch(t){case"style":m=Xl(e);break;case"script":m=Kl(e)}Pt.has(m)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Pt.set(m,e),a.querySelector(f)!==null||t==="style"&&a.querySelector(Qi(m))||t==="script"&&a.querySelector(Zi(m))||(t=a.createElement("link"),lt(t,"link",e),$e(t),a.head.appendChild(t)))}}function by(e,t){gn.m(e,t);var i=Fl;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+wt(a)+'"][href="'+wt(e)+'"]',m=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Kl(e)}if(!Pt.has(m)&&(e=S({rel:"modulepreload",href:e},t),Pt.set(m,e),i.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Zi(m)))return}a=i.createElement("link"),lt(a,"link",e),$e(a),i.head.appendChild(a)}}}function wy(e,t,i){gn.S(e,t,i);var a=Fl;if(a&&e){var f=hl(a).hoistableStyles,m=Xl(e);t=t||"default";var v=f.get(m);if(!v){var E={loading:0,preload:null};if(v=a.querySelector(Qi(m)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Pt.get(m))&&Yu(e,i);var A=v=a.createElement("link");$e(A),lt(A,"link",e),A._p=new Promise(function(I,L){A.onload=I,A.onerror=L}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ya(v,t,a)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(m,v)}}}function Gy(e,t){gn.X(e,t);var i=Fl;if(i&&e){var a=hl(i).hoistableScripts,f=Kl(e),m=a.get(f);m||(m=i.querySelector(Zi(f)),m||(e=S({src:e,async:!0},t),(t=Pt.get(f))&&Ju(e,t),m=i.createElement("script"),$e(m),lt(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(f,m))}}function Ly(e,t){gn.M(e,t);var i=Fl;if(i&&e){var a=hl(i).hoistableScripts,f=Kl(e),m=a.get(f);m||(m=i.querySelector(Zi(f)),m||(e=S({src:e,async:!0,type:"module"},t),(t=Pt.get(f))&&Ju(e,t),m=i.createElement("script"),$e(m),lt(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(f,m))}}function sm(e,t,i,a){var f=(f=me.current)?ga(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Xl(i.href),i=hl(f).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Xl(i.href);var m=hl(f).hoistableStyles,v=m.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,v),(m=f.querySelector(Qi(e)))&&!m._p&&(v.instance=m,v.state.loading=5),Pt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Pt.set(e,i),m||qy(f,e,i,v.state))),t&&a===null)throw Error(s(528,""));return v}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Kl(i),i=hl(f).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Xl(e){return'href="'+wt(e)+'"'}function Qi(e){return'link[rel="stylesheet"]['+e+"]"}function um(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function qy(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),lt(t,"link",i),$e(t),e.head.appendChild(t))}function Kl(e){return'[src="'+wt(e)+'"]'}function Zi(e){return"script[async]"+e}function rm(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+wt(i.href)+'"]');if(a)return t.instance=a,$e(a),a;var f=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),$e(a),lt(a,"style",f),ya(a,i.precedence,e),t.instance=a;case"stylesheet":f=Xl(i.href);var m=e.querySelector(Qi(f));if(m)return t.state.loading|=4,t.instance=m,$e(m),m;a=um(i),(f=Pt.get(f))&&Yu(a,f),m=(e.ownerDocument||e).createElement("link"),$e(m);var v=m;return v._p=new Promise(function(E,A){v.onload=E,v.onerror=A}),lt(m,"link",a),t.state.loading|=4,ya(m,i.precedence,e),t.instance=m;case"script":return m=Kl(i.src),(f=e.querySelector(Zi(m)))?(t.instance=f,$e(f),f):(a=i,(f=Pt.get(m))&&(a=S({},i),Ju(a,f)),e=e.ownerDocument||e,f=e.createElement("script"),$e(f),lt(f,"link",a),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,ya(a,i.precedence,e));return t.instance}function ya(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,m=f,v=0;v<a.length;v++){var E=a[v];if(E.dataset.precedence===t)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var va=null;function cm(e,t,i){if(va===null){var a=new Map,f=va=new Map;f.set(i,a)}else f=va,a=f.get(i),a||(a=new Map,f.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var m=i[f];if(!(m[di]||m[je]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(t)||"";v=e+v;var E=a.get(v);E?E.push(m):a.set(v,[m])}}return a}function fm(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Hy(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function zy(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Xl(a.href),m=t.querySelector(Qi(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ta.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=m,$e(m);return}m=t.ownerDocument||t,a=um(a),(f=Pt.get(f))&&Yu(a,f),m=m.createElement("link"),$e(m);var v=m;v._p=new Promise(function(E,A){v.onload=E,v.onerror=A}),lt(m,"link",a),i.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Ta.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Fu=0;function Vy(e,t){return e.stylesheets&&e.count===0&&Ea(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&Ea(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+t);0<e.imgBytes&&Fu===0&&(Fu=62500*Ty());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ea(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Fu?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(f)}}:null}function Ta(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ea(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sa=null;function Ea(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sa=new Map,t.forEach(By,e),Sa=null,Ta.call(e))}function By(e,t){if(!(t.state.loading&4)){var i=Sa.get(e);if(i)var a=i.get(null);else{i=new Map,Sa.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),a=v)}a&&i.set(null,a)}f=t.instance,v=f.getAttribute("data-precedence"),m=i.get(v)||a,m===a&&i.set(null,f),i.set(v,f),this.count++,a=Ta.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var $i={$$typeof:P,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Py(e,t,i,a,f,m,v,E,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.hiddenUpdates=Pa(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function mm(e,t,i,a,f,m,v,E,A,I,L,H){return e=new Py(e,t,i,v,A,I,L,H,E),t=1,m===!0&&(t|=24),m=At(3,null,null,t),e.current=m,m.stateNode=e,t=Ms(),t.refCount++,e.pooledCache=t,t.refCount++,m.memoizedState={element:a,isDehydrated:i,cache:t},Ds(m),e}function pm(e){return e?(e=Ml,e):Ml}function hm(e,t,i,a,f,m){f=pm(f),a.context===null?a.context=f:a.pendingContext=f,a=Nn(t),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=Dn(e,a,t),i!==null&&(St(i,e,t),Di(i,e,t))}function gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Xu(e,t){gm(e,t),(e=e.alternate)&&gm(e,t)}function ym(e){if(e.tag===13||e.tag===31){var t=$n(e,67108864);t!==null&&St(t,e,67108864),Xu(e,67108864)}}function vm(e){if(e.tag===13||e.tag===31){var t=Dt();t=Oa(t);var i=$n(e,t);i!==null&&St(i,e,t),Xu(e,t)}}var _a=!0;function Oy(e,t,i,a){var f=w.T;w.T=null;var m=B.p;try{B.p=2,Ku(e,t,i,a)}finally{B.p=m,w.T=f}}function ky(e,t,i,a){var f=w.T;w.T=null;var m=B.p;try{B.p=8,Ku(e,t,i,a)}finally{B.p=m,w.T=f}}function Ku(e,t,i,a){if(_a){var f=Qu(a);if(f===null)Gu(e,t,a,Ca,i),Sm(e,a);else if(Jy(f,e,t,i,a))a.stopPropagation();else if(Sm(e,a),t&4&&-1<Yy.indexOf(e)){for(;f!==null;){var m=pl(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Fn(m.pendingLanes);if(v!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var A=1<<31-_t(v);E.entanglements[1]|=A,v&=~A}Zt(m),(Me&6)===0&&(oa=ct()+500,Ji(0))}}break;case 31:case 13:E=$n(m,2),E!==null&&St(E,m,2),sa(),Xu(m,2)}if(m=Qu(a),m===null&&Gu(e,t,a,Ca,i),m===f)break;f=m}f!==null&&a.stopPropagation()}else Gu(e,t,a,null,i)}}function Qu(e){return e=$a(e),Zu(e)}var Ca=null;function Zu(e){if(Ca=null,e=ml(e),e!==null){var t=d(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=p(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ca=e,null}function Tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dh()){case xr:return 2;case Rr:return 8;case fo:case Ih:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var $u=!1,Bn=null,Pn=null,On=null,Wi=new Map,ji=new Map,kn=[],Yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sm(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(t.pointerId)}}function eo(e,t,i,a,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:m,targetContainers:[f]},t!==null&&(t=pl(t),t!==null&&ym(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function Jy(e,t,i,a,f){switch(t){case"focusin":return Bn=eo(Bn,e,t,i,a,f),!0;case"dragenter":return Pn=eo(Pn,e,t,i,a,f),!0;case"mouseover":return On=eo(On,e,t,i,a,f),!0;case"pointerover":var m=f.pointerId;return Wi.set(m,eo(Wi.get(m)||null,e,t,i,a,f)),!0;case"gotpointercapture":return m=f.pointerId,ji.set(m,eo(ji.get(m)||null,e,t,i,a,f)),!0}return!1}function Em(e){var t=ml(e.target);if(t!==null){var i=d(t);if(i!==null){if(t=i.tag,t===13){if(t=p(i),t!==null){e.blockedOn=t,Gr(e.priority,function(){vm(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,Gr(e.priority,function(){vm(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Qu(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Za=a,i.target.dispatchEvent(a),Za=null}else return t=pl(i),t!==null&&ym(t),e.blockedOn=i,!1;t.shift()}return!0}function _m(e,t,i){Aa(e)&&i.delete(t)}function Fy(){$u=!1,Bn!==null&&Aa(Bn)&&(Bn=null),Pn!==null&&Aa(Pn)&&(Pn=null),On!==null&&Aa(On)&&(On=null),Wi.forEach(_m),ji.forEach(_m)}function Ma(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Fy)))}var xa=null;function Cm(e){xa!==e&&(xa=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){xa===e&&(xa=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],f=e[t+2];if(typeof a!="function"){if(Zu(a||i)===null)continue;break}var m=pl(i);m!==null&&(e.splice(t,3),t-=3,Qs(m,{pending:!0,data:f,method:i.method,action:a},a,f))}}))}function Ql(e){function t(A){return Ma(A,e)}Bn!==null&&Ma(Bn,e),Pn!==null&&Ma(Pn,e),On!==null&&Ma(On,e),Wi.forEach(t),ji.forEach(t);for(var i=0;i<kn.length;i++){var a=kn[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<kn.length&&(i=kn[0],i.blockedOn===null);)Em(i),i.blockedOn===null&&kn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var f=i[a],m=i[a+1],v=f[pt]||null;if(typeof m=="function")v||Cm(i);else if(v){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[pt]||null)E=v.formAction;else if(Zu(f)!==null)continue}else E=v.action;typeof E=="function"?i[a+1]=E:(i.splice(a,3),a-=3),Cm(i)}}}function Am(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function Wu(e){this._internalRoot=e}Ra.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,a=Dt();hm(i,a,e,t,null,null)},Ra.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hm(e.current,2,null,e,null,null),sa(),t[dl]=null}};function Ra(e){this._internalRoot=e}Ra.prototype.unstable_scheduleHydration=function(e){if(e){var t=wr();e={blockedOn:null,target:e,priority:t};for(var i=0;i<kn.length&&t!==0&&t<kn[i].priority;i++);kn.splice(i,0,e),i===0&&Em(e)}};var Mm=n.version;if(Mm!=="19.2.0")throw Error(s(527,Mm,"19.2.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Xy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Na.isDisabled&&Na.supportsFiber)try{ri=Na.inject(Xy),Et=Na}catch{}}return no.createRoot=function(e,t){if(!r(e))throw Error(s(299));var i=!1,a="",f=bf,m=wf,v=Gf;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(m=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=mm(e,1,!1,null,null,i,a,null,f,m,v,Am),e[dl]=t.current,wu(e),new Wu(t)},no.hydrateRoot=function(e,t,i){if(!r(e))throw Error(s(299));var a=!1,f="",m=bf,v=wf,E=Gf,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(A=i.formState)),t=mm(e,1,!0,t,i??null,a,f,A,m,v,E,Am),t.context=pm(null),i=t.current,a=Dt(),a=Oa(a),f=Nn(a),f.callback=null,Dn(i,f,a),i=a,t.current.lanes=i,fi(t,i),Zt(t),e[dl]=t.current,wu(e),new Ra(t)},no.version="19.2.0",no}var Lm;function iv(){if(Lm)return er.exports;Lm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),er.exports=lv(),er.exports}var ov=iv(),j=hr();const av=Qy(j),qm="http://localhost:11434",sv="llava",gr=l=>{const n=/^data:(.+);base64,(.*)$/,o=l.match(n);if(!o)throw new Error("Invalid data URL format");return o[2]},so=async(l,n=[],o,s=sv)=>{const r={model:s,prompt:l,images:n,stream:!1};o&&(r.format=o);try{const d=await fetch(`${qm}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!d.ok){const g=await d.text();throw new Error(`Ollama API error (${s}): ${d.status} ${d.statusText} - ${g}`)}return(await d.json()).response}catch(d){throw d instanceof TypeError&&d.message.includes("Failed to fetch")?new Error(`Network error (${s}): Could not connect to Ollama server at ${qm}. Please ensure Ollama is running and accessible.`):d}},uv=async(l,n,o)=>{const s=l.map(async r=>{o(r,"processing");try{const d=await so(n,[],void 0,r);return o(r,"success"),{modelName:r,status:"success",response:d}}catch(d){return o(r,"error"),{modelName:r,status:"error",error:d.message||"Unknown error"}}});return Promise.all(s)},rv=async(l,n)=>{try{const o=gr(l),s=`You are an image editor. Based on the provided image, apply the following change: "${n}". Describe the resulting image after this edit in detail.`;return await so(s,[o])}catch(o){throw console.error("Error editing image with Ollama:",o),o instanceof Error?new Error(`Failed to edit image: ${o.message}`):new Error("An unknown error occurred while editing the image.")}},cv=async l=>{try{const n=`Generate an image based on this description: "${l}". Describe the generated image in vivid detail, as if you are seeing it.`;return await so(n)}catch(n){throw console.error("Error generating image with Ollama:",n),n instanceof Error?new Error(`Failed to generate image: ${n.message}`):new Error("An unknown error occurred while generating the image.")}},fv=async l=>{try{const n=gr(l);return await so("Describe this image in detail. Be thorough and helpful.",[n])}catch(n){throw console.error("Error analyzing image with Ollama:",n),n instanceof Error?new Error(`Failed to analyze image: ${n.message}`):new Error("An unknown error occurred while analyzing the image.")}},dv=async l=>{if(!l.image&&!l.text)throw new Error("Either an image or a text prompt must be provided.");try{let n="",o=[];l.image?(o.push(gr(l.image)),n="Extract a 5-color palette from this image. Provide descriptive names and hex codes for each color. Respond in JSON format with a 'palette' array, each object having 'hex' and 'name' properties."):l.text&&(n=`Generate a 5-color palette based on the theme: "${l.text}". Provide creative, descriptive names and hex codes for each color. Respond in JSON format with a 'palette' array, each object having 'hex' and 'name' properties.`);const s=await so(n,o,"json"),r=JSON.parse(s);if(r.palette&&Array.isArray(r.palette))return r.palette.map(d=>({hex:d.hex,name:d.name}));throw new Error("Ollama did not return a valid color palette in the expected JSON format. Ensure the model follows the JSON instruction.")}catch(n){throw console.error("Error generating color palette with Ollama:",n),n instanceof Error?n.message.includes("Unexpected token")||n.message.includes("JSON")?new Error(`Failed to parse Ollama's response as JSON for palette generation. The model might not have adhered to the JSON format instruction. Raw error: ${n.message}`):new Error(`Failed to generate palette: ${n.message}`):new Error("An unknown error occurred while generating the palette.")}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mv,pv;function hv(){return{geminiUrl:mv,vertexUrl:pv}}function gv(l,n,o,s){var r,d;if(!l?.baseUrl){const p=hv();return n?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(d=p.geminiUrl)!==null&&d!==void 0?d:s}return l.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fl{}function Q(l,n){const o=/\{([^}]+)\}/g;return l.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const d=n[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(l,n,o){for(let d=0;d<n.length-1;d++){const p=n[d];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in l))if(Array.isArray(o))l[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(l[g])){const y=l[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const T=y[h];c(T,n.slice(d+1),o[h])}else for(const h of y)c(h,n.slice(d+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in l||(l[g]=[{}]);const y=l[g];c(y[0],n.slice(d+1),o);return}(!l[p]||typeof l[p]!="object")&&(l[p]={}),l=l[p]}const s=n[n.length-1],r=l[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(l,o):l[s]=o}function u(l,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return l;for(let s=0;s<n.length;s++){if(typeof l!="object"||l===null)return o;const r=n[s];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in l){const p=l[d];return Array.isArray(p)?p.map(g=>u(g,n.slice(s+1),o)):o}else return o}else l=l[r]}return l}catch(s){if(s instanceof TypeError)return o;throw s}}function yv(l,n){for(const[o,s]of Object.entries(n)){const r=o.split("."),d=s.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}ar(l,r,d,0,p)}}function ar(l,n,o,s,r){if(s>=n.length||typeof l!="object"||l===null)return;const d=n[s];if(d.endsWith("[]")){const p=d.slice(0,-2),g=l;if(p in g&&Array.isArray(g[p]))for(const y of g[p])ar(y,n,o,s+1,r)}else if(d==="*"){if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const p=l,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,T]of Object.entries(y)){const S=[];for(const _ of o.slice(s))_==="*"?S.push(h):S.push(_);c(p,S,T)}for(const h of g)delete p[h]}}else{const p=l;d in p&&ar(p[d],n,o,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yr(l){if(typeof l!="string")throw new Error("fromImageBytes must be a string");return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vv(l){const n={},o=u(l,["operationName"]);o!=null&&c(n,["operationName"],o);const s=u(l,["resourceName"]);return s!=null&&c(n,["_url","resourceName"],s),n}function Tv(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const p=u(l,["response","generateVideoResponse"]);return p!=null&&c(n,["response"],Ev(p)),n}function Sv(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const p=u(l,["response"]);return p!=null&&c(n,["response"],_v(p)),n}function Ev(l){const n={},o=u(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Cv(p))),c(n,["generatedVideos"],d)}const s=u(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function _v(l){const n={},o=u(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Av(p))),c(n,["generatedVideos"],d)}const s=u(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function Cv(l){const n={},o=u(l,["video"]);return o!=null&&c(n,["video"],Rv(o)),n}function Av(l){const n={},o=u(l,["_self"]);return o!=null&&c(n,["video"],Nv(o)),n}function Mv(l){const n={},o=u(l,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function xv(l){const n={},o=u(l,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function Rv(l){const n={},o=u(l,["uri"]);o!=null&&c(n,["uri"],o);const s=u(l,["encodedVideo"]);s!=null&&c(n,["videoBytes"],yr(s));const r=u(l,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function Nv(l){const n={},o=u(l,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=u(l,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],yr(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hm;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hm||(Hm={}));var zm;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(zm||(zm={}));var Vm;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(Vm||(Vm={}));var It;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(It||(It={}));var Bm;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Bm||(Bm={}));var Pm;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(Pm||(Pm={}));var Om;(function(l){l.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",l.SIMPLE_SEARCH="SIMPLE_SEARCH",l.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Om||(Om={}));var km;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",l.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",l.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",l.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",l.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(km||(km={}));var Ym;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(Ym||(Ym={}));var Jm;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(Jm||(Jm={}));var Fm;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",l.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",l.NO_IMAGE="NO_IMAGE"})(Fm||(Fm={}));var Xm;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(Xm||(Xm={}));var Km;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Km||(Km={}));var Qm;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",l.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",l.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Qm||(Qm={}));var Zm;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.IMAGE_SAFETY="IMAGE_SAFETY",l.MODEL_ARMOR="MODEL_ARMOR",l.JAILBREAK="JAILBREAK"})(Zm||(Zm={}));var $m;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($m||($m={}));var oo;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(oo||(oo={}));var Wm;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Wm||(Wm={}));var jm;(function(l){l.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",l.TUNING_MODE_FULL="TUNING_MODE_FULL",l.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jm||(jm={}));var ep;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ep||(ep={}));var sr;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sr||(sr={}));var tp;(function(l){l.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",l.TUNING_TASK_I2V="TUNING_TASK_I2V",l.TUNING_TASK_T2V="TUNING_TASK_T2V"})(tp||(tp={}));var np;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(np||(np={}));var lp;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(lp||(lp={}));var ip;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(ip||(ip={}));var op;(function(l){l.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",l.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(op||(op={}));var ap;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE",l.VALIDATED="VALIDATED"})(ap||(ap={}));var sp;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(sp||(sp={}));var up;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(up||(up={}));var rp;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi",l.zh="zh",l.pt="pt",l.es="es"})(rp||(rp={}));var cp;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cp||(cp={}));var fp;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fp||(fp={}));var dp;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dp||(dp={}));var mp;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mp||(mp={}));var pp;(function(l){l.FOREGROUND="FOREGROUND",l.BACKGROUND="BACKGROUND",l.PROMPT="PROMPT",l.SEMANTIC="SEMANTIC",l.INTERACTIVE="INTERACTIVE"})(pp||(pp={}));var hp;(function(l){l.ASSET="ASSET",l.STYLE="STYLE"})(hp||(hp={}));var gp;(function(l){l.INSERT="INSERT",l.REMOVE="REMOVE",l.REMOVE_STATIC="REMOVE_STATIC",l.OUTPAINT="OUTPAINT"})(gp||(gp={}));var yp;(function(l){l.OPTIMIZED="OPTIMIZED",l.LOSSLESS="LOSSLESS"})(yp||(yp={}));var vp;(function(l){l.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",l.PREFERENCE_TUNING="PREFERENCE_TUNING"})(vp||(vp={}));var Tp;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(Tp||(Tp={}));var Sp;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(Sp||(Sp={}));var Ep;(function(l){l.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.RESPONSE_REJECTED="RESPONSE_REJECTED",l.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ep||(Ep={}));var _p;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(_p||(_p={}));var Cp;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Cp||(Cp={}));var Ap;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ap||(Ap={}));var Mp;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(Mp||(Mp={}));var xp;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xp||(xp={}));var Rp;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Rp||(Rp={}));var Np;(function(l){l.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",l.QUALITY="QUALITY",l.DIVERSITY="DIVERSITY",l.VOCALIZATION="VOCALIZATION"})(Np||(Np={}));var Wl;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(Wl||(Wl={}));class ur{constructor(n){const o={};for(const s of n.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class lo{get text(){var n,o,s,r,d,p,g,y;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",T=!1;const S=[];for(const _ of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[R,G]of Object.entries(_))R!=="text"&&R!=="thought"&&(G!==null||G!==void 0)&&S.push(R);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;T=!0,h+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?h:void 0}get data(){var n,o,s,r,d,p,g,y;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const T=[];for(const S of(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,R]of Object.entries(S))_!=="inlineData"&&(R!==null||R!==void 0)&&T.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,o,s,r,d,p,g,y;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if(h?.length!==0)return h}get executableCode(){var n,o,s,r,d,p,g,y,h;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if(T?.length!==0)return(h=T?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,o,s,r,d,p,g,y,h;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(y=(g=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if(T?.length!==0)return(h=T?.[0])===null||h===void 0?void 0:h.output}}class Dp{}class Ip{}class Dv{}class Iv{}class Uv{}class bv{}class Up{}class bp{}class wp{}class wv{}class Ua{_fromAPIResponse({apiResponse:n,isVertexAI:o}){const s=new Ua;let r;const d=n;return o?r=Sv(d):r=Tv(d),Object.assign(s,r),s}}class Gp{}class Lp{}class qp{}class Gv{}class Lv{}class qv{}class Hp{}class Hv{get text(){var n,o,s;let r="",d=!1;const p=[];for(const g of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var n,o,s;let r="";const d=[];for(const p of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class zv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(l,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(l.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function lh(l,n){const o=Ae(l,n);return o?o.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}`:o.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${o}`:o:""}function ih(l){return Array.isArray(l)?l.map(n=>ba(n)):[ba(l)]}function ba(l){if(typeof l=="object"&&l!==null)return l;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof l}`)}function oh(l){const n=ba(l);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function ah(l){const n=ba(l);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function zp(l){if(l==null)throw new Error("PartUnion is required");if(typeof l=="object")return l;if(typeof l=="string")return{text:l};throw new Error(`Unsupported part type: ${typeof l}`)}function sh(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("PartListUnion is required");return Array.isArray(l)?l.map(n=>zp(n)):[zp(l)]}function rr(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function Vp(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function Bp(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function at(l){if(l==null)throw new Error("ContentUnion is required");return rr(l)?l:{role:"user",parts:sh(l)}}function vr(l,n){if(!n)return[];if(l.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const s=at(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(l.isVertexAI()){const o=at(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>at(o)):[at(n)]}function Ot(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("contents are required");if(!Array.isArray(l)){if(Vp(l)||Bp(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[at(l)]}const n=[],o=[],s=rr(l[0]);for(const r of l){const d=rr(r);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(r);else{if(Vp(r)||Bp(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||n.push({role:"user",parts:sh(o)}),n}function Vv(l,n){l.includes("null")&&(n.nullable=!0);const o=l.filter(s=>s!=="null");if(o.length===1)n.type=Object.values(It).includes(o[0].toUpperCase())?o[0].toUpperCase():It.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of o)n.anyOf.push({type:Object.values(It).includes(s.toUpperCase())?s.toUpperCase():It.TYPE_UNSPECIFIED})}}function jl(l){const n={},o=["items"],s=["anyOf"],r=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=l.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,l=d[1]):d[1].type==="null"&&(n.nullable=!0,l=d[0])),l.type instanceof Array&&Vv(l.type,n);for(const[p,g]of Object.entries(l))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values(It).includes(g.toUpperCase())?g.toUpperCase():It.TYPE_UNSPECIFIED}else if(o.includes(p))n[p]=jl(g);else if(s.includes(p)){const y=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}y.push(jl(h))}n[p]=y}else if(r.includes(p)){const y={};for(const[h,T]of Object.entries(g))y[h]=jl(T);n[p]=y}else{if(p==="additionalProperties")continue;n[p]=g}return n}function Tr(l){return jl(l)}function Sr(l){if(typeof l=="object")return l;if(typeof l=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:l}}};throw new Error(`Unsupported speechConfig type: ${typeof l}`)}function Er(l){if("multiSpeakerVoiceConfig"in l)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return l}function li(l){if(l.functionDeclarations)for(const n of l.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=jl(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=jl(n.response));return l}function ii(l){if(l==null)throw new Error("tools is required");if(!Array.isArray(l))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of l)n.push(o);return n}function Bv(l,n,o,s=1){const r=!n.startsWith(`${o}/`)&&n.split("/").length===s;return l.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${l.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${n}`:r?`projects/${l.getProject()}/locations/${l.getLocation()}/${o}/${n}`:n:r?`${o}/${n}`:n}function yn(l,n){if(typeof n!="string")throw new Error("name must be a string");return Bv(l,n,"cachedContents")}function uh(l){switch(l){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return l}}function Jn(l){return yr(l)}function Pv(l){return l!=null&&typeof l=="object"&&"name"in l}function Ov(l){return l!=null&&typeof l=="object"&&"video"in l}function kv(l){return l!=null&&typeof l=="object"&&"uri"in l}function rh(l){var n;let o;if(Pv(l)&&(o=l.name),!(kv(l)&&(o=l.uri,o===void 0))&&!(Ov(l)&&(o=(n=l.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof l=="string"&&(o=l),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function ch(l,n){let o;return l.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function fh(l){for(const n of["models","tunedModels","publisherModels"])if(Yv(l,n))return l[n];return[]}function Yv(l,n){return l!==null&&typeof l=="object"&&n in l}function Jv(l,n={}){const o=l,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function Fv(l,n={}){const o=[],s=new Set;for(const r of l){const d=r.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const p=Jv(r,n);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function dh(l,n){let o;if(typeof n=="string")if(l.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(l.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(l.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Xv(l){if(typeof l!="string")return l;const n=l;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function mh(l){if(typeof l!="object"||l===null)return{};const n=l,o=n.inlinedResponses;if(typeof o!="object"||o===null)return l;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return l;let d=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),l}function oi(l,n){const o=n;if(!l.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function ph(l){const n=l;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kv(l){const n={},o=u(l,["responsesFile"]);o!=null&&c(n,["fileName"],o);const s=u(l,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>M0(p))),c(n,["inlinedResponses"],d)}const r=u(l,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["inlinedEmbedContentResponses"],d)}return n}function Qv(l){const n={},o=u(l,["predictionsFormat"]);o!=null&&c(n,["format"],o);const s=u(l,["gcsDestination","outputUriPrefix"]);s!=null&&c(n,["gcsUri"],s);const r=u(l,["bigqueryDestination","outputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function Zv(l){const n={},o=u(l,["format"]);o!=null&&c(n,["predictionsFormat"],o);const s=u(l,["gcsUri"]);s!=null&&c(n,["gcsDestination","outputUriPrefix"],s);const r=u(l,["bigqueryUri"]);if(r!=null&&c(n,["bigqueryDestination","outputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(l,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Da(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata","displayName"]);s!=null&&c(n,["displayName"],s);const r=u(l,["metadata","state"]);r!=null&&c(n,["state"],ph(r));const d=u(l,["metadata","createTime"]);d!=null&&c(n,["createTime"],d);const p=u(l,["metadata","endTime"]);p!=null&&c(n,["endTime"],p);const g=u(l,["metadata","updateTime"]);g!=null&&c(n,["updateTime"],g);const y=u(l,["metadata","model"]);y!=null&&c(n,["model"],y);const h=u(l,["metadata","output"]);return h!=null&&c(n,["dest"],Kv(mh(h))),n}function cr(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(l,["state"]);r!=null&&c(n,["state"],ph(r));const d=u(l,["error"]);d!=null&&c(n,["error"],d);const p=u(l,["createTime"]);p!=null&&c(n,["createTime"],p);const g=u(l,["startTime"]);g!=null&&c(n,["startTime"],g);const y=u(l,["endTime"]);y!=null&&c(n,["endTime"],y);const h=u(l,["updateTime"]);h!=null&&c(n,["updateTime"],h);const T=u(l,["model"]);T!=null&&c(n,["model"],T);const S=u(l,["inputConfig"]);S!=null&&c(n,["src"],$v(S));const _=u(l,["outputConfig"]);return _!=null&&c(n,["dest"],Qv(mh(_))),n}function $v(l){const n={},o=u(l,["instancesFormat"]);o!=null&&c(n,["format"],o);const s=u(l,["gcsSource","uris"]);s!=null&&c(n,["gcsUri"],s);const r=u(l,["bigquerySource","inputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function Wv(l,n){const o={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(n,["fileName"]);s!=null&&c(o,["fileName"],s);const r=u(n,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>A0(l,p))),c(o,["requests","requests"],d)}return o}function jv(l){const n={},o=u(l,["format"]);o!=null&&c(n,["instancesFormat"],o);const s=u(l,["gcsUri"]);s!=null&&c(n,["gcsSource","uris"],s);const r=u(l,["bigqueryUri"]);if(r!=null&&c(n,["bigquerySource","inputUri"],r),u(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(l,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function e0(l){const n={},o=u(l,["data"]);if(o!=null&&c(n,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function t0(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],oi(l,s)),o}function n0(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],oi(l,s)),o}function l0(l){const n={},o=u(l,["content"]);o!=null&&c(n,["content"],o);const s=u(l,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],i0(s));const r=u(l,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const d=u(l,["finishReason"]);d!=null&&c(n,["finishReason"],d);const p=u(l,["avgLogprobs"]);p!=null&&c(n,["avgLogprobs"],p);const g=u(l,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=u(l,["index"]);y!=null&&c(n,["index"],y);const h=u(l,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const T=u(l,["safetyRatings"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(R=>R)),c(n,["safetyRatings"],_)}const S=u(l,["urlContextMetadata"]);return S!=null&&c(n,["urlContextMetadata"],S),n}function i0(l){const n={},o=u(l,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["citations"],s)}return n}function hh(l){const n={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>b0(d))),c(n,["parts"],r)}const s=u(l,["role"]);return s!=null&&c(n,["role"],s),n}function o0(l,n){const o={},s=u(l,["displayName"]);if(n!==void 0&&s!=null&&c(n,["batch","displayName"],s),u(l,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function a0(l,n){const o={},s=u(l,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(l,["dest"]);return n!==void 0&&r!=null&&c(n,["outputConfig"],Zv(Xv(r))),o}function Pp(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],Wv(l,dh(l,r)));const d=u(n,["config"]);return d!=null&&o0(d,o),o}function s0(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],Ae(l,s));const r=u(n,["src"]);r!=null&&c(o,["inputConfig"],jv(dh(l,r)));const d=u(n,["config"]);return d!=null&&a0(d,o),o}function u0(l,n){const o={},s=u(l,["displayName"]);return n!==void 0&&s!=null&&c(n,["batch","displayName"],s),o}function r0(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],g0(l,r));const d=u(n,["config"]);return d!=null&&u0(d,o),o}function c0(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],oi(l,s)),o}function f0(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],oi(l,s)),o}function d0(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["name"]);s!=null&&c(n,["name"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);return d!=null&&c(n,["error"],d),n}function m0(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["name"]);s!=null&&c(n,["name"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);return d!=null&&c(n,["error"],d),n}function p0(l,n){const o={},s=u(n,["contents"]);if(s!=null){let d=vr(l,s);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["requests[]","request","content"],d)}const r=u(n,["config"]);return r!=null&&(c(o,["_self"],h0(r,o)),yv(o,{"requests[].*":"requests[].request.*"})),o}function h0(l,n){const o={},s=u(l,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const r=u(l,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const d=u(l,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function g0(l,n){const o={},s=u(n,["fileName"]);s!=null&&c(o,["file_name"],s);const r=u(n,["inlinedRequests"]);return r!=null&&c(o,["requests"],p0(l,r)),o}function y0(l){const n={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function v0(l,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],hh(at(r)));const d=u(n,["temperature"]);d!=null&&c(s,["temperature"],d);const p=u(n,["topP"]);p!=null&&c(s,["topP"],p);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const T=u(n,["stopSequences"]);T!=null&&c(s,["stopSequences"],T);const S=u(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const _=u(n,["logprobs"]);_!=null&&c(s,["logprobs"],_);const R=u(n,["presencePenalty"]);R!=null&&c(s,["presencePenalty"],R);const G=u(n,["frequencyPenalty"]);G!=null&&c(s,["frequencyPenalty"],G);const V=u(n,["seed"]);V!=null&&c(s,["seed"],V);const F=u(n,["responseMimeType"]);F!=null&&c(s,["responseMimeType"],F);const Y=u(n,["responseSchema"]);Y!=null&&c(s,["responseSchema"],Tr(Y));const J=u(n,["responseJsonSchema"]);if(J!=null&&c(s,["responseJsonSchema"],J),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=u(n,["safetySettings"]);if(o!==void 0&&P!=null){let fe=P;Array.isArray(fe)&&(fe=fe.map(ke=>w0(ke))),c(o,["safetySettings"],fe)}const Z=u(n,["tools"]);if(o!==void 0&&Z!=null){let fe=ii(Z);Array.isArray(fe)&&(fe=fe.map(ke=>G0(li(ke)))),c(o,["tools"],fe)}const le=u(n,["toolConfig"]);if(o!==void 0&&le!=null&&c(o,["toolConfig"],le),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=u(n,["cachedContent"]);o!==void 0&&$!=null&&c(o,["cachedContent"],yn(l,$));const k=u(n,["responseModalities"]);k!=null&&c(s,["responseModalities"],k);const ce=u(n,["mediaResolution"]);ce!=null&&c(s,["mediaResolution"],ce);const te=u(n,["speechConfig"]);if(te!=null&&c(s,["speechConfig"],Sr(te)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=u(n,["thinkingConfig"]);ue!=null&&c(s,["thinkingConfig"],ue);const Se=u(n,["imageConfig"]);return Se!=null&&c(s,["imageConfig"],Se),s}function T0(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>l0(h))),c(n,["candidates"],y)}const r=u(l,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const d=u(l,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const p=u(l,["responseId"]);p!=null&&c(n,["responseId"],p);const g=u(l,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function S0(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],oi(l,s)),o}function E0(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],oi(l,s)),o}function _0(l){const n={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function C0(l){const n={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function A0(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["request","model"],Ae(l,s));const r=u(n,["contents"]);if(r!=null){let g=Ot(r);Array.isArray(g)&&(g=g.map(y=>hh(y))),c(o,["request","contents"],g)}const d=u(n,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(n,["config"]);return p!=null&&c(o,["request","generationConfig"],v0(l,p,u(o,["request"],{}))),o}function M0(l){const n={},o=u(l,["response"]);o!=null&&c(n,["response"],T0(o));const s=u(l,["error"]);return s!=null&&c(n,["error"],s),n}function x0(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);if(n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),u(l,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function R0(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const d=u(l,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),o}function N0(l){const n={},o=u(l,["config"]);return o!=null&&x0(o,n),n}function D0(l){const n={},o=u(l,["config"]);return o!=null&&R0(o,n),n}function I0(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>Da(p))),c(n,["batchJobs"],d)}return n}function U0(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>cr(p))),c(n,["batchJobs"],d)}return n}function b0(l){const n={},o=u(l,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(l,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(l,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(n,["fileData"],y0(d));const p=u(l,["functionResponse"]);p!=null&&c(n,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(n,["inlineData"],e0(g));const y=u(l,["text"]);y!=null&&c(n,["text"],y);const h=u(l,["thought"]);h!=null&&c(n,["thought"],h);const T=u(l,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const S=u(l,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function w0(l){const n={},o=u(l,["category"]);if(o!=null&&c(n,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(l,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function G0(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(T=>T)),c(n,["functionDeclarations"],h)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(l,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(l,["googleMaps"]);r!=null&&c(n,["googleMaps"],_0(r));const d=u(l,["computerUse"]);d!=null&&c(n,["computerUse"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleSearch"]);g!=null&&c(n,["googleSearch"],C0(g));const y=u(l,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cl;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents",l.PAGED_ITEM_RAG_STORES="ragStores",l.PAGED_ITEM_DOCUMENTS="documents"})(cl||(cl={}));class uo{constructor(n,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,s,r)}init(n,o,s){var r,d;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!s||Object.keys(s).length===0?p={config:{}}:typeof s=="object"?p=Object.assign({},s):p=s,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L0 extends fl{constructor(n){super(),this.apiClient=n,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new uo(cl.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o)}createInlinedGenerateContentRequest(n){const o=Pp(this.apiClient,n),s=o._url,r=Q("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const T of y){const S=Object.assign({},T);if(S.systemInstruction){const _=S.systemInstruction;delete S.systemInstruction;const R=S.request;R.systemInstruction=_,S.request=R}h.push(S)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const d=this.getGcsUri(n),p=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${r}`;else if(p)s.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=s0(this.apiClient,n);return g=Q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>cr(T))}else{const h=Pp(this.apiClient,n);return g=Q("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>Da(T))}}async createEmbeddingsInternal(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=r0(this.apiClient,n);return d=Q("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>Da(y))}}async get(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=E0(this.apiClient,n);return g=Q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>cr(T))}else{const h=S0(this.apiClient,n);return g=Q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>Da(T))}}async cancel(n){var o,s,r,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=n0(this.apiClient,n);p=Q("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=t0(this.apiClient,n);p=Q("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=D0(n);return g=Q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=U0(T),_=new Hp;return Object.assign(_,S),_})}else{const h=N0(n);return g=Q("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=I0(T),_=new Hp;return Object.assign(_,S),_})}}async delete(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=f0(this.apiClient,n);return g=Q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>m0(T))}else{const h=c0(this.apiClient,n);return g=Q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>d0(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q0(l){const n={},o=u(l,["data"]);if(o!=null&&c(n,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Op(l){const n={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>lT(d))),c(n,["parts"],r)}const s=u(l,["role"]);return s!=null&&c(n,["role"],s),n}function H0(l,n){const o={},s=u(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(l,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const d=u(l,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const p=u(l,["contents"]);if(n!==void 0&&p!=null){let T=Ot(p);Array.isArray(T)&&(T=T.map(S=>Op(S))),c(n,["contents"],T)}const g=u(l,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],Op(at(g)));const y=u(l,["tools"]);if(n!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>iT(S))),c(n,["tools"],T)}const h=u(l,["toolConfig"]);if(n!==void 0&&h!=null&&c(n,["toolConfig"],h),u(l,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function z0(l,n){const o={},s=u(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(l,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const d=u(l,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const p=u(l,["contents"]);if(n!==void 0&&p!=null){let S=Ot(p);Array.isArray(S)&&(S=S.map(_=>_)),c(n,["contents"],S)}const g=u(l,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],at(g));const y=u(l,["tools"]);if(n!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>oT(_))),c(n,["tools"],S)}const h=u(l,["toolConfig"]);n!==void 0&&h!=null&&c(n,["toolConfig"],h);const T=u(l,["kmsKeyName"]);return n!==void 0&&T!=null&&c(n,["encryption_spec","kmsKeyName"],T),o}function V0(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],lh(l,s));const r=u(n,["config"]);return r!=null&&H0(r,o),o}function B0(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],lh(l,s));const r=u(n,["config"]);return r!=null&&z0(r,o),o}function P0(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],yn(l,s)),o}function O0(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],yn(l,s)),o}function k0(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Y0(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function J0(l){const n={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function F0(l){const n={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(n,["description"],o);const s=u(l,["name"]);s!=null&&c(n,["name"],s);const r=u(l,["parameters"]);r!=null&&c(n,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=u(l,["response"]);p!=null&&c(n,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function X0(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],yn(l,s)),o}function K0(l,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],yn(l,s)),o}function Q0(l){const n={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function Z0(l){const n={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function $0(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function W0(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function j0(l){const n={},o=u(l,["config"]);return o!=null&&$0(o,n),n}function eT(l){const n={},o=u(l,["config"]);return o!=null&&W0(o,n),n}function tT(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["cachedContents"],d)}return n}function nT(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["cachedContents"],d)}return n}function lT(l){const n={},o=u(l,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(l,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(l,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(n,["fileData"],J0(d));const p=u(l,["functionResponse"]);p!=null&&c(n,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(n,["inlineData"],q0(g));const y=u(l,["text"]);y!=null&&c(n,["text"],y);const h=u(l,["thought"]);h!=null&&c(n,["thought"],h);const T=u(l,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const S=u(l,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function iT(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(T=>T)),c(n,["functionDeclarations"],h)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(l,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(l,["googleMaps"]);r!=null&&c(n,["googleMaps"],Q0(r));const d=u(l,["computerUse"]);d!=null&&c(n,["computerUse"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleSearch"]);g!=null&&c(n,["googleSearch"],Z0(g));const y=u(l,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}function oT(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>F0(_))),c(n,["functionDeclarations"],S)}const s=u(l,["retrieval"]);s!=null&&c(n,["retrieval"],s);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const d=u(l,["googleMaps"]);d!=null&&c(n,["googleMaps"],d);const p=u(l,["computerUse"]);p!=null&&c(n,["computerUse"],p);const g=u(l,["codeExecution"]);g!=null&&c(n,["codeExecution"],g);const y=u(l,["enterpriseWebSearch"]);y!=null&&c(n,["enterpriseWebSearch"],y);const h=u(l,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const T=u(l,["urlContext"]);return T!=null&&c(n,["urlContext"],T),n}function aT(l,n){const o={},s=u(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(l,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function sT(l,n){const o={},s=u(l,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(l,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function uT(l,n){const o={},s=u(n,["name"]);s!=null&&c(o,["_url","name"],yn(l,s));const r=u(n,["config"]);return r!=null&&aT(r,o),o}function rT(l,n){const o={},s=u(n,["name"]);s!=null&&c(o,["_url","name"],yn(l,s));const r=u(n,["config"]);return r!=null&&sT(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cT extends fl{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new uo(cl.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=B0(this.apiClient,n);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const h=V0(this.apiClient,n);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async get(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=K0(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const h=X0(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async delete(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=O0(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=Y0(T),_=new Lp;return Object.assign(_,S),_})}else{const h=P0(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=k0(T),_=new Lp;return Object.assign(_,S),_})}}async update(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=rT(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const h=uT(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async listInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=eT(n);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=nT(T),_=new qp;return Object.assign(_,S),_})}else{const h=j0(n);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=tT(T),_=new qp;return Object.assign(_,S),_})}}}function kp(l){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&l[n],s=0;if(o)return o.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(l){return this instanceof Le?(this.v=l,this):new Le(l)}function ei(l,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(l,n||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(R){return function(G){return Promise.resolve(G).then(R,S)}}function g(R,G){s[R]&&(r[R]=function(V){return new Promise(function(F,Y){d.push([R,V,F,Y])>1||y(R,V)})},G&&(r[R]=G(r[R])))}function y(R,G){try{h(s[R](G))}catch(V){_(d[0][3],V)}}function h(R){R.value instanceof Le?Promise.resolve(R.value.v).then(T,S):_(d[0][2],R)}function T(R){y("next",R)}function S(R){y("throw",R)}function _(R,G){R(G),d.shift(),d.length&&y(d[0][0],d[0][1])}}function io(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],o;return n?n.call(l):(l=typeof kp=="function"?kp(l):l[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(d){o[d]=l[d]&&function(p){return new Promise(function(g,y){p=l[d](p),r(g,y,p.done,p.value)})}}function r(d,p,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fT(l){var n;if(l.candidates==null||l.candidates.length===0)return!1;const o=(n=l.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:gh(o)}function gh(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const n of l.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function dT(l){if(l.length!==0){for(const n of l)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Yp(l){if(l===void 0||l.length===0)return[];const n=[],o=l.length;let s=0;for(;s<o;)if(l[s].role==="user")n.push(l[s]),s++;else{const r=[];let d=!0;for(;s<o&&l[s].role==="model";)r.push(l[s]),d&&!gh(l[s])&&(d=!1),s++;d?n.push(...r):n.pop()}return n}class mT{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new pT(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class pT{constructor(n,o,s,r={},d=[]){this.apiClient=n,this.modelsModule=o,this.model=s,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),dT(d)}async sendMessage(n){var o;await this.sendPromise;const s=at(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,g;const y=await r,h=(p=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,T=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];T!=null&&(_=(g=T.slice(S))!==null&&g!==void 0?g:[]);const R=h?[h]:[];this.recordHistory(s,R,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var o;await this.sendPromise;const s=at(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,s)}getHistory(n=!1){const o=n?Yp(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var s,r;return ei(this,arguments,function*(){var p,g,y,h;const T=[];try{for(var S=!0,_=io(n),R;R=yield Le(_.next()),p=R.done,!p;S=!0){h=R.value,S=!1;const G=h;if(fT(G)){const V=(r=(s=G.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content;V!==void 0&&T.push(V)}yield yield Le(G)}}catch(G){g={error:G}}finally{try{!S&&!p&&(y=_.return)&&(yield Le(y.call(_)))}finally{if(g)throw g.error}}this.recordHistory(o,T)})}recordHistory(n,o,s){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Yp(s)):this.history.push(n),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wa extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,wa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hT(l){const n={},o=u(l,["file"]);return o!=null&&c(n,["file"],o),n}function gT(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function yT(l){const n={},o=u(l,["name"]);return o!=null&&c(n,["_url","file"],rh(o)),n}function vT(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function TT(l){const n={},o=u(l,["name"]);return o!=null&&c(n,["_url","file"],rh(o)),n}function ST(l,n){const o={},s=u(l,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(l,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function ET(l){const n={},o=u(l,["config"]);return o!=null&&ST(o,n),n}function _T(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["files"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CT extends fl{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new uo(cl.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ET(n);return d=Q("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>{const h=_T(y),T=new Gv;return Object.assign(T,h),T})}}async createInternal(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hT(n);return d=Q("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=gT(y),T=new Lv;return Object.assign(T,h),T})}}async get(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TT(n);return d=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yT(n);return d=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>{const h=vT(y),T=new qv;return Object.assign(T,h),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ia(l){const n={},o=u(l,["data"]);if(o!=null&&c(n,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function AT(l){const n={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>VT(d))),c(n,["parts"],r)}const s=u(l,["role"]);return s!=null&&c(n,["role"],s),n}function MT(l){const n={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function xT(l){const n={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(n,["description"],o);const s=u(l,["name"]);s!=null&&c(n,["name"],s);const r=u(l,["parameters"]);r!=null&&c(n,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=u(l,["response"]);p!=null&&c(n,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function RT(l){const n={},o=u(l,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=u(l,["audioTimestamp"]);s!=null&&c(n,["audioTimestamp"],s);const r=u(l,["candidateCount"]);r!=null&&c(n,["candidateCount"],r);const d=u(l,["enableAffectiveDialog"]);d!=null&&c(n,["enableAffectiveDialog"],d);const p=u(l,["frequencyPenalty"]);p!=null&&c(n,["frequencyPenalty"],p);const g=u(l,["logprobs"]);g!=null&&c(n,["logprobs"],g);const y=u(l,["maxOutputTokens"]);y!=null&&c(n,["maxOutputTokens"],y);const h=u(l,["mediaResolution"]);h!=null&&c(n,["mediaResolution"],h);const T=u(l,["presencePenalty"]);T!=null&&c(n,["presencePenalty"],T);const S=u(l,["responseJsonSchema"]);S!=null&&c(n,["responseJsonSchema"],S);const _=u(l,["responseLogprobs"]);_!=null&&c(n,["responseLogprobs"],_);const R=u(l,["responseMimeType"]);R!=null&&c(n,["responseMimeType"],R);const G=u(l,["responseModalities"]);G!=null&&c(n,["responseModalities"],G);const V=u(l,["responseSchema"]);V!=null&&c(n,["responseSchema"],V);const F=u(l,["routingConfig"]);F!=null&&c(n,["routingConfig"],F);const Y=u(l,["seed"]);Y!=null&&c(n,["seed"],Y);const J=u(l,["speechConfig"]);J!=null&&c(n,["speechConfig"],yh(J));const P=u(l,["stopSequences"]);P!=null&&c(n,["stopSequences"],P);const Z=u(l,["temperature"]);Z!=null&&c(n,["temperature"],Z);const le=u(l,["thinkingConfig"]);le!=null&&c(n,["thinkingConfig"],le);const $=u(l,["topK"]);$!=null&&c(n,["topK"],$);const k=u(l,["topP"]);if(k!=null&&c(n,["topP"],k),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function NT(l){const n={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function DT(l){const n={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function IT(l,n){const o={},s=u(l,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const r=u(l,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=u(l,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(l,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const T=u(l,["seed"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","seed"],T);const S=u(l,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],Er(S));const _=u(l,["thinkingConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","thinkingConfig"],_);const R=u(l,["enableAffectiveDialog"]);n!==void 0&&R!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],R);const G=u(l,["systemInstruction"]);n!==void 0&&G!=null&&c(n,["setup","systemInstruction"],AT(at(G)));const V=u(l,["tools"]);if(n!==void 0&&V!=null){let $=ii(V);Array.isArray($)&&($=$.map(k=>PT(li(k)))),c(n,["setup","tools"],$)}const F=u(l,["sessionResumption"]);n!==void 0&&F!=null&&c(n,["setup","sessionResumption"],BT(F));const Y=u(l,["inputAudioTranscription"]);n!==void 0&&Y!=null&&c(n,["setup","inputAudioTranscription"],Y);const J=u(l,["outputAudioTranscription"]);n!==void 0&&J!=null&&c(n,["setup","outputAudioTranscription"],J);const P=u(l,["realtimeInputConfig"]);n!==void 0&&P!=null&&c(n,["setup","realtimeInputConfig"],P);const Z=u(l,["contextWindowCompression"]);n!==void 0&&Z!=null&&c(n,["setup","contextWindowCompression"],Z);const le=u(l,["proactivity"]);return n!==void 0&&le!=null&&c(n,["setup","proactivity"],le),o}function UT(l,n){const o={},s=u(l,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],RT(s));const r=u(l,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=u(l,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(l,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const T=u(l,["seed"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","seed"],T);const S=u(l,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],yh(Er(S)));const _=u(l,["thinkingConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","thinkingConfig"],_);const R=u(l,["enableAffectiveDialog"]);n!==void 0&&R!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],R);const G=u(l,["systemInstruction"]);n!==void 0&&G!=null&&c(n,["setup","systemInstruction"],at(G));const V=u(l,["tools"]);if(n!==void 0&&V!=null){let $=ii(V);Array.isArray($)&&($=$.map(k=>OT(li(k)))),c(n,["setup","tools"],$)}const F=u(l,["sessionResumption"]);n!==void 0&&F!=null&&c(n,["setup","sessionResumption"],F);const Y=u(l,["inputAudioTranscription"]);n!==void 0&&Y!=null&&c(n,["setup","inputAudioTranscription"],Y);const J=u(l,["outputAudioTranscription"]);n!==void 0&&J!=null&&c(n,["setup","outputAudioTranscription"],J);const P=u(l,["realtimeInputConfig"]);n!==void 0&&P!=null&&c(n,["setup","realtimeInputConfig"],P);const Z=u(l,["contextWindowCompression"]);n!==void 0&&Z!=null&&c(n,["setup","contextWindowCompression"],Z);const le=u(l,["proactivity"]);return n!==void 0&&le!=null&&c(n,["setup","proactivity"],le),o}function bT(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],Ae(l,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],IT(r,o)),o}function wT(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],Ae(l,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],UT(r,o)),o}function GT(l){const n={},o=u(l,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function LT(l){const n={},o=u(l,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["weightedPrompts"],s)}return n}function qT(l){const n={},o=u(l,["media"]);if(o!=null){let h=ih(o);Array.isArray(h)&&(h=h.map(T=>Ia(T))),c(n,["mediaChunks"],h)}const s=u(l,["audio"]);s!=null&&c(n,["audio"],Ia(ah(s)));const r=u(l,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const d=u(l,["video"]);d!=null&&c(n,["video"],Ia(oh(d)));const p=u(l,["text"]);p!=null&&c(n,["text"],p);const g=u(l,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=u(l,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function HT(l){const n={},o=u(l,["media"]);if(o!=null){let h=ih(o);Array.isArray(h)&&(h=h.map(T=>T)),c(n,["mediaChunks"],h)}const s=u(l,["audio"]);s!=null&&c(n,["audio"],ah(s));const r=u(l,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const d=u(l,["video"]);d!=null&&c(n,["video"],oh(d));const p=u(l,["text"]);p!=null&&c(n,["text"],p);const g=u(l,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=u(l,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function zT(l){const n={},o=u(l,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const s=u(l,["serverContent"]);s!=null&&c(n,["serverContent"],s);const r=u(l,["toolCall"]);r!=null&&c(n,["toolCall"],r);const d=u(l,["toolCallCancellation"]);d!=null&&c(n,["toolCallCancellation"],d);const p=u(l,["usageMetadata"]);p!=null&&c(n,["usageMetadata"],kT(p));const g=u(l,["goAway"]);g!=null&&c(n,["goAway"],g);const y=u(l,["sessionResumptionUpdate"]);return y!=null&&c(n,["sessionResumptionUpdate"],y),n}function VT(l){const n={},o=u(l,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(l,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(l,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(n,["fileData"],MT(d));const p=u(l,["functionResponse"]);p!=null&&c(n,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(n,["inlineData"],Ia(g));const y=u(l,["text"]);y!=null&&c(n,["text"],y);const h=u(l,["thought"]);h!=null&&c(n,["thought"],h);const T=u(l,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const S=u(l,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function BT(l){const n={},o=u(l,["handle"]);if(o!=null&&c(n,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function yh(l){const n={},o=u(l,["languageCode"]);o!=null&&c(n,["languageCode"],o);const s=u(l,["voiceConfig"]);if(s!=null&&c(n,["voiceConfig"],s),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function PT(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(T=>T)),c(n,["functionDeclarations"],h)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(l,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(l,["googleMaps"]);r!=null&&c(n,["googleMaps"],NT(r));const d=u(l,["computerUse"]);d!=null&&c(n,["computerUse"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleSearch"]);g!=null&&c(n,["googleSearch"],DT(g));const y=u(l,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}function OT(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>xT(_))),c(n,["functionDeclarations"],S)}const s=u(l,["retrieval"]);s!=null&&c(n,["retrieval"],s);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const d=u(l,["googleMaps"]);d!=null&&c(n,["googleMaps"],d);const p=u(l,["computerUse"]);p!=null&&c(n,["computerUse"],p);const g=u(l,["codeExecution"]);g!=null&&c(n,["codeExecution"],g);const y=u(l,["enterpriseWebSearch"]);y!=null&&c(n,["enterpriseWebSearch"],y);const h=u(l,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const T=u(l,["urlContext"]);return T!=null&&c(n,["urlContext"],T),n}function kT(l){const n={},o=u(l,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const s=u(l,["cachedContentTokenCount"]);s!=null&&c(n,["cachedContentTokenCount"],s);const r=u(l,["candidatesTokenCount"]);r!=null&&c(n,["responseTokenCount"],r);const d=u(l,["toolUsePromptTokenCount"]);d!=null&&c(n,["toolUsePromptTokenCount"],d);const p=u(l,["thoughtsTokenCount"]);p!=null&&c(n,["thoughtsTokenCount"],p);const g=u(l,["totalTokenCount"]);g!=null&&c(n,["totalTokenCount"],g);const y=u(l,["promptTokensDetails"]);if(y!=null){let R=y;Array.isArray(R)&&(R=R.map(G=>G)),c(n,["promptTokensDetails"],R)}const h=u(l,["cacheTokensDetails"]);if(h!=null){let R=h;Array.isArray(R)&&(R=R.map(G=>G)),c(n,["cacheTokensDetails"],R)}const T=u(l,["candidatesTokensDetails"]);if(T!=null){let R=T;Array.isArray(R)&&(R=R.map(G=>G)),c(n,["responseTokensDetails"],R)}const S=u(l,["toolUsePromptTokensDetails"]);if(S!=null){let R=S;Array.isArray(R)&&(R=R.map(G=>G)),c(n,["toolUsePromptTokensDetails"],R)}const _=u(l,["trafficType"]);return _!=null&&c(n,["trafficType"],_),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YT(l){const n={},o=u(l,["data"]);if(o!=null&&c(n,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function JT(l){const n={},o=u(l,["content"]);o!=null&&c(n,["content"],o);const s=u(l,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],FT(s));const r=u(l,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const d=u(l,["finishReason"]);d!=null&&c(n,["finishReason"],d);const p=u(l,["avgLogprobs"]);p!=null&&c(n,["avgLogprobs"],p);const g=u(l,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=u(l,["index"]);y!=null&&c(n,["index"],y);const h=u(l,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const T=u(l,["safetyRatings"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(R=>R)),c(n,["safetyRatings"],_)}const S=u(l,["urlContextMetadata"]);return S!=null&&c(n,["urlContextMetadata"],S),n}function FT(l){const n={},o=u(l,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["citations"],s)}return n}function XT(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["contents"]);if(r!=null){let d=Ot(r);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["contents"],d)}return o}function KT(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(n,["tokensInfo"],r)}return n}function QT(l){const n={},o=u(l,["values"]);o!=null&&c(n,["values"],o);const s=u(l,["statistics"]);return s!=null&&c(n,["statistics"],ZT(s)),n}function ZT(l){const n={},o=u(l,["truncated"]);o!=null&&c(n,["truncated"],o);const s=u(l,["token_count"]);return s!=null&&c(n,["tokenCount"],s),n}function Ga(l){const n={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>tE(d))),c(n,["parts"],r)}const s=u(l,["role"]);return s!=null&&c(n,["role"],s),n}function $T(l){const n={},o=u(l,["controlType"]);o!=null&&c(n,["controlType"],o);const s=u(l,["enableControlImageComputation"]);return s!=null&&c(n,["computeControl"],s),n}function WT(l){const n={};if(u(l,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(l,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(l,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function jT(l,n){const o={},s=u(l,["systemInstruction"]);n!==void 0&&s!=null&&c(n,["systemInstruction"],at(s));const r=u(l,["tools"]);if(n!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>_h(g))),c(n,["tools"],p)}const d=u(l,["generationConfig"]);return n!==void 0&&d!=null&&c(n,["generationConfig"],OS(d)),o}function eS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["contents"]);if(r!=null){let p=Ot(r);Array.isArray(p)&&(p=p.map(g=>Ga(g))),c(o,["contents"],p)}const d=u(n,["config"]);return d!=null&&WT(d),o}function tS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["contents"]);if(r!=null){let p=Ot(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=u(n,["config"]);return d!=null&&jT(d,o),o}function nS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["totalTokens"]);s!=null&&c(n,["totalTokens"],s);const r=u(l,["cachedContentTokenCount"]);return r!=null&&c(n,["cachedContentTokenCount"],r),n}function lS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["totalTokens"]);return s!=null&&c(n,["totalTokens"],s),n}function iS(l,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],Ae(l,s)),o}function oS(l,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],Ae(l,s)),o}function aS(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function sS(l){const n={},o=u(l,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function uS(l,n){const o={},s=u(l,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const r=u(l,["negativePrompt"]);n!==void 0&&r!=null&&c(n,["parameters","negativePrompt"],r);const d=u(l,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const p=u(l,["aspectRatio"]);n!==void 0&&p!=null&&c(n,["parameters","aspectRatio"],p);const g=u(l,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=u(l,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=u(l,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const T=u(l,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const S=u(l,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const _=u(l,["includeRaiReason"]);n!==void 0&&_!=null&&c(n,["parameters","includeRaiReason"],_);const R=u(l,["language"]);n!==void 0&&R!=null&&c(n,["parameters","language"],R);const G=u(l,["outputMimeType"]);n!==void 0&&G!=null&&c(n,["parameters","outputOptions","mimeType"],G);const V=u(l,["outputCompressionQuality"]);n!==void 0&&V!=null&&c(n,["parameters","outputOptions","compressionQuality"],V);const F=u(l,["addWatermark"]);n!==void 0&&F!=null&&c(n,["parameters","addWatermark"],F);const Y=u(l,["labels"]);n!==void 0&&Y!=null&&c(n,["labels"],Y);const J=u(l,["editMode"]);n!==void 0&&J!=null&&c(n,["parameters","editMode"],J);const P=u(l,["baseSteps"]);return n!==void 0&&P!=null&&c(n,["parameters","editConfig","baseSteps"],P),o}function rS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(n,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>sE(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(n,["config"]);return p!=null&&uS(p,o),o}function cS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>La(d))),c(n,["generatedImages"],r)}return n}function fS(l,n){const o={},s=u(l,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const r=u(l,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const d=u(l,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),u(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function dS(l,n){const o={},s=u(l,["taskType"]);n!==void 0&&s!=null&&c(n,["instances[]","task_type"],s);const r=u(l,["title"]);n!==void 0&&r!=null&&c(n,["instances[]","title"],r);const d=u(l,["outputDimensionality"]);n!==void 0&&d!=null&&c(n,["parameters","outputDimensionality"],d);const p=u(l,["mimeType"]);n!==void 0&&p!=null&&c(n,["instances[]","mimeType"],p);const g=u(l,["autoTruncate"]);return n!==void 0&&g!=null&&c(n,["parameters","autoTruncate"],g),o}function mS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["contents"]);if(r!=null){let g=vr(l,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const d=u(n,["config"]);d!=null&&fS(d,o);const p=u(n,["model"]);return p!==void 0&&c(o,["requests[]","model"],Ae(l,p)),o}function pS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["contents"]);if(r!=null){let p=vr(l,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const d=u(n,["config"]);return d!=null&&dS(d,o),o}function hS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["embeddings"],d)}const r=u(l,["metadata"]);return r!=null&&c(n,["metadata"],r),n}function gS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>QT(p))),c(n,["embeddings"],d)}const r=u(l,["metadata"]);return r!=null&&c(n,["metadata"],r),n}function yS(l){const n={},o=u(l,["endpoint"]);o!=null&&c(n,["name"],o);const s=u(l,["deployedModelId"]);return s!=null&&c(n,["deployedModelId"],s),n}function vS(l){const n={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function TS(l){const n={};if(u(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(l,["description"]);o!=null&&c(n,["description"],o);const s=u(l,["name"]);s!=null&&c(n,["name"],s);const r=u(l,["parameters"]);r!=null&&c(n,["parameters"],r);const d=u(l,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=u(l,["response"]);p!=null&&c(n,["response"],p);const g=u(l,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function SS(l,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Ga(at(r)));const d=u(n,["temperature"]);d!=null&&c(s,["temperature"],d);const p=u(n,["topP"]);p!=null&&c(s,["topP"],p);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const T=u(n,["stopSequences"]);T!=null&&c(s,["stopSequences"],T);const S=u(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const _=u(n,["logprobs"]);_!=null&&c(s,["logprobs"],_);const R=u(n,["presencePenalty"]);R!=null&&c(s,["presencePenalty"],R);const G=u(n,["frequencyPenalty"]);G!=null&&c(s,["frequencyPenalty"],G);const V=u(n,["seed"]);V!=null&&c(s,["seed"],V);const F=u(n,["responseMimeType"]);F!=null&&c(s,["responseMimeType"],F);const Y=u(n,["responseSchema"]);Y!=null&&c(s,["responseSchema"],Tr(Y));const J=u(n,["responseJsonSchema"]);if(J!=null&&c(s,["responseJsonSchema"],J),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=u(n,["safetySettings"]);if(o!==void 0&&P!=null){let fe=P;Array.isArray(fe)&&(fe=fe.map(ke=>uE(ke))),c(o,["safetySettings"],fe)}const Z=u(n,["tools"]);if(o!==void 0&&Z!=null){let fe=ii(Z);Array.isArray(fe)&&(fe=fe.map(ke=>pE(li(ke)))),c(o,["tools"],fe)}const le=u(n,["toolConfig"]);if(o!==void 0&&le!=null&&c(o,["toolConfig"],le),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=u(n,["cachedContent"]);o!==void 0&&$!=null&&c(o,["cachedContent"],yn(l,$));const k=u(n,["responseModalities"]);k!=null&&c(s,["responseModalities"],k);const ce=u(n,["mediaResolution"]);ce!=null&&c(s,["mediaResolution"],ce);const te=u(n,["speechConfig"]);if(te!=null&&c(s,["speechConfig"],Sr(te)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=u(n,["thinkingConfig"]);ue!=null&&c(s,["thinkingConfig"],ue);const Se=u(n,["imageConfig"]);return Se!=null&&c(s,["imageConfig"],Se),s}function ES(l,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],at(r));const d=u(n,["temperature"]);d!=null&&c(s,["temperature"],d);const p=u(n,["topP"]);p!=null&&c(s,["topP"],p);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const T=u(n,["stopSequences"]);T!=null&&c(s,["stopSequences"],T);const S=u(n,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const _=u(n,["logprobs"]);_!=null&&c(s,["logprobs"],_);const R=u(n,["presencePenalty"]);R!=null&&c(s,["presencePenalty"],R);const G=u(n,["frequencyPenalty"]);G!=null&&c(s,["frequencyPenalty"],G);const V=u(n,["seed"]);V!=null&&c(s,["seed"],V);const F=u(n,["responseMimeType"]);F!=null&&c(s,["responseMimeType"],F);const Y=u(n,["responseSchema"]);Y!=null&&c(s,["responseSchema"],Tr(Y));const J=u(n,["responseJsonSchema"]);J!=null&&c(s,["responseJsonSchema"],J);const P=u(n,["routingConfig"]);P!=null&&c(s,["routingConfig"],P);const Z=u(n,["modelSelectionConfig"]);Z!=null&&c(s,["modelConfig"],Z);const le=u(n,["safetySettings"]);if(o!==void 0&&le!=null){let w=le;Array.isArray(w)&&(w=w.map(B=>B)),c(o,["safetySettings"],w)}const $=u(n,["tools"]);if(o!==void 0&&$!=null){let w=ii($);Array.isArray(w)&&(w=w.map(B=>_h(li(B)))),c(o,["tools"],w)}const k=u(n,["toolConfig"]);o!==void 0&&k!=null&&c(o,["toolConfig"],k);const ce=u(n,["labels"]);o!==void 0&&ce!=null&&c(o,["labels"],ce);const te=u(n,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],yn(l,te));const ue=u(n,["responseModalities"]);ue!=null&&c(s,["responseModalities"],ue);const Se=u(n,["mediaResolution"]);Se!=null&&c(s,["mediaResolution"],Se);const fe=u(n,["speechConfig"]);fe!=null&&c(s,["speechConfig"],Eh(Sr(fe)));const ke=u(n,["audioTimestamp"]);ke!=null&&c(s,["audioTimestamp"],ke);const dt=u(n,["thinkingConfig"]);dt!=null&&c(s,["thinkingConfig"],dt);const Qe=u(n,["imageConfig"]);return Qe!=null&&c(s,["imageConfig"],Qe),s}function Jp(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["contents"]);if(r!=null){let p=Ot(r);Array.isArray(p)&&(p=p.map(g=>Ga(g))),c(o,["contents"],p)}const d=u(n,["config"]);return d!=null&&c(o,["generationConfig"],SS(l,d,o)),o}function Fp(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["contents"]);if(r!=null){let p=Ot(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const d=u(n,["config"]);return d!=null&&c(o,["generationConfig"],ES(l,d,o)),o}function Xp(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>JT(h))),c(n,["candidates"],y)}const r=u(l,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const d=u(l,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const p=u(l,["responseId"]);p!=null&&c(n,["responseId"],p);const g=u(l,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function Kp(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(T=>T)),c(n,["candidates"],h)}const r=u(l,["createTime"]);r!=null&&c(n,["createTime"],r);const d=u(l,["modelVersion"]);d!=null&&c(n,["modelVersion"],d);const p=u(l,["promptFeedback"]);p!=null&&c(n,["promptFeedback"],p);const g=u(l,["responseId"]);g!=null&&c(n,["responseId"],g);const y=u(l,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function _S(l,n){const o={};if(u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(l,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const r=u(l,["aspectRatio"]);n!==void 0&&r!=null&&c(n,["parameters","aspectRatio"],r);const d=u(l,["guidanceScale"]);if(n!==void 0&&d!=null&&c(n,["parameters","guidanceScale"],d),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(l,["safetyFilterLevel"]);n!==void 0&&p!=null&&c(n,["parameters","safetySetting"],p);const g=u(l,["personGeneration"]);n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g);const y=u(l,["includeSafetyAttributes"]);n!==void 0&&y!=null&&c(n,["parameters","includeSafetyAttributes"],y);const h=u(l,["includeRaiReason"]);n!==void 0&&h!=null&&c(n,["parameters","includeRaiReason"],h);const T=u(l,["language"]);n!==void 0&&T!=null&&c(n,["parameters","language"],T);const S=u(l,["outputMimeType"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","mimeType"],S);const _=u(l,["outputCompressionQuality"]);if(n!==void 0&&_!=null&&c(n,["parameters","outputOptions","compressionQuality"],_),u(l,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=u(l,["imageSize"]);if(n!==void 0&&R!=null&&c(n,["parameters","sampleImageSize"],R),u(l,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function CS(l,n){const o={},s=u(l,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const r=u(l,["negativePrompt"]);n!==void 0&&r!=null&&c(n,["parameters","negativePrompt"],r);const d=u(l,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const p=u(l,["aspectRatio"]);n!==void 0&&p!=null&&c(n,["parameters","aspectRatio"],p);const g=u(l,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=u(l,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=u(l,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const T=u(l,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const S=u(l,["includeSafetyAttributes"]);n!==void 0&&S!=null&&c(n,["parameters","includeSafetyAttributes"],S);const _=u(l,["includeRaiReason"]);n!==void 0&&_!=null&&c(n,["parameters","includeRaiReason"],_);const R=u(l,["language"]);n!==void 0&&R!=null&&c(n,["parameters","language"],R);const G=u(l,["outputMimeType"]);n!==void 0&&G!=null&&c(n,["parameters","outputOptions","mimeType"],G);const V=u(l,["outputCompressionQuality"]);n!==void 0&&V!=null&&c(n,["parameters","outputOptions","compressionQuality"],V);const F=u(l,["addWatermark"]);n!==void 0&&F!=null&&c(n,["parameters","addWatermark"],F);const Y=u(l,["labels"]);n!==void 0&&Y!=null&&c(n,["labels"],Y);const J=u(l,["imageSize"]);n!==void 0&&J!=null&&c(n,["parameters","sampleImageSize"],J);const P=u(l,["enhancePrompt"]);return n!==void 0&&P!=null&&c(n,["parameters","enhancePrompt"],P),o}function AS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(n,["config"]);return d!=null&&_S(d,o),o}function MS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(n,["config"]);return d!=null&&CS(d,o),o}function xS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>zS(p))),c(n,["generatedImages"],d)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(n,["positivePromptSafetyAttributes"],Th(r)),n}function RS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>La(p))),c(n,["generatedImages"],d)}const r=u(l,["positivePromptSafetyAttributes"]);return r!=null&&c(n,["positivePromptSafetyAttributes"],Sh(r)),n}function NS(l,n){const o={},s=u(l,["numberOfVideos"]);if(n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s),u(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(l,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(l,["durationSeconds"]);if(n!==void 0&&r!=null&&c(n,["parameters","durationSeconds"],r),u(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(l,["aspectRatio"]);n!==void 0&&d!=null&&c(n,["parameters","aspectRatio"],d);const p=u(l,["resolution"]);n!==void 0&&p!=null&&c(n,["parameters","resolution"],p);const g=u(l,["personGeneration"]);if(n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g),u(l,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(l,["negativePrompt"]);n!==void 0&&y!=null&&c(n,["parameters","negativePrompt"],y);const h=u(l,["enhancePrompt"]);if(n!==void 0&&h!=null&&c(n,["parameters","enhancePrompt"],h),u(l,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=u(l,["lastFrame"]);n!==void 0&&T!=null&&c(n,["instances[0]","lastFrame"],qa(T));const S=u(l,["referenceImages"]);if(n!==void 0&&S!=null){let _=S;Array.isArray(_)&&(_=_.map(R=>RE(R))),c(n,["instances[0]","referenceImages"],_)}if(u(l,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(l,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function DS(l,n){const o={},s=u(l,["numberOfVideos"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const r=u(l,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const d=u(l,["fps"]);n!==void 0&&d!=null&&c(n,["parameters","fps"],d);const p=u(l,["durationSeconds"]);n!==void 0&&p!=null&&c(n,["parameters","durationSeconds"],p);const g=u(l,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const y=u(l,["aspectRatio"]);n!==void 0&&y!=null&&c(n,["parameters","aspectRatio"],y);const h=u(l,["resolution"]);n!==void 0&&h!=null&&c(n,["parameters","resolution"],h);const T=u(l,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const S=u(l,["pubsubTopic"]);n!==void 0&&S!=null&&c(n,["parameters","pubsubTopic"],S);const _=u(l,["negativePrompt"]);n!==void 0&&_!=null&&c(n,["parameters","negativePrompt"],_);const R=u(l,["enhancePrompt"]);n!==void 0&&R!=null&&c(n,["parameters","enhancePrompt"],R);const G=u(l,["generateAudio"]);n!==void 0&&G!=null&&c(n,["parameters","generateAudio"],G);const V=u(l,["lastFrame"]);n!==void 0&&V!=null&&c(n,["instances[0]","lastFrame"],Ft(V));const F=u(l,["referenceImages"]);if(n!==void 0&&F!=null){let P=F;Array.isArray(P)&&(P=P.map(Z=>NE(Z))),c(n,["instances[0]","referenceImages"],P)}const Y=u(l,["mask"]);n!==void 0&&Y!=null&&c(n,["instances[0]","mask"],xE(Y));const J=u(l,["compressionQuality"]);return n!==void 0&&J!=null&&c(n,["parameters","compressionQuality"],J),o}function IS(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const p=u(l,["response","generateVideoResponse"]);return p!=null&&c(n,["response"],GS(p)),n}function US(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(l,["done"]);r!=null&&c(n,["done"],r);const d=u(l,["error"]);d!=null&&c(n,["error"],d);const p=u(l,["response"]);return p!=null&&c(n,["response"],LS(p)),n}function bS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(n,["image"]);d!=null&&c(o,["instances[0]","image"],qa(d));const p=u(n,["video"]);p!=null&&c(o,["instances[0]","video"],Ch(p));const g=u(n,["source"]);g!=null&&qS(g,o);const y=u(n,["config"]);return y!=null&&NS(y,o),o}function wS(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(n,["image"]);d!=null&&c(o,["instances[0]","image"],Ft(d));const p=u(n,["video"]);p!=null&&c(o,["instances[0]","video"],Ah(p));const g=u(n,["source"]);g!=null&&HS(g,o);const y=u(n,["config"]);return y!=null&&DS(y,o),o}function GS(l){const n={},o=u(l,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>BS(p))),c(n,["generatedVideos"],d)}const s=u(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function LS(l){const n={},o=u(l,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>PS(p))),c(n,["generatedVideos"],d)}const s=u(l,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(l,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function qS(l,n){const o={},s=u(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(l,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],qa(r));const d=u(l,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],Ch(d)),o}function HS(l,n){const o={},s=u(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(l,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],Ft(r));const d=u(l,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],Ah(d)),o}function zS(l){const n={},o=u(l,["_self"]);o!=null&&c(n,["image"],XS(o));const s=u(l,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const r=u(l,["_self"]);return r!=null&&c(n,["safetyAttributes"],Th(r)),n}function La(l){const n={},o=u(l,["_self"]);o!=null&&c(n,["image"],vh(o));const s=u(l,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const r=u(l,["_self"]);r!=null&&c(n,["safetyAttributes"],Sh(r));const d=u(l,["prompt"]);return d!=null&&c(n,["enhancedPrompt"],d),n}function VS(l){const n={},o=u(l,["_self"]);o!=null&&c(n,["mask"],vh(o));const s=u(l,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(n,["labels"],r)}return n}function BS(l){const n={},o=u(l,["video"]);return o!=null&&c(n,["video"],AE(o)),n}function PS(l){const n={},o=u(l,["_self"]);return o!=null&&c(n,["video"],ME(o)),n}function OS(l){const n={},o=u(l,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=u(l,["audioTimestamp"]);s!=null&&c(n,["audioTimestamp"],s);const r=u(l,["candidateCount"]);r!=null&&c(n,["candidateCount"],r);const d=u(l,["enableAffectiveDialog"]);d!=null&&c(n,["enableAffectiveDialog"],d);const p=u(l,["frequencyPenalty"]);p!=null&&c(n,["frequencyPenalty"],p);const g=u(l,["logprobs"]);g!=null&&c(n,["logprobs"],g);const y=u(l,["maxOutputTokens"]);y!=null&&c(n,["maxOutputTokens"],y);const h=u(l,["mediaResolution"]);h!=null&&c(n,["mediaResolution"],h);const T=u(l,["presencePenalty"]);T!=null&&c(n,["presencePenalty"],T);const S=u(l,["responseJsonSchema"]);S!=null&&c(n,["responseJsonSchema"],S);const _=u(l,["responseLogprobs"]);_!=null&&c(n,["responseLogprobs"],_);const R=u(l,["responseMimeType"]);R!=null&&c(n,["responseMimeType"],R);const G=u(l,["responseModalities"]);G!=null&&c(n,["responseModalities"],G);const V=u(l,["responseSchema"]);V!=null&&c(n,["responseSchema"],V);const F=u(l,["routingConfig"]);F!=null&&c(n,["routingConfig"],F);const Y=u(l,["seed"]);Y!=null&&c(n,["seed"],Y);const J=u(l,["speechConfig"]);J!=null&&c(n,["speechConfig"],Eh(J));const P=u(l,["stopSequences"]);P!=null&&c(n,["stopSequences"],P);const Z=u(l,["temperature"]);Z!=null&&c(n,["temperature"],Z);const le=u(l,["thinkingConfig"]);le!=null&&c(n,["thinkingConfig"],le);const $=u(l,["topK"]);$!=null&&c(n,["topK"],$);const k=u(l,["topP"]);if(k!=null&&c(n,["topP"],k),u(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function kS(l,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],Ae(l,s)),o}function YS(l,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],Ae(l,s)),o}function JS(l){const n={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function FS(l){const n={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function XS(l){const n={},o=u(l,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],Jn(o));const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function vh(l){const n={},o=u(l,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=u(l,["bytesBase64Encoded"]);s!=null&&c(n,["imageBytes"],Jn(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function qa(l){const n={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(l,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],Jn(o));const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Ft(l){const n={},o=u(l,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=u(l,["imageBytes"]);s!=null&&c(n,["bytesBase64Encoded"],Jn(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function KS(l,n,o){const s={},r=u(n,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(n,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(n,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],ch(l,g)),s}function QS(l,n,o){const s={},r=u(n,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=u(n,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(n,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],ch(l,g)),s}function ZS(l,n){const o={},s=u(n,["config"]);return s!=null&&KS(l,s,o),o}function $S(l,n){const o={},s=u(n,["config"]);return s!=null&&QS(l,s,o),o}function WS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["_self"]);if(r!=null){let d=fh(r);Array.isArray(d)&&(d=d.map(p=>fr(p))),c(n,["models"],d)}return n}function jS(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(l,["_self"]);if(r!=null){let d=fh(r);Array.isArray(d)&&(d=d.map(p=>dr(p))),c(n,["models"],d)}return n}function eE(l){const n={},o=u(l,["maskMode"]);o!=null&&c(n,["maskMode"],o);const s=u(l,["segmentationClasses"]);s!=null&&c(n,["maskClasses"],s);const r=u(l,["maskDilation"]);return r!=null&&c(n,["dilation"],r),n}function fr(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(l,["description"]);r!=null&&c(n,["description"],r);const d=u(l,["version"]);d!=null&&c(n,["version"],d);const p=u(l,["_self"]);p!=null&&c(n,["tunedModelInfo"],hE(p));const g=u(l,["inputTokenLimit"]);g!=null&&c(n,["inputTokenLimit"],g);const y=u(l,["outputTokenLimit"]);y!=null&&c(n,["outputTokenLimit"],y);const h=u(l,["supportedGenerationMethods"]);return h!=null&&c(n,["supportedActions"],h),n}function dr(l){const n={},o=u(l,["name"]);o!=null&&c(n,["name"],o);const s=u(l,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(l,["description"]);r!=null&&c(n,["description"],r);const d=u(l,["versionId"]);d!=null&&c(n,["version"],d);const p=u(l,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(_=>yS(_))),c(n,["endpoints"],S)}const g=u(l,["labels"]);g!=null&&c(n,["labels"],g);const y=u(l,["_self"]);y!=null&&c(n,["tunedModelInfo"],gE(y));const h=u(l,["defaultCheckpointId"]);h!=null&&c(n,["defaultCheckpointId"],h);const T=u(l,["checkpoints"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(_=>_)),c(n,["checkpoints"],S)}return n}function tE(l){const n={},o=u(l,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(l,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(l,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(n,["fileData"],vS(d));const p=u(l,["functionResponse"]);p!=null&&c(n,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(n,["inlineData"],YT(g));const y=u(l,["text"]);y!=null&&c(n,["text"],y);const h=u(l,["thought"]);h!=null&&c(n,["thought"],h);const T=u(l,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const S=u(l,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function nE(l){const n={},o=u(l,["productImage"]);return o!=null&&c(n,["image"],Ft(o)),n}function lE(l,n){const o={},s=u(l,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const r=u(l,["baseSteps"]);n!==void 0&&r!=null&&c(n,["parameters","editConfig","baseSteps"],r);const d=u(l,["outputGcsUri"]);n!==void 0&&d!=null&&c(n,["parameters","storageUri"],d);const p=u(l,["seed"]);n!==void 0&&p!=null&&c(n,["parameters","seed"],p);const g=u(l,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const y=u(l,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const h=u(l,["addWatermark"]);n!==void 0&&h!=null&&c(n,["parameters","addWatermark"],h);const T=u(l,["outputMimeType"]);n!==void 0&&T!=null&&c(n,["parameters","outputOptions","mimeType"],T);const S=u(l,["outputCompressionQuality"]);n!==void 0&&S!=null&&c(n,["parameters","outputOptions","compressionQuality"],S);const _=u(l,["enhancePrompt"]);n!==void 0&&_!=null&&c(n,["parameters","enhancePrompt"],_);const R=u(l,["labels"]);return n!==void 0&&R!=null&&c(n,["labels"],R),o}function iE(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["source"]);r!=null&&aE(r,o);const d=u(n,["config"]);return d!=null&&lE(d,o),o}function oE(l){const n={},o=u(l,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>La(r))),c(n,["generatedImages"],s)}return n}function aE(l,n){const o={},s=u(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(l,["personImage"]);n!==void 0&&r!=null&&c(n,["instances[0]","personImage","image"],Ft(r));const d=u(l,["productImages"]);if(n!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>nE(g))),c(n,["instances[0]","productImages"],p)}return o}function sE(l){const n={},o=u(l,["referenceImage"]);o!=null&&c(n,["referenceImage"],Ft(o));const s=u(l,["referenceId"]);s!=null&&c(n,["referenceId"],s);const r=u(l,["referenceType"]);r!=null&&c(n,["referenceType"],r);const d=u(l,["maskImageConfig"]);d!=null&&c(n,["maskImageConfig"],eE(d));const p=u(l,["controlImageConfig"]);p!=null&&c(n,["controlImageConfig"],$T(p));const g=u(l,["styleImageConfig"]);g!=null&&c(n,["styleImageConfig"],g);const y=u(l,["subjectImageConfig"]);return y!=null&&c(n,["subjectImageConfig"],y),n}function Th(l){const n={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=u(l,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const r=u(l,["contentType"]);return r!=null&&c(n,["contentType"],r),n}function Sh(l){const n={},o=u(l,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=u(l,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const r=u(l,["contentType"]);return r!=null&&c(n,["contentType"],r),n}function uE(l){const n={},o=u(l,["category"]);if(o!=null&&c(n,["category"],o),u(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(l,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function rE(l){const n={},o=u(l,["image"]);return o!=null&&c(n,["image"],Ft(o)),n}function cE(l,n){const o={},s=u(l,["mode"]);n!==void 0&&s!=null&&c(n,["parameters","mode"],s);const r=u(l,["maxPredictions"]);n!==void 0&&r!=null&&c(n,["parameters","maxPredictions"],r);const d=u(l,["confidenceThreshold"]);n!==void 0&&d!=null&&c(n,["parameters","confidenceThreshold"],d);const p=u(l,["maskDilation"]);n!==void 0&&p!=null&&c(n,["parameters","maskDilation"],p);const g=u(l,["binaryColorThreshold"]);n!==void 0&&g!=null&&c(n,["parameters","binaryColorThreshold"],g);const y=u(l,["labels"]);return n!==void 0&&y!=null&&c(n,["labels"],y),o}function fE(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["source"]);r!=null&&mE(r,o);const d=u(n,["config"]);return d!=null&&cE(d,o),o}function dE(l){const n={},o=u(l,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>VS(r))),c(n,["generatedMasks"],s)}return n}function mE(l,n){const o={},s=u(l,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(l,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],Ft(r));const d=u(l,["scribbleImage"]);return n!==void 0&&d!=null&&c(n,["instances[0]","scribble"],rE(d)),o}function Eh(l){const n={},o=u(l,["languageCode"]);o!=null&&c(n,["languageCode"],o);const s=u(l,["voiceConfig"]);if(s!=null&&c(n,["voiceConfig"],s),u(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function pE(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(T=>T)),c(n,["functionDeclarations"],h)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(l,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(l,["googleMaps"]);r!=null&&c(n,["googleMaps"],JS(r));const d=u(l,["computerUse"]);d!=null&&c(n,["computerUse"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleSearch"]);g!=null&&c(n,["googleSearch"],FS(g));const y=u(l,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}function _h(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(_=>TS(_))),c(n,["functionDeclarations"],S)}const s=u(l,["retrieval"]);s!=null&&c(n,["retrieval"],s);const r=u(l,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const d=u(l,["googleMaps"]);d!=null&&c(n,["googleMaps"],d);const p=u(l,["computerUse"]);p!=null&&c(n,["computerUse"],p);const g=u(l,["codeExecution"]);g!=null&&c(n,["codeExecution"],g);const y=u(l,["enterpriseWebSearch"]);y!=null&&c(n,["enterpriseWebSearch"],y);const h=u(l,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const T=u(l,["urlContext"]);return T!=null&&c(n,["urlContext"],T),n}function hE(l){const n={},o=u(l,["baseModel"]);o!=null&&c(n,["baseModel"],o);const s=u(l,["createTime"]);s!=null&&c(n,["createTime"],s);const r=u(l,["updateTime"]);return r!=null&&c(n,["updateTime"],r),n}function gE(l){const n={},o=u(l,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(n,["baseModel"],o);const s=u(l,["createTime"]);s!=null&&c(n,["createTime"],s);const r=u(l,["updateTime"]);return r!=null&&c(n,["updateTime"],r),n}function yE(l,n){const o={},s=u(l,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(l,["description"]);n!==void 0&&r!=null&&c(n,["description"],r);const d=u(l,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function vE(l,n){const o={},s=u(l,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(l,["description"]);n!==void 0&&r!=null&&c(n,["description"],r);const d=u(l,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function TE(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","name"],Ae(l,s));const r=u(n,["config"]);return r!=null&&yE(r,o),o}function SE(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["config"]);return r!=null&&vE(r,o),o}function EE(l,n){const o={},s=u(l,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const r=u(l,["safetyFilterLevel"]);n!==void 0&&r!=null&&c(n,["parameters","safetySetting"],r);const d=u(l,["personGeneration"]);n!==void 0&&d!=null&&c(n,["parameters","personGeneration"],d);const p=u(l,["includeRaiReason"]);n!==void 0&&p!=null&&c(n,["parameters","includeRaiReason"],p);const g=u(l,["outputMimeType"]);n!==void 0&&g!=null&&c(n,["parameters","outputOptions","mimeType"],g);const y=u(l,["outputCompressionQuality"]);n!==void 0&&y!=null&&c(n,["parameters","outputOptions","compressionQuality"],y);const h=u(l,["enhanceInputImage"]);n!==void 0&&h!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],h);const T=u(l,["imagePreservationFactor"]);n!==void 0&&T!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],T);const S=u(l,["labels"]);n!==void 0&&S!=null&&c(n,["labels"],S);const _=u(l,["numberOfImages"]);n!==void 0&&_!=null&&c(n,["parameters","sampleCount"],_);const R=u(l,["mode"]);return n!==void 0&&R!=null&&c(n,["parameters","mode"],R),o}function _E(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ae(l,s));const r=u(n,["image"]);r!=null&&c(o,["instances[0]","image"],Ft(r));const d=u(n,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=u(n,["config"]);return p!=null&&EE(p,o),o}function CE(l){const n={},o=u(l,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(l,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>La(d))),c(n,["generatedImages"],r)}return n}function AE(l){const n={},o=u(l,["uri"]);o!=null&&c(n,["uri"],o);const s=u(l,["encodedVideo"]);s!=null&&c(n,["videoBytes"],Jn(s));const r=u(l,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function ME(l){const n={},o=u(l,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=u(l,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],Jn(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function xE(l){const n={},o=u(l,["image"]);o!=null&&c(n,["_self"],Ft(o));const s=u(l,["maskMode"]);return s!=null&&c(n,["maskMode"],s),n}function RE(l){const n={},o=u(l,["image"]);o!=null&&c(n,["image"],qa(o));const s=u(l,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function NE(l){const n={},o=u(l,["image"]);o!=null&&c(n,["image"],Ft(o));const s=u(l,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function Ch(l){const n={},o=u(l,["uri"]);o!=null&&c(n,["uri"],o);const s=u(l,["videoBytes"]);s!=null&&c(n,["encodedVideo"],Jn(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["encoding"],r),n}function Ah(l){const n={},o=u(l,["uri"]);o!=null&&c(n,["gcsUri"],o);const s=u(l,["videoBytes"]);s!=null&&c(n,["bytesBase64Encoded"],Jn(s));const r=u(l,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DE="Content-Type",IE="X-Server-Timeout",UE="User-Agent",mr="x-goog-api-client",bE="1.28.0",wE=`google-genai-sdk/${bE}`,GE="v1beta1",LE="v1beta",Qp=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class qE{constructor(n){var o,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:GE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:LE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,o,s);if(n.queryParams)for(const[p,g]of Object.entries(n.queryParams))r.searchParams.append(p,String(g));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),n.abortSignal),this.unaryApiCall(r,d,n.httpMethod)}patchHttpOptions(n,o){const s=JSON.parse(JSON.stringify(n));for(const[r,d]of Object.entries(o))typeof d=="object"?s[r]=Object.assign(Object.assign({},s[r]),d):d!==void 0&&(s[r]=d);return s}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),n.abortSignal),this.streamApiCall(r,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,s,r){if(o&&o.timeout||r){const d=new AbortController,p=d.signal;if(o.timeout&&o?.timeout>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),n.signal=p}return o&&o.extraBody!==null&&HE(n,o.extraBody),n.headers=await this.getHeadersInternal(o,s),n}async unaryApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Zp(r),new ur(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Zp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){var o;return ei(this,arguments,function*(){const r=(o=n?.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";for(;;){const{done:g,value:y}=yield Le(r.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const S=JSON.parse(h);if("error"in S){const _=JSON.parse(JSON.stringify(S.error)),R=_.status,G=_.code,V=`got status: ${R}. ${JSON.stringify(S)}`;if(G>=400&&G<600)throw new wa({message:V,status:G})}}catch(S){if(S.name==="ApiError")throw S}p+=h;let T=p.match(Qp);for(;T;){const S=T[1];try{const _=new Response(S,{headers:n?.headers,status:n?.status,statusText:n?.statusText});yield yield Le(new ur(_)),p=p.slice(T[0].length),T=p.match(Qp)}catch(_){throw new Error(`exception parsing stream chunk ${S}. ${_}`)}}}}finally{r.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},o=wE+" "+this.clientOptions.userAgentExtra;return n[UE]=o,n[mr]=o,n[DE]="application/json",n}async getHeadersInternal(n,o){const s=new Headers;if(n&&n.headers){for(const[r,d]of Object.entries(n.headers))s.append(r,d);n.timeout&&n.timeout>0&&s.append(IE,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}async uploadFile(n,o){var s,r;const d={};o!=null&&(d.mimeType=o.mimeType,d.name=o.name,d.displayName=o.displayName),d.name&&!d.name.startsWith("files/")&&(d.name=`files/${d.name}`);const p=this.clientOptions.uploader,g=await p.stat(n);d.sizeBytes=String(g.size);const y=(s=o?.mimeType)!==null&&s!==void 0?s:g.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");d.mimeType=y;let h="";typeof n=="string"&&(h=n.replace(/[/\\]+$/,""),h=(r=h.split(/[/\\]/).pop())!==null&&r!==void 0?r:"");const T=await this.fetchUploadUrl(d,h,o);return p.upload(n,T,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,s){var r;let d={};s?.httpOptions?d=s.httpOptions:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`},o?{"X-Goog-Upload-File-Name":o}:{})};const p={file:n},g=await this.request({path:Q("upload/v1beta/files",p._url),body:JSON.stringify(p),httpMethod:"POST",httpOptions:d});if(!g||!g?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(r=g?.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Zp(l){var n;if(l===void 0)throw new Error("response is undefined");if(!l.ok){const o=l.status;let s;!((n=l.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await l.json():s={error:{message:await l.text(),code:l.status,status:l.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new wa({message:r,status:o}):new Error(r)}}function HE(l,n){if(!n||Object.keys(n).length===0)return;if(l.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof l.body=="string"&&l.body.length>0)try{const d=JSON.parse(l.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,p){const g=Object.assign({},d);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],T=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&T&&typeof T=="object"&&!Array.isArray(T)?g[y]=s(T,h):(T&&h&&typeof T!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof T}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=s(o,n);l.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zE="mcp_used/unknown";let VE=!1;function Mh(l){for(const n of l)if(BE(n)||typeof n=="object"&&"inputSchema"in n)return!0;return VE}function xh(l){var n;const o=(n=l[mr])!==null&&n!==void 0?n:"";l[mr]=(o+` ${zE}`).trimStart()}function BE(l){return l!==null&&typeof l=="object"&&l instanceof _r}function PE(l,n=100){return ei(this,arguments,function*(){let s,r=0;for(;r<n;){const d=yield Le(l.listTools({cursor:s}));for(const p of d.tools)yield yield Le(p),r++;if(!d.nextCursor)break;s=d.nextCursor}})}class _r{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new _r(n,o)}async initialize(){var n,o,s,r;if(this.mcpTools.length>0)return;const d={},p=[];for(const T of this.mcpClients)try{for(var g=!0,y=(o=void 0,io(PE(T))),h;h=await y.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const S=r;p.push(S);const _=S.name;if(d[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);d[_]=T}}catch(S){o={error:S}}finally{try{!g&&!n&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Fv(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await r.callTool({name:s.name,arguments:s.args},void 0,d);o.push({functionResponse:{name:s.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OE(l,n,o){const s=new zv;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),n(s)}class kE{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s}async connect(n){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=FE(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const T=new Promise(P=>{h=P}),S=n.callbacks,_=function(){h({})},R=this.apiClient,G={onopen:_,onmessage:P=>{OE(R,S.onmessage,P)},onerror:(o=S?.onerror)!==null&&o!==void 0?o:function(P){},onclose:(s=S?.onclose)!==null&&s!==void 0?s:function(P){}},V=this.webSocketFactory.create(y,JE(p),G);V.connect(),await T;const J={setup:{model:Ae(this.apiClient,n.model)}};return V.send(JSON.stringify(J)),new YE(V,this.apiClient)}}class YE{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=LT(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=GT(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Wl.PLAY)}pause(){this.sendPlaybackControl(Wl.PAUSE)}stop(){this.sendPlaybackControl(Wl.STOP)}resetContext(){this.sendPlaybackControl(Wl.RESET_CONTEXT)}close(){this.conn.close()}}function JE(l){const n={};return l.forEach((o,s)=>{n[s]=o}),n}function FE(l){const n=new Headers;for(const[o,s]of Object.entries(l))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KE(l,n,o){const s=new Hv;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(l.isVertexAI()){const p=zT(d);Object.assign(s,p)}else Object.assign(s,d);n(s)}class QE{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s,this.music=new kE(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,s,r,d,p,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let T;const S=this.apiClient.getHeaders();n.config&&n.config.tools&&Mh(n.config.tools)&&xh(S);const _=jE(S);if(this.apiClient.isVertexAI())T=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,T);else{const te=this.apiClient.getApiKey();let ue="BidiGenerateContent",Se="key";te?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",Se="access_token"),T=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ue}?${Se}=${te}`}let R=()=>{};const G=new Promise(te=>{R=te}),V=n.callbacks,F=function(){var te;(te=V?.onopen)===null||te===void 0||te.call(V),R({})},Y=this.apiClient,J={onopen:F,onmessage:te=>{KE(Y,V.onmessage,te)},onerror:(o=V?.onerror)!==null&&o!==void 0?o:function(te){},onclose:(s=V?.onclose)!==null&&s!==void 0?s:function(te){}},P=this.webSocketFactory.create(T,WE(_),J);P.connect(),await G;let Z=Ae(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&Z.startsWith("publishers/")){const te=this.apiClient.getProject(),ue=this.apiClient.getLocation();Z=`projects/${te}/locations/${ue}/`+Z}let le={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[oo.AUDIO]}:n.config.responseModalities=[oo.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(g=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],k=[];for(const te of $)if(this.isCallableTool(te)){const ue=te;k.push(await ue.tool())}else k.push(te);k.length>0&&(n.config.tools=k);const ce={model:Z,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?le=wT(this.apiClient,ce):le=bT(this.apiClient,ce),delete le.config,P.send(JSON.stringify(le)),new $E(P,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const ZE={turnComplete:!0};class $E{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Ot(o.turns),n.isVertexAI()||(s=s.map(r=>Ga(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error(XE)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},ZE),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:HT(n)}:o={realtimeInput:qT(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function WE(l){const n={};return l.forEach((o,s)=>{n[s]=o}),n}function jE(l){const n=new Headers;for(const[o,s]of Object.entries(l))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $p=10;function Wp(l){var n,o,s;if(!((n=l?.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const p of(o=l?.tools)!==null&&o!==void 0?o:[])if(ti(p)){r=!0;break}if(!r)return!0;const d=(s=l?.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function ti(l){return"callTool"in l&&typeof l.callTool=="function"}function e_(l){var n,o,s;return(s=(o=(n=l.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(r=>ti(r)))!==null&&s!==void 0?s:!1}function t_(l){var n,o,s;return(s=(o=(n=l.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(r=>!ti(r)))!==null&&s!==void 0?s:!1}function jp(l){var n;return!(!((n=l?.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n_ extends fl{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var s,r,d,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!e_(o)||Wp(o.config))return await this.generateContentInternal(y);if(t_(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,T;const S=Ot(y.contents),_=(d=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:$p;let R=0;for(;R<_&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const G=h.candidates[0].content,V=[];for(const F of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(ti(F)){const J=await F.callTool(h.functionCalls);V.push(...J)}R++,T={role:"user",parts:V},y.contents=Ot(y.contents),y.contents.push(G),y.contents.push(T),jp(y.config)&&(S.push(G),S.push(T))}return jp(y.config)&&(h.automaticFunctionCallingHistory=S),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Wp(o.config)){const s=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let d;const p=[];if(s?.generatedImages)for(const y of s.generatedImages)y&&y?.safetyAttributes&&((r=y?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y?.safetyAttributes:p.push(y);let g;return d?g={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((s=p.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new uo(cl.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,d,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(d=o.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,s,r;const d=(o=n.config)===null||o===void 0?void 0:o.tools;if(!d)return n;const p=await Promise.all(d.map(async y=>ti(y)?await y.tool():y)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:p})};if(g.config.tools=p,n.config&&n.config.tools&&Mh(n.config.tools)){const y=(r=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),xh(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var o,s,r;const d=new Map;for(const p of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(ti(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(n){var o,s,r;const d=(r=(s=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:$p;let p=!1,g=0;const y=await this.initAfcToolsMap(n);return(function(h,T,S){var _,R;return ei(this,arguments,function*(){for(var G,V,F,Y;g<d;){p&&(g++,p=!1);const le=yield Le(h.processParamsMaybeAddMcpUsage(S)),$=yield Le(h.generateContentStreamInternal(le)),k=[],ce=[];try{for(var J=!0,P=(V=void 0,io($)),Z;Z=yield Le(P.next()),G=Z.done,!G;J=!0){Y=Z.value,J=!1;const te=Y;if(yield yield Le(te),te.candidates&&(!((_=te.candidates[0])===null||_===void 0)&&_.content)){ce.push(te.candidates[0].content);for(const ue of(R=te.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(g<d&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(ue.functionCall.name)){const Se=yield Le(T.get(ue.functionCall.name).callTool([ue.functionCall]));k.push(...Se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(te){V={error:te}}finally{try{!J&&!G&&(F=P.return)&&(yield Le(F.call(P)))}finally{if(V)throw V.error}}if(k.length>0){p=!0;const te=new lo;te.candidates=[{content:{role:"user",parts:k}}],yield yield Le(te);const ue=[];ue.push(...ce),ue.push({role:"user",parts:k});const Se=Ot(S.contents).concat(ue);S.contents=Se}else break}})})(this,y,n)}async generateContentInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Fp(this.apiClient,n);return g=Q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=Kp(T),_=new lo;return Object.assign(_,S),_})}else{const h=Jp(this.apiClient,n);return g=Q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=Xp(T),_=new lo;return Object.assign(_,S),_})}}async generateContentStreamInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Fp(this.apiClient,n);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(S){return ei(this,arguments,function*(){var _,R,G,V;try{for(var F=!0,Y=io(S),J;J=yield Le(Y.next()),_=J.done,!_;F=!0){V=J.value,F=!1;const P=V,Z=Kp(yield Le(P.json()));Z.sdkHttpResponse={headers:P.headers};const le=new lo;Object.assign(le,Z),yield yield Le(le)}}catch(P){R={error:P}}finally{try{!F&&!_&&(G=Y.return)&&(yield Le(G.call(Y)))}finally{if(R)throw R.error}}})})}else{const h=Jp(this.apiClient,n);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(S){return ei(this,arguments,function*(){var _,R,G,V;try{for(var F=!0,Y=io(S),J;J=yield Le(Y.next()),_=J.done,!_;F=!0){V=J.value,F=!1;const P=V,Z=Xp(yield Le(P.json()));Z.sdkHttpResponse={headers:P.headers};const le=new lo;Object.assign(le,Z),yield yield Le(le)}}catch(P){R={error:P}}finally{try{!F&&!_&&(G=Y.return)&&(yield Le(G.call(Y)))}finally{if(R)throw R.error}}})})}}async embedContent(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=pS(this.apiClient,n);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=gS(T),_=new Dp;return Object.assign(_,S),_})}else{const h=mS(this.apiClient,n);return g=Q("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=hS(T),_=new Dp;return Object.assign(_,S),_})}}async generateImagesInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=MS(this.apiClient,n);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=RS(T),_=new Ip;return Object.assign(_,S),_})}else{const h=AS(this.apiClient,n);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=xS(T),_=new Ip;return Object.assign(_,S),_})}}async editImageInternal(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=rS(this.apiClient,n);return d=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>{const h=cS(y),T=new Dv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=_E(this.apiClient,n);return d=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>{const h=CE(y),T=new Iv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=iE(this.apiClient,n);return d=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=oE(y),T=new Uv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=fE(this.apiClient,n);return d=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=dE(y),T=new bv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=YS(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>dr(T))}else{const h=kS(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>fr(T))}}async listInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=$S(this.apiClient,n);return g=Q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=jS(T),_=new Up;return Object.assign(_,S),_})}else{const h=ZS(this.apiClient,n);return g=Q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=WS(T),_=new Up;return Object.assign(_,S),_})}}async update(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=SE(this.apiClient,n);return g=Q("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>dr(T))}else{const h=TE(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>fr(T))}}async delete(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=oS(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=sS(T),_=new bp;return Object.assign(_,S),_})}else{const h=iS(this.apiClient,n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=aS(T),_=new bp;return Object.assign(_,S),_})}}async countTokens(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tS(this.apiClient,n);return g=Q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=lS(T),_=new wp;return Object.assign(_,S),_})}else{const h=eS(this.apiClient,n);return g=Q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=nS(T),_=new wp;return Object.assign(_,S),_})}}async computeTokens(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=XT(this.apiClient,n);return d=Q("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>{const h=KT(y),T=new wv;return Object.assign(T,h),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=wS(this.apiClient,n);return g=Q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>{const S=US(T),_=new Ua;return Object.assign(_,S),_})}else{const h=bS(this.apiClient,n);return g=Q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>{const S=IS(T),_=new Ua;return Object.assign(_,S),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l_ extends fl{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=xv(n);return g=Q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p}else{const h=Mv(n);return g=Q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p}}async fetchPredictVideosOperationInternal(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=vv(n);return d=Q("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i_(l){const n={},o=u(l,["data"]);if(o!=null&&c(n,["data"],o),u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function o_(l){const n={},o=u(l,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>m_(d))),c(n,["parts"],r)}const s=u(l,["role"]);return s!=null&&c(n,["role"],s),n}function a_(l,n,o){const s={},r=u(n,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(n,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const p=u(n,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(n,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],d_(l,g));const y=u(n,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),s}function s_(l,n){const o={},s=u(n,["config"]);return s!=null&&c(o,["config"],a_(l,s,o)),o}function u_(l){const n={};if(u(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(l,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(l,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function r_(l){const n={};if(u(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(l,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function c_(l){const n={};if(u(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const o=u(l,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function f_(l,n){const o={},s=u(l,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const r=u(l,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const d=u(l,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=u(l,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const g=u(l,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(l,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(l,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const T=u(l,["seed"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","seed"],T);const S=u(l,["speechConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","speechConfig"],Er(S));const _=u(l,["thinkingConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","thinkingConfig"],_);const R=u(l,["enableAffectiveDialog"]);n!==void 0&&R!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],R);const G=u(l,["systemInstruction"]);n!==void 0&&G!=null&&c(n,["setup","systemInstruction"],o_(at(G)));const V=u(l,["tools"]);if(n!==void 0&&V!=null){let $=ii(V);Array.isArray($)&&($=$.map(k=>h_(li(k)))),c(n,["setup","tools"],$)}const F=u(l,["sessionResumption"]);n!==void 0&&F!=null&&c(n,["setup","sessionResumption"],p_(F));const Y=u(l,["inputAudioTranscription"]);n!==void 0&&Y!=null&&c(n,["setup","inputAudioTranscription"],Y);const J=u(l,["outputAudioTranscription"]);n!==void 0&&J!=null&&c(n,["setup","outputAudioTranscription"],J);const P=u(l,["realtimeInputConfig"]);n!==void 0&&P!=null&&c(n,["setup","realtimeInputConfig"],P);const Z=u(l,["contextWindowCompression"]);n!==void 0&&Z!=null&&c(n,["setup","contextWindowCompression"],Z);const le=u(l,["proactivity"]);return n!==void 0&&le!=null&&c(n,["setup","proactivity"],le),o}function d_(l,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],Ae(l,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],f_(r,o)),o}function m_(l){const n={},o=u(l,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(l,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(l,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(l,["fileData"]);d!=null&&c(n,["fileData"],u_(d));const p=u(l,["functionResponse"]);p!=null&&c(n,["functionResponse"],p);const g=u(l,["inlineData"]);g!=null&&c(n,["inlineData"],i_(g));const y=u(l,["text"]);y!=null&&c(n,["text"],y);const h=u(l,["thought"]);h!=null&&c(n,["thought"],h);const T=u(l,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const S=u(l,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function p_(l){const n={},o=u(l,["handle"]);if(o!=null&&c(n,["handle"],o),u(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function h_(l){const n={},o=u(l,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(T=>T)),c(n,["functionDeclarations"],h)}if(u(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(l,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(l,["googleMaps"]);r!=null&&c(n,["googleMaps"],r_(r));const d=u(l,["computerUse"]);d!=null&&c(n,["computerUse"],d);const p=u(l,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),u(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(l,["googleSearch"]);g!=null&&c(n,["googleSearch"],c_(g));const y=u(l,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g_(l){const n=[];for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const s=l[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(d=>`${o}.${d}`);n.push(...r)}else n.push(o)}return n.join(",")}function y_(l,n){let o=null;const s=l.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(l.bidiGenerateContentSetup=d,o=d):delete l.bidiGenerateContentSetup}else s!==void 0&&delete l.bidiGenerateContentSetup;const r=l.fieldMask;if(o){const d=g_(o);if(Array.isArray(n?.lockAdditionalFields)&&n?.lockAdditionalFields.length===0)d?l.fieldMask=d:delete l.fieldMask;else if(n?.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?l.fieldMask=y.join(","):delete l.fieldMask}else delete l.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?l.fieldMask=r.join(","):delete l.fieldMask;return l}class v_ extends fl{constructor(n){super(),this.apiClient=n}async create(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=s_(this.apiClient,n);d=Q("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=y_(g,n.config);return r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T_(l,n){const o={},s=u(l,["name"]);return s!=null&&c(o,["_url","name"],s),o}function S_(l,n){const o={},s=u(l,["name"]);return s!=null&&c(o,["_url","name"],s),o}function E_(l,n,o){const s={};if(u(l,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(l,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&c(n,["displayName"],r),u(l,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(l,["epochCount"]);n!==void 0&&d!=null&&c(n,["tuningTask","hyperparameters","epochCount"],d);const p=u(l,["learningRateMultiplier"]);if(p!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(l,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(l,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(l,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(l,["batchSize"]);n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","batchSize"],g);const y=u(l,["learningRate"]);if(n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),u(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(l,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function __(l,n,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const R=u(l,["validationDataset"]);n!==void 0&&R!=null&&c(n,["supervisedTuningSpec"],eh(R))}else if(r==="PREFERENCE_TUNING"){const R=u(l,["validationDataset"]);n!==void 0&&R!=null&&c(n,["preferenceOptimizationSpec"],eh(R))}const d=u(l,["tunedModelDisplayName"]);n!==void 0&&d!=null&&c(n,["tunedModelDisplayName"],d);const p=u(l,["description"]);n!==void 0&&p!=null&&c(n,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const R=u(l,["epochCount"]);n!==void 0&&R!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],R)}else if(g==="PREFERENCE_TUNING"){const R=u(l,["epochCount"]);n!==void 0&&R!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],R)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const R=u(l,["learningRateMultiplier"]);n!==void 0&&R!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],R)}else if(y==="PREFERENCE_TUNING"){const R=u(l,["learningRateMultiplier"]);n!==void 0&&R!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],R)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const R=u(l,["exportLastCheckpointOnly"]);n!==void 0&&R!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],R)}else if(h==="PREFERENCE_TUNING"){const R=u(l,["exportLastCheckpointOnly"]);n!==void 0&&R!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],R)}let T=u(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const R=u(l,["adapterSize"]);n!==void 0&&R!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],R)}else if(T==="PREFERENCE_TUNING"){const R=u(l,["adapterSize"]);n!==void 0&&R!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],R)}if(u(l,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(l,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(l,["labels"]);n!==void 0&&S!=null&&c(n,["labels"],S);const _=u(l,["beta"]);return n!==void 0&&_!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],_),s}function C_(l,n){const o={},s=u(l,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(l,["trainingDataset"]);d!=null&&G_(d);const p=u(l,["config"]);return p!=null&&E_(p,o),o}function A_(l,n){const o={},s=u(l,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(l,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(l,["trainingDataset"]);d!=null&&L_(d,o,n);const p=u(l,["config"]);return p!=null&&__(p,o,n),o}function M_(l,n){const o={},s=u(l,["name"]);return s!=null&&c(o,["_url","name"],s),o}function x_(l,n){const o={},s=u(l,["name"]);return s!=null&&c(o,["_url","name"],s),o}function R_(l,n,o){const s={},r=u(l,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const d=u(l,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const p=u(l,["filter"]);return n!==void 0&&p!=null&&c(n,["_query","filter"],p),s}function N_(l,n,o){const s={},r=u(l,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const d=u(l,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const p=u(l,["filter"]);return n!==void 0&&p!=null&&c(n,["_query","filter"],p),s}function D_(l,n){const o={},s=u(l,["config"]);return s!=null&&R_(s,o),o}function I_(l,n){const o={},s=u(l,["config"]);return s!=null&&N_(s,o),o}function U_(l,n){const o={},s=u(l,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(l,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>Rh(g))),c(o,["tuningJobs"],p)}return o}function b_(l,n){const o={},s=u(l,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(l,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(l,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>pr(g))),c(o,["tuningJobs"],p)}return o}function w_(l,n){const o={},s=u(l,["name"]);s!=null&&c(o,["model"],s);const r=u(l,["name"]);return r!=null&&c(o,["endpoint"],r),o}function G_(l,n){const o={};if(u(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(l,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(l,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function L_(l,n,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(l,["gcsUri"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(l,["gcsUri"]);n!==void 0&&p!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=u(l,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=u(l,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(l,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Rh(l,n){const o={},s=u(l,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["state"]);d!=null&&c(o,["state"],uh(d));const p=u(l,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(l,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(l,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(l,["updateTime"]);h!=null&&c(o,["updateTime"],h);const T=u(l,["description"]);T!=null&&c(o,["description"],T);const S=u(l,["baseModel"]);S!=null&&c(o,["baseModel"],S);const _=u(l,["_self"]);return _!=null&&c(o,["tunedModel"],w_(_)),o}function pr(l,n){const o={},s=u(l,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["state"]);d!=null&&c(o,["state"],uh(d));const p=u(l,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(l,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(l,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(l,["updateTime"]);h!=null&&c(o,["updateTime"],h);const T=u(l,["error"]);T!=null&&c(o,["error"],T);const S=u(l,["description"]);S!=null&&c(o,["description"],S);const _=u(l,["baseModel"]);_!=null&&c(o,["baseModel"],_);const R=u(l,["tunedModel"]);R!=null&&c(o,["tunedModel"],R);const G=u(l,["preTunedModel"]);G!=null&&c(o,["preTunedModel"],G);const V=u(l,["supervisedTuningSpec"]);V!=null&&c(o,["supervisedTuningSpec"],V);const F=u(l,["preferenceOptimizationSpec"]);F!=null&&c(o,["preferenceOptimizationSpec"],F);const Y=u(l,["tuningDataStats"]);Y!=null&&c(o,["tuningDataStats"],Y);const J=u(l,["encryptionSpec"]);J!=null&&c(o,["encryptionSpec"],J);const P=u(l,["partnerModelTuningSpec"]);P!=null&&c(o,["partnerModelTuningSpec"],P);const Z=u(l,["customBaseModel"]);Z!=null&&c(o,["customBaseModel"],Z);const le=u(l,["experiment"]);le!=null&&c(o,["experiment"],le);const $=u(l,["labels"]);$!=null&&c(o,["labels"],$);const k=u(l,["outputUri"]);k!=null&&c(o,["outputUri"],k);const ce=u(l,["pipelineJob"]);ce!=null&&c(o,["pipelineJob"],ce);const te=u(l,["serviceAccount"]);te!=null&&c(o,["serviceAccount"],te);const ue=u(l,["tunedModelDisplayName"]);ue!=null&&c(o,["tunedModelDisplayName"],ue);const Se=u(l,["veoTuningSpec"]);return Se!=null&&c(o,["veoTuningSpec"],Se),o}function q_(l,n){const o={},s=u(l,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(l,["name"]);r!=null&&c(o,["name"],r);const d=u(l,["metadata"]);d!=null&&c(o,["metadata"],d);const p=u(l,["done"]);p!=null&&c(o,["done"],p);const g=u(l,["error"]);return g!=null&&c(o,["error"],g),o}function eh(l,n){const o={},s=u(l,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const r=u(l,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H_ extends fl{constructor(n){super(),this.apiClient=n,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new uo(cl.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:sr.JOB_STATE_QUEUED}}}}async getInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=x_(n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>pr(T))}else{const h=M_(n);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>Rh(T))}}async listInternal(n){var o,s,r,d;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=I_(n);return g=Q("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=b_(T),_=new Gp;return Object.assign(_,S),_})}else{const h=D_(n);return g=Q("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(S=>{const _=S;return _.sdkHttpResponse={headers:T.headers},_})),p.then(T=>{const S=U_(T),_=new Gp;return Object.assign(_,S),_})}}async cancel(n){var o,s,r,d;let p="",g={};if(this.apiClient.isVertexAI()){const y=S_(n);p=Q("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=T_(n);p=Q("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI()){const g=A_(n,n);return d=Q("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>pr(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,s;let r,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=C_(n);return d=Q("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const T=h;return T.sdkHttpResponse={headers:y.headers},T})),r.then(y=>q_(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z_{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const V_=1024*1024*8,B_=3,P_=1e3,O_=2,or="x-goog-upload-status";async function k_(l,n,o){var s,r,d;let p=0,g=0,y=new ur(new Response),h="upload";for(p=l.size;g<p;){const S=Math.min(V_,p-g),_=l.slice(g,g+S);g+S>=p&&(h+=", finalize");let R=0,G=P_;for(;R<B_&&(y=await o.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(S)}}}),!(!((s=y?.headers)===null||s===void 0)&&s[or]));)R++,await J_(G),G=G*O_;if(g+=S,((r=y?.headers)===null||r===void 0?void 0:r[or])!=="active")break;if(p<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const T=await y?.json();if(((d=y?.headers)===null||d===void 0?void 0:d[or])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return T.file}async function Y_(l){return{size:l.size,type:l.type}}function J_(l){return new Promise(n=>setTimeout(n,l))}class F_{async upload(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await k_(n,o,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await Y_(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X_{create(n,o,s){return new K_(n,o,s)}}class K_{constructor(n,o,s){this.url=n,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const th="x-goog-api-key";class Q_{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(th)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(th,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z_="gl-node/";class $_{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const s=gv(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const r=new Q_(this.apiKey);this.apiClient=new qE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:Z_+"web",uploader:new F_,downloader:new z_}),this.models=new n_(this.apiClient),this.live=new QE(this.apiClient,r,new X_),this.batches=new L0(this.apiClient),this.chats=new mT(this.models,this.apiClient),this.caches=new cT(this.apiClient),this.files=new CT(this.apiClient),this.operations=new l_(this.apiClient),this.authTokens=new v_(this.apiClient),this.tunings=new H_(this.apiClient)}}const ro=new $_({apiKey:void 0}),Cr=l=>{const n=/^data:(.+);base64,(.*)$/,o=l.match(n);if(!o)throw new Error("Invalid data URL format");return o[2]},W_=async(l,n="1:1")=>{try{const s=(await ro.models.generateImages({model:"imagen-4.0-generate-001",prompt:l,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:n}})).generatedImages[0]?.image.imageBytes;if(!s)throw new Error("No image bytes received from Gemini.");return`data:image/jpeg;base64,${s}`}catch(o){throw console.error("Error generating image with Gemini:",o),new Error(`Failed to generate image (Gemini): ${o.message}`)}},j_=async(l,n)=>{try{const o=Cr(l),s=l.substring(l.indexOf(":")+1,l.indexOf(";")),p=(await ro.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{data:o,mimeType:s}},{text:n}]},config:{responseModalities:[oo.IMAGE]}})).candidates?.[0]?.content?.parts?.find(g=>g.inlineData)?.inlineData?.data;if(!p)throw new Error("No edited image bytes received from Gemini.");return`data:image/jpeg;base64,${p}`}catch(o){throw console.error("Error editing image with Gemini:",o),new Error(`Failed to edit image (Gemini): ${o.message}`)}},eC=async l=>{try{const n=Cr(l),o=l.substring(l.indexOf(":")+1,l.indexOf(";"));return(await ro.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{data:n,mimeType:o}},{text:"Describe this image in detail. Be thorough and helpful."}]}})).text}catch(n){throw console.error("Error analyzing image with Gemini:",n),new Error(`Failed to analyze image (Gemini): ${n.message}`)}},tC=async l=>{if(!l.image&&!l.text)throw new Error("Either an image or a text prompt must be provided.");try{let n=[],o="";if(l.image){const p=Cr(l.image),g=l.image.substring(l.image.indexOf(":")+1,l.image.indexOf(";"));n.push({inlineData:{data:p,mimeType:g}}),o="Extract a 5-color palette from this image. Provide descriptive names and hex codes for each color. Respond in JSON format with a 'palette' array, each object having 'hex' and 'name' properties."}else l.text&&(o=`Generate a 5-color palette based on the theme: "${l.text}". Provide creative, descriptive names and hex codes for each color. Respond in JSON format with a 'palette' array, each object having 'hex' and 'name' properties.`);n.push({text:o});let r=(await ro.models.generateContent({model:"gemini-2.5-flash",contents:{parts:n},config:{responseMimeType:"application/json",responseSchema:{type:It.OBJECT,properties:{palette:{type:It.ARRAY,items:{type:It.OBJECT,properties:{hex:{type:It.STRING,description:"Hex code of the color."},name:{type:It.STRING,description:"Name of the color."}},propertyOrdering:["hex","name"]}}},required:["palette"]}}})).text.trim();const d=JSON.parse(r);if(d.palette&&Array.isArray(d.palette))return d.palette.map(p=>({hex:p.hex,name:p.name}));throw new Error("Gemini did not return a valid color palette in the expected JSON format.")}catch(n){throw console.error("Error generating color palette with Gemini:",n),n.message.includes("Unexpected token")||n.message.includes("JSON")?new Error(`Failed to parse Gemini's response as JSON for palette generation. Raw error: ${n.message}`):new Error(`Failed to generate palette (Gemini): ${n.message}`)}};async function*nC(l,n,o,s,r,d){const p=ro.chats.create({model:l,config:{systemInstruction:s,tools:r?[{googleSearch:{}}]:void 0,thinkingConfig:d!==void 0?{thinkingBudget:d}:void 0},history:o});try{const g=await p.sendMessageStream({message:n});for await(const y of g)yield{text:y.text,groundingChunks:y.candidates?.[0]?.groundingMetadata?.groundingChunks,functionCalls:y.functionCalls}}catch(g){throw console.error(`Error streaming chat with Gemini model ${l}:`,g),new Error(`Failed to stream chat (Gemini ${l}): ${g.message}`)}}const lC=(l,n)=>new Promise((o,s)=>{const r=new Image;r.src=l,r.onload=()=>{let{width:d,height:p}=r;(d>n||p>n)&&(d>p?(p=Math.round(p*n/d),d=n):(d=Math.round(d*n/p),p=n));const g=document.createElement("canvas");g.width=d,g.height=p;const y=g.getContext("2d");if(!y)return s(new Error("Could not get canvas context"));y.drawImage(r,0,0,d,p),o(g.toDataURL("image/jpeg",.9))},r.onerror=d=>s(d)}),iC=()=>C.jsx("header",{className:"bg-gray-800/50 backdrop-blur-sm p-4 border-b border-gray-700 fixed top-0 left-0 right-0 z-30",children:C.jsx("div",{className:"container mx-auto flex items-center justify-between",children:C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsxs("svg",{className:"w-8 h-8 text-cyan-400",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[C.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),C.jsx("h1",{className:"text-xl font-bold text-white tracking-wider",children:"Creative Suite"})," "]})})}),ai=({text:l="Working its magic..."})=>C.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center rounded-lg z-20",children:C.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[C.jsxs("svg",{className:"animate-spin h-10 w-10 text-cyan-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[C.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),C.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),C.jsx("p",{className:"mt-4 text-lg text-gray-300 font-semibold",children:l}),C.jsx("p",{className:"text-sm text-gray-400",children:"This can take a moment."})]})}),Nh=()=>C.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500 border-2 border-dashed border-gray-600 rounded-lg p-8 text-center",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),C.jsx("h3",{className:"text-xl font-semibold text-gray-400",children:"Upload an image to start"}),C.jsx("p",{className:"mt-2 text-sm",children:"Use the controls on the left to select a file from your device."})]}),oC=({error:l,onClear:n})=>l?C.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-300 p-3 rounded-lg text-sm",role:"alert",children:C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsxs("div",{children:[C.jsx("p",{className:"font-semibold",children:"An error occurred"}),C.jsx("p",{children:l})]}),C.jsx("button",{onClick:n,className:"text-red-300 hover:text-white",children:""})]})}):null,ni=(l,n,o,s)=>{let r,d=l instanceof Error?l.message:String(l);const p=d.toLowerCase(),g=s==="ollama"?"Ollama":"Gemini";if(s==="ollama"&&(p.includes("failed to fetch")||p.includes("network error")||p.includes("connection refused")))r=`${g} server: Could not connect to Ollama server. Please ensure Ollama is running at http://localhost:11434 and the 'llava' model is available.`;else if(s==="ollama"&&(p.includes("model not found")||p.includes("pull model")))r=`${g} model: Ollama model 'llava' not found. Please ensure the 'llava' model is downloaded and available in your Ollama installation.`;else if(s==="gemini"&&(p.includes("AIzaSyBtto2pvY2bTO26XwuV1hAB9RbSqYo3Fnw")||p.includes("invalid api key")))r=`${g} API Key: Please ensure your Gemini API key is correctly configured.`;else if(p.includes("api error")||p.includes("400")||p.includes("500"))r=`${g} API error: ${d}. Check server logs for more details.`;else if(p.includes("safety")||p.includes("blocked")||p.includes("harmful"))r="The request was blocked, possibly due to safety settings. Please try a different prompt or adjust your input.";else if(p.includes("no content was returned")||p.includes("empty response"))r=`${g} returned an empty response. The prompt may be too ambiguous or require further refinement.`;else if(p.includes("invalid data url")||p.includes("mime type")||p.includes("json")&&p.includes("parse"))r=`Unsupported image format, corrupt data, or invalid AI response structure from ${g}. Please try a different PNG or JPEG file or simplify the prompt.`;else{const y=d.replace(/Failed to (?:edit|generate|analyze) (?:image|palette|content|response):?/gi,"").trim();r=`An unexpected error occurred with ${g}: ${y||"Please try again."}`}console.error(`${g} API action "${o}" failed:`,l),n(r)},aC=({image:l,onImageUpload:n,clearError:o,setError:s,backendProvider:r})=>{const[d,p]=j.useState(null),[g,y]=j.useState(""),[h,T]=j.useState(!1),S=["Add a dramatic, cinematic filter","Make the image black and white","Change the style to a watercolor painting","Add a unicorn flying in the sky"];j.useEffect(()=>{p(null),y(""),o()},[l,o,r]);const _=j.useCallback(async()=>{if(!l||!g.trim()){s("Please upload an image and enter a prompt.");return}T(!0),o();try{if(r==="ollama"){const G=await rv(l,g);p(G)}else{const G=await j_(l,g);p(G)}}catch(G){ni(G,s,"edit",r)}finally{T(!1)}},[l,g,s,o,r]),R=r==="ollama";return C.jsxs(C.Fragment,{children:[C.jsxs(Ha,{children:[C.jsx(Ar,{step:1,onImageUpload:n,hasImage:!!l}),C.jsx(Mr,{step:2,prompt:g,setPrompt:y,disabled:!l,placeholder:"e.g., 'Add a retro cinematic filter'",examples:S}),C.jsx(Ba,{onClick:_,disabled:!l||!g.trim()||h,text:h?"Editing...":`Generate ${R?"Edit Description":"Edited Image"}`}),R&&C.jsxs("div",{className:"mt-4 p-4 bg-gray-800/50 rounded-lg border border-gray-700 text-sm text-gray-400",children:[C.jsx("p",{className:"font-semibold text-gray-300",children:"Note:"}),C.jsx("p",{children:"Ollama models currently provide a textual description of the image edit, not a modified image."})]})]}),C.jsx(za,{children:C.jsxs("div",{className:"flex-grow relative",children:[h&&C.jsx(ai,{text:"Applying your edits..."}),!l&&C.jsx(Nh,{}),l&&C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 h-full",children:[C.jsx(ao,{title:"Original",src:l}),C.jsx(ao,{title:R?"Edited Description":"Edited Image",src:d,placeholder:R?"Your edited image description will appear here":"Your edited image will appear here",download:!R&&!!d})]})]})})]})},sC=({setError:l,clearError:n,backendProvider:o})=>{const[s,r]=j.useState(null),[d,p]=j.useState(""),[g,y]=j.useState(!1),[h,T]=j.useState("1:1"),S=["A cute robot holding a red balloon, 3D render","Logo for a tech startup, minimalist, blue/white","Oil painting of a stormy sea","Photorealistic cup of coffee on a wooden desk"];j.useEffect(()=>{r(null),p(""),n()},[n,o]);const _=j.useCallback(async()=>{if(!d.trim()){l("Please enter a prompt to generate content.");return}y(!0),n(),r(null);try{if(o==="ollama"){const G=await cv(d);r(G)}else{const G=await W_(d,h);r(G)}}catch(G){ni(G,l,"generate",o)}finally{y(!1)}},[d,h,l,n,o]),R=o==="ollama";return C.jsxs(C.Fragment,{children:[C.jsxs(Ha,{children:[C.jsx(Mr,{step:1,prompt:d,setPrompt:p,placeholder:"e.g., 'A vibrant oil painting of a cat wearing a wizard hat'",examples:S}),C.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[C.jsx(Va,{step:2}),C.jsx("h3",{className:"text-lg font-semibold text-gray-200 mt-3 mb-2",children:"Aspect Ratio"}),o==="gemini"?C.jsxs("select",{value:h,onChange:G=>T(G.target.value),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-cyan-500","aria-label":"Select aspect ratio",children:[C.jsx("option",{value:"1:1",children:"1:1 (Square)"}),C.jsx("option",{value:"4:3",children:"4:3 (Standard)"}),C.jsx("option",{value:"3:4",children:"3:4 (Portrait)"}),C.jsx("option",{value:"16:9",children:"16:9 (Landscape)"}),C.jsx("option",{value:"9:16",children:"9:16 (Tall Portrait)"})]}):C.jsx("p",{className:"text-sm text-gray-400",children:"Ollama models currently generate textual descriptions of images and do not support explicit aspect ratio control."})]}),C.jsx(Ba,{onClick:_,disabled:!d.trim()||g,text:g?"Generating...":`Generate ${R?"Image Description":"Image"}`}),R&&C.jsxs("div",{className:"mt-4 p-4 bg-gray-800/50 rounded-lg border border-gray-700 text-sm text-gray-400",children:[C.jsx("p",{className:"font-semibold text-gray-300",children:"Note:"}),C.jsx("p",{children:"Ollama models currently provide a textual description of the generated image, not the image itself."})]})]}),C.jsx(za,{children:C.jsxs("div",{className:"flex-grow relative h-full flex items-center justify-center",children:[g&&C.jsx(ai,{}),!s&&!g&&C.jsxs("div",{className:"text-gray-500 text-center",children:["Your generated ",R?"image description":"image"," will appear here"]}),s&&C.jsx(ao,{src:s,title:R?"Generated Description":"Generated Image",download:!R&&!!s})]})})]})},uC=({image:l,onImageUpload:n,setError:o,clearError:s,backendProvider:r})=>{const[d,p]=j.useState(""),[g,y]=j.useState(!1);j.useEffect(()=>{p(""),s()},[l,s,r]);const h=j.useCallback(async()=>{if(!l){o("Please upload an image to analyze.");return}y(!0),s(),p("");try{if(r==="ollama"){const T=await fv(l);p(T)}else{const T=await eC(l);p(T)}}catch(T){ni(T,o,"analyze",r)}finally{y(!1)}},[l,o,s,r]);return C.jsxs(C.Fragment,{children:[C.jsxs(Ha,{children:[C.jsx(Ar,{step:1,onImageUpload:n,hasImage:!!l}),C.jsx(Ba,{onClick:h,disabled:!l||g,text:g?"Analyzing...":"Analyze Image"}),d&&!g&&C.jsxs("div",{className:"mt-4 p-4 bg-gray-800/50 rounded-lg border border-gray-700 max-h-96 overflow-y-auto",children:[C.jsxs("h3",{className:"text-sm font-semibold text-gray-400 mb-2",children:["Analysis Results (",r==="ollama"?"Ollama":"Gemini",")"]}),C.jsx("p",{className:"text-gray-300 whitespace-pre-wrap text-sm",children:d})]})]}),C.jsx(za,{children:C.jsxs("div",{className:"flex-grow relative",children:[g&&C.jsx(ai,{text:"Analyzing your image..."}),!l&&C.jsx(Nh,{}),l&&C.jsx(ao,{src:l})]})})]})},rC=({setError:l,clearError:n,backendProvider:o})=>{const[s,r]=j.useState("image"),[d,p]=j.useState(null),[g,y]=j.useState(""),[h,T]=j.useState([]),[S,_]=j.useState(!1);j.useEffect(()=>{p(null),y(""),T([]),n()},[n,o]);const R=j.useCallback(async()=>{if(s==="image"&&!d){l("Please upload an image to extract a palette.");return}if(s==="theme"&&!g.trim()){l("Please enter a theme to generate a palette.");return}_(!0),n(),T([]);try{const G=s==="image"?{image:d}:{text:g};let V;o==="ollama"?V=await dv(G):V=await tC(G),T(V)}catch(G){ni(G,l,"palette generation",o)}finally{_(!1)}},[s,d,g,l,n,o]);return C.jsxs(C.Fragment,{children:[C.jsxs(Ha,{children:[C.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[C.jsx(Va,{step:1}),C.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mt-3 mb-2",children:["Palette Source (",o==="ollama"?"Ollama":"Gemini",")"]}),C.jsxs("div",{className:"flex bg-gray-900 rounded-md p-1",children:[C.jsx("button",{onClick:()=>r("image"),className:`w-1/2 py-2 text-sm rounded-md transition-colors ${s==="image"?"bg-cyan-600 text-white font-bold":"hover:bg-gray-700"}`,children:"From Image"}),C.jsx("button",{onClick:()=>r("theme"),className:`w-1/2 py-2 text-sm rounded-md transition-colors ${s==="theme"?"bg-cyan-600 text-white font-bold":"hover:bg-gray-700"}`,children:"From Theme"})]})]}),s==="image"?C.jsx(Ar,{step:2,onImageUpload:p,hasImage:!!d}):C.jsx(Mr,{step:2,prompt:g,setPrompt:y,placeholder:"e.g., 'Cyberpunk city at night' or 'Autumn forest'"}),C.jsx(Ba,{onClick:R,disabled:S||s==="image"&&!d||s==="theme"&&!g.trim(),text:S?"Generating...":"Generate Palette"})]}),C.jsx(za,{children:C.jsxs("div",{className:"flex-grow relative flex items-center justify-center",children:[S&&C.jsx(ai,{text:"Crafting your palette..."}),!S&&h.length===0&&C.jsxs("div",{className:"text-gray-500 text-center",children:[s==="image"&&d&&C.jsx(ao,{src:d}),C.jsx("p",{className:"mt-4",children:"Your generated color palette will appear here."})]}),h.length>0&&C.jsx(pC,{palette:h})]})})]})},Zl=["core","loop","2244","coin","code"],cC=({chatHistory:l,isLoading:n,modelStatuses:o,currentChatPrompt:s,setCurrentChatPrompt:r,handleSendMessage:d,setError:p,clearError:g})=>{const y=j.useRef(null);return j.useEffect(()=>{y.current?.scrollIntoView({behavior:"smooth"})},[l]),C.jsxs("div",{className:"flex-grow flex flex-col p-6 bg-gray-900 overflow-y-auto",children:[l.length===0&&!n&&C.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500 h-full",children:[C.jsx("svg",{className:"w-20 h-20 mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),C.jsx("h3",{className:"text-xl font-semibold text-gray-400",children:"Start a Multi-Model Chat (Ollama)"}),C.jsx("p",{className:"mt-2 text-sm",children:"Your conversation will appear here, with responses from multiple Ollama models."})]}),l.map((h,T)=>C.jsxs("div",{className:`mb-4 p-3 rounded-lg max-w-[80%] ${h.type==="user"?"bg-blue-800/40 self-end text-right":"bg-gray-800/40 self-start text-left"}`,children:[C.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:[h.type==="user"?"You":C.jsx("span",{className:"font-semibold text-cyan-400",children:h.modelName||"Model"}),C.jsx("span",{className:"ml-2 text-gray-500",children:h.timestamp})]}),C.jsx("div",{className:"text-gray-200 whitespace-pre-wrap",children:h.content})]},T)),n&&C.jsx("div",{className:"self-start text-left mb-4 p-3 rounded-lg bg-gray-800/40",children:C.jsx(ai,{text:"Ollama models are generating responses..."})}),C.jsx("div",{ref:y})]})},nh={"gemini-2.5-flash-lite":"Gemini Flash Lite (Fast)","gemini-2.5-flash":"Gemini Flash (Standard)","gemini-2.5-pro":"Gemini Pro (Complex Tasks)","gemini-2.5-pro-thinking-mode":"Gemini Pro (Thinking Mode) - Max Budget"},fC=32768,dC=({chatHistory:l,isLoading:n})=>{const o=j.useRef(null);j.useEffect(()=>{o.current?.scrollIntoView({behavior:"smooth"})},[l]);const s=r=>{if(!r||r.length===0)return null;const d=r.filter(g=>g.web).map(g=>g.web),p=r.filter(g=>g.maps).map(g=>g.maps);return C.jsxs("div",{className:"mt-2 text-xs text-gray-500 border-t border-gray-700 pt-2",children:[d.length>0&&C.jsxs("div",{className:"mb-1",children:[C.jsx("p",{className:"font-semibold text-gray-400",children:"Web Sources:"}),C.jsx("ul",{className:"list-disc list-inside pl-2",children:d.map((g,y)=>C.jsx("li",{children:C.jsx("a",{href:g.uri,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:g.title||g.uri})},`web-${y}`))})]}),p.length>0&&C.jsxs("div",{children:[C.jsx("p",{className:"font-semibold text-gray-400",children:"Map Sources:"}),C.jsx("ul",{className:"list-disc list-inside pl-2",children:p.map((g,y)=>C.jsxs("li",{children:[C.jsx("a",{href:g.uri,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:g.title||g.uri}),g.placeAnswerSources?.reviewSnippets&&g.placeAnswerSources.reviewSnippets.length>0&&C.jsxs("p",{className:"text-gray-500 italic ml-4 text-xs",children:['"Reviews: ',g.placeAnswerSources.reviewSnippets.map(h=>h.text).join("; "),'"']})]},`map-${y}`))})]})]})};return C.jsxs("div",{className:"flex-grow flex flex-col p-6 bg-gray-900 overflow-y-auto",children:[l.length===0&&!n&&C.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-500 h-full",children:[C.jsx("svg",{className:"w-20 h-20 mb-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),C.jsx("h3",{className:"text-xl font-semibold text-gray-400",children:"Start a Gemini Chat"}),C.jsx("p",{className:"mt-2 text-sm",children:"Select a model and settings to begin a conversation."})]}),l.map((r,d)=>C.jsxs("div",{className:`mb-4 p-3 rounded-lg max-w-[80%] ${r.type==="user"?"bg-blue-800/40 self-end text-right":"bg-gray-800/40 self-start text-left"}`,children:[C.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:[r.type==="user"?"You":C.jsx("span",{className:"font-semibold text-cyan-400",children:r.modelName||"Model"}),C.jsx("span",{className:"ml-2 text-gray-500",children:r.timestamp})]}),C.jsx("div",{className:"text-gray-200 whitespace-pre-wrap",children:r.content}),r.groundingChunks&&s(r.groundingChunks)]},d)),n&&C.jsx("div",{className:"self-start text-left mb-4 p-3 rounded-lg bg-gray-800/40",children:C.jsx(ai,{text:"Gemini is generating response..."})}),C.jsx("div",{ref:o})]})},Ha=({children:l})=>C.jsx("div",{className:"w-full md:w-80 lg:w-96 bg-gray-900/50 backdrop-blur-sm border-r border-gray-700 p-4 flex flex-col space-y-4 overflow-y-auto",children:l}),za=({children:l})=>C.jsx("main",{className:"flex-1 p-6 flex flex-col bg-gray-900 overflow-hidden",children:l}),Va=({step:l})=>C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-cyan-500 text-gray-900 font-bold text-sm",children:l}),C.jsx("div",{className:"w-full h-px bg-gray-700"})]}),Ar=({step:l,onImageUpload:n,hasImage:o})=>{const s=j.useRef(null),[r,d]=j.useState(!1),p=g=>{const y=g.target.files?.[0];if(y){d(!0);const h=new FileReader;h.onload=async T=>{const S=T.target?.result;if(!S){d(!1);return}try{const _=await lC(S,1024);n(_)}catch(_){console.error("Image resize failed, using original",_),n(S)}finally{d(!1)}},h.readAsDataURL(y)}};return C.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[C.jsx(Va,{step:l}),C.jsx("h3",{className:"text-lg font-semibold text-gray-200 mt-3 mb-2",children:o?"Change Image":"Upload Image"}),C.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select a PNG or JPEG to begin."}),C.jsx("input",{type:"file",ref:s,onChange:p,accept:"image/png, image/jpeg",className:"hidden"}),C.jsx("button",{onClick:()=>s.current?.click(),disabled:r,className:"w-full bg-cyan-600 text-white font-bold py-2 px-4 rounded-md hover:bg-cyan-500 transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 disabled:opacity-75 disabled:cursor-wait",children:r?"Processing...":o?"Select New File":"Choose a File"})]})},mC=({examples:l,onSelect:n})=>!l||l.length===0?null:C.jsxs("div",{className:"mt-4",children:[C.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Examples"}),C.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((o,s)=>C.jsx("button",{onClick:()=>n(o),className:"px-2 py-1 bg-gray-700 text-gray-300 rounded-md text-xs hover:bg-gray-600 hover:text-white transition-colors",children:o},s))})]}),Mr=({step:l,prompt:n,setPrompt:o,disabled:s=!1,placeholder:r,examples:d=[]})=>C.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[l&&C.jsx(Va,{step:l}),C.jsx("h3",{className:"text-lg font-semibold text-gray-200 mt-3 mb-2",children:"Describe Your Vision"}),C.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"What do you want to create or change? Be descriptive!"}),C.jsx("textarea",{value:n,onChange:p=>o(p.target.value),disabled:s,placeholder:r,className:"w-full h-24 p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-cyan-500 disabled:opacity-50","aria-label":"Prompt for image generation or editing"}),C.jsx(mC,{examples:d,onSelect:o})]}),Ba=({onClick:l,disabled:n,text:o})=>C.jsx("button",{onClick:l,disabled:n,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-bold py-3 px-4 rounded-md hover:from-cyan-400 hover:to-blue-500 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:o}),ao=({title:l,src:n,placeholder:o,download:s=!1})=>{const r=n&&(n.startsWith("data:image")||n.startsWith("blob:")),d=n&&!r;return C.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 flex flex-col border border-gray-700 h-full",children:[l&&C.jsx("h3",{className:"text-md font-semibold text-gray-300 mb-2",children:l}),C.jsx("div",{className:"flex-grow flex items-center justify-center relative min-h-[200px] text-gray-300",children:r?C.jsx("img",{src:n,alt:l||"Generated or edited content",className:"max-w-full max-h-full object-contain rounded-md"}):d?C.jsx("p",{className:"whitespace-pre-wrap text-sm p-2 bg-gray-900 rounded-md max-h-full overflow-y-auto w-full text-left",children:n}):C.jsx("p",{className:"text-gray-500",children:o})}),r&&s&&C.jsx("a",{href:n,download:"creative-suite-output.png",className:"mt-3 text-center w-full bg-gray-700 text-white font-semibold py-2 px-4 rounded-md hover:bg-gray-600 transition-colors text-sm",children:"Download Image"})]})},pC=({palette:l})=>{const[n,o]=j.useState(null),s=r=>{navigator.clipboard.writeText(r),o(r),setTimeout(()=>o(null),2e3)};return C.jsx("div",{className:"w-full max-w-4xl",children:C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:l.map(r=>C.jsxs("div",{className:"rounded-lg overflow-hidden shadow-lg border border-gray-700",children:[C.jsx("div",{style:{backgroundColor:r.hex},className:"h-40 w-full"}),C.jsxs("div",{className:"p-4 bg-gray-800",children:[C.jsx("p",{className:"font-bold text-gray-200 text-sm truncate",children:r.name}),C.jsx("button",{onClick:()=>s(r.hex),className:"font-mono text-cyan-400 text-sm mt-1 hover:text-white transition-colors w-full text-left",title:"Copy hex code",children:n===r.hex?"Copied!":r.hex})]})]},r.hex))})})};function hC(){const[l,n]=j.useState("edit"),[o,s]=j.useState("ollama"),[r,d]=j.useState(null),[p,g]=j.useState(null),[y,h]=j.useState([]),[T,S]=j.useState(""),[_,R]=j.useState(!1),[G,V]=j.useState(Object.fromEntries(Zl.map(ee=>[ee,"idle"]))),[F,Y]=j.useState(!1),[J,P]=j.useState([]),[Z,le]=j.useState(""),[$,k]=j.useState(!1),[ce,te]=j.useState("gemini-2.5-flash"),[ue,Se]=j.useState(!1),[fe,ke]=j.useState(""),[dt,Qe]=j.useState(!1),w=j.useRef(J),B=j.useCallback(()=>g(null),[]),ie=ee=>{d(ee),B()};j.useEffect(()=>{w.current=J},[J]),j.useEffect(()=>{ce==="gemini-2.5-pro-thinking-mode"&&ue&&Se(!1)},[ce,ue]);const ge=j.useCallback(ee=>{try{const ze=localStorage.getItem(ee);return ze?JSON.parse(ze):[]}catch(ze){return console.error(`Failed to load chat history from localStorage (${ee}):`,ze),[]}},[]),xe=j.useCallback((ee,ze)=>{try{localStorage.setItem(ee,JSON.stringify(ze)),ee==="ollamaChatHistory"&&Y(!0),ee==="geminiChatHistory"&&Qe(!0),g(null)}catch(mt){console.error(`Failed to save chat history to localStorage (${ee}):`,mt),g("Failed to save chat history. Storage might be full or inaccessible.")}},[]),x=j.useCallback(()=>{const ee=ge("ollamaChatHistory");h(ee),g(null)},[ge]),z=j.useCallback(()=>{h([]),localStorage.removeItem("ollamaChatHistory"),Y(!1),g(null)},[]),O=j.useCallback(()=>{const ee=ge("geminiChatHistory");P(ee),g(null)},[ge]),K=j.useCallback(()=>{P([]),localStorage.removeItem("geminiChatHistory"),Qe(!1),g(null)},[]);j.useEffect(()=>{Y(ge("ollamaChatHistory").length>0),Qe(ge("geminiChatHistory").length>0)},[ge]);const ae=j.useCallback(async()=>{if(!T.trim())return;const ee={type:"user",content:T,timestamp:new Date().toLocaleTimeString()};h(ze=>[...ze,ee]),S(""),R(!0),B(),V(Object.fromEntries(Zl.map(ze=>[ze,"processing"])));try{const it={type:"model",content:(await uv(Zl,T,(st,$t)=>{V(si=>({...si,[st]:$t}))})).map(st=>st.status==="success"?`**${st.modelName}:**
${st.response}`:`**${st.modelName} (Error):**
Failed to get response: ${st.error||"Unknown error"}`).join(`

---

`),timestamp:new Date().toLocaleTimeString(),modelName:"Ollama Pool"};h(st=>[...st,it])}catch(ze){ni(ze,g,"multi-model chat","ollama"),V(Object.fromEntries(Zl.map(mt=>[mt,"error"])))}finally{R(!1),V(ze=>{const mt={...ze};for(const it of Zl)mt[it]==="processing"&&(mt[it]="idle");return mt})}},[T,B,g,V]),me=j.useCallback(async()=>{if(!Z.trim())return;const ee={type:"user",content:Z,timestamp:new Date().toLocaleTimeString()},ze=w.current.map(ut=>({role:ut.type==="user"?"user":"model",parts:[{text:ut.content}]}));P(ut=>[...ut,ee]),le(""),k(!0),B();let mt="",it=[],st=ce;const $t=ce==="gemini-2.5-pro-thinking-mode",si=$t?"gemini-2.5-pro":ce,co=$t?fC:void 0,ui=$t?!1:ue;try{const ut=nC(si,Z,ze,fe,ui,co);P(rt=>[...rt,{type:"model",content:"",timestamp:new Date().toLocaleTimeString(),modelName:nh[st],groundingChunks:[]}]);for await(const rt of ut)mt+=rt.text,rt.groundingChunks&&(it=[...it,...rt.groundingChunks]),P(Ut=>Ut.map((Tn,ct)=>ct===Ut.length-1?{...Tn,content:mt}:Tn));P(rt=>rt.map((Ut,Tn)=>Tn===rt.length-1?{...Ut,groundingChunks:it}:Ut))}catch(ut){ni(ut,g,"gemini chat","gemini"),P(rt=>rt.map((Ut,Tn)=>Tn===rt.length-1&&Ut.type==="model"&&Ut.content===""?{...Ut,content:`Error: ${ut instanceof Error?ut.message:String(ut)}`,type:"model"}:Ut))}finally{k(!1)}},[Z,ce,ue,fe,P,le,k,B,g,w]),Ee=()=>{switch(l){case"edit":return C.jsx(aC,{image:r,onImageUpload:ie,setError:g,clearError:B,backendProvider:o});case"generate":return C.jsx(sC,{setError:g,clearError:B,backendProvider:o});case"analyze":return C.jsx(uC,{image:r,onImageUpload:ie,setError:g,clearError:B,backendProvider:o});case"palette":return C.jsx(rC,{setError:g,clearError:B,backendProvider:o});case"ollama_chat":return C.jsx(cC,{chatHistory:y,isLoading:_,modelStatuses:G,currentChatPrompt:T,setCurrentChatPrompt:S,handleSendMessage:ae,setError:g,clearError:B});case"gemini_chat":return C.jsx(dC,{chatHistory:J,isLoading:$});default:return null}},Ze=ee=>{s(ee),B(),ee==="ollama"&&l==="gemini_chat"?n("ollama_chat"):ee==="gemini"&&l==="ollama_chat"&&n("gemini_chat"),d(null)},He=l==="ollama_chat"||l==="gemini_chat",vn=ce==="gemini-2.5-pro-thinking-mode";return C.jsxs("div",{className:"bg-gray-900 text-white h-screen flex flex-col font-sans",children:[C.jsx(iC,{}),C.jsxs("div",{className:"flex flex-grow pt-16 h-full overflow-hidden",children:[C.jsxs("aside",{className:"w-64 bg-gray-800/30 p-4 border-r border-gray-700 flex flex-col space-y-4 overflow-y-auto",children:[C.jsx("h2",{className:"text-lg font-semibold text-gray-300",children:"AI Provider"}),C.jsxs("div",{className:"flex bg-gray-900 rounded-md p-1",children:[C.jsx("button",{onClick:()=>Ze("ollama"),className:`w-1/2 py-2 text-sm rounded-md transition-colors ${o==="ollama"?"bg-cyan-600 text-white font-bold":"hover:bg-gray-700"}`,children:"Ollama"}),C.jsx("button",{onClick:()=>Ze("gemini"),className:`w-1/2 py-2 text-sm rounded-md transition-colors ${o==="gemini"?"bg-cyan-600 text-white font-bold":"hover:bg-gray-700"}`,children:"Gemini"})]}),C.jsx("h2",{className:"text-lg font-semibold text-gray-300 mt-4",children:"Tools"}),C.jsxs("nav",{className:"flex flex-col space-y-2",children:[C.jsx($l,{mode:"edit",currentMode:l,setMode:n,text:`Image Editor (${o==="ollama"?"Text":"Image"} Output)`}),C.jsx($l,{mode:"generate",currentMode:l,setMode:n,text:`Image Generator (${o==="ollama"?"Text":"Image"} Output)`}),C.jsx($l,{mode:"analyze",currentMode:l,setMode:n,text:"Image Analyzer"}),C.jsx($l,{mode:"palette",currentMode:l,setMode:n,text:"Color Palette"}),o==="ollama"?C.jsx($l,{mode:"ollama_chat",currentMode:l,setMode:n,text:"Ollama Multi-Model Chat"}):C.jsx($l,{mode:"gemini_chat",currentMode:l,setMode:n,text:"Gemini Chat"})]}),C.jsxs("div",{className:"mt-auto p-3 bg-gray-800/50 rounded-lg border border-gray-700 text-sm text-gray-400",children:[C.jsx("p",{className:"font-semibold text-gray-300",children:"Tip:"}),o==="ollama"?C.jsx("p",{children:"Ensure Ollama is running locally with the 'llava' model for image tasks, and all models in the chat pool (core, loop, 2244, coin, code) are available."}):C.jsx("p",{children:"Ensure your Gemini API key is configured. Cloud-based models are used for generation and processing."})]})]}),C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[Ee(),He&&C.jsxs("div",{className:"bg-gray-800/50 p-4 border-t border-gray-700 flex flex-col items-center",children:[o==="ollama"&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-3",children:Zl.map(ee=>C.jsxs("div",{className:"flex items-center space-x-1",children:[C.jsx("span",{className:`w-3 h-3 rounded-full
                                                        ${G[ee]==="processing"?"bg-cyan-500 animate-pulse":""}
                                                        ${G[ee]==="success"?"bg-green-500":""}
                                                        ${G[ee]==="error"?"bg-red-500":""}
                                                        ${G[ee]==="idle"?"bg-gray-500":""}
                                                        `,title:G[ee]==="processing"?`Model ${ee} is currently processing your request.`:G[ee]==="success"?`Model ${ee} successfully processed the last request.`:G[ee]==="error"?`Model ${ee} encountered an error during the last request.`:`Model ${ee} is idle and ready to process requests.`}),C.jsx("span",{className:"text-xs text-gray-400",children:ee})]},ee))}),C.jsxs("div",{className:"w-full max-w-4xl flex justify-end gap-2 mb-3",children:[C.jsx("button",{onClick:()=>xe("ollamaChatHistory",y),disabled:y.length===0||_,className:"px-3 py-1 bg-blue-700 text-white text-sm rounded-md hover:bg-blue-600 disabled:opacity-50","aria-label":"Save Ollama chat history",children:"Save Chat"}),C.jsx("button",{onClick:x,disabled:!F||_,className:"px-3 py-1 bg-purple-700 text-white text-sm rounded-md hover:bg-purple-600 disabled:opacity-50","aria-label":"Load Ollama chat history",children:"Load Chat"}),C.jsx("button",{onClick:z,disabled:y.length===0||_,className:"px-3 py-1 bg-gray-700 text-white text-sm rounded-md hover:bg-gray-600 disabled:opacity-50","aria-label":"Clear current Ollama chat",children:"Clear Chat"})]})]}),o==="gemini"&&C.jsxs("div",{className:"w-full max-w-4xl mb-4 space-y-3",children:[C.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[C.jsx("label",{htmlFor:"gemini-model-select",className:"text-sm font-semibold text-gray-300 min-w-[80px]",children:"Model:"}),C.jsx("select",{id:"gemini-model-select",value:ce,onChange:ee=>te(ee.target.value),disabled:$,className:"flex-grow p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-cyan-500 disabled:opacity-50","aria-label":"Select Gemini model",children:Object.entries(nh).map(([ee,ze])=>C.jsx("option",{value:ee,children:ze},ee))})]}),C.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[C.jsx("label",{htmlFor:"system-instruction",className:"text-sm font-semibold text-gray-300 min-w-[80px]",children:"System Instruction:"}),C.jsx("input",{id:"system-instruction",type:"text",value:fe,onChange:ee=>ke(ee.target.value),placeholder:"e.g., 'You are a helpful assistant.'",disabled:$,className:"flex-grow p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-cyan-500 disabled:opacity-50","aria-label":"System instruction for Gemini chat"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{id:"enable-search",type:"checkbox",checked:ue,onChange:ee=>Se(ee.target.checked),disabled:$||vn,className:"form-checkbox h-4 w-4 text-cyan-600 bg-gray-900 border-gray-600 rounded focus:ring-cyan-500","aria-label":"Enable Google Search Grounding"}),C.jsx("label",{htmlFor:"enable-search",className:"text-sm text-gray-300",children:"Enable Google Search Grounding"}),vn&&C.jsx("span",{className:"text-xs text-red-400 ml-2",children:" (Disabled for Thinking Mode)"})]}),C.jsxs("div",{className:"w-full max-w-4xl flex justify-end gap-2",children:[C.jsx("button",{onClick:()=>xe("geminiChatHistory",J),disabled:J.length===0||$,className:"px-3 py-1 bg-blue-700 text-white text-sm rounded-md hover:bg-blue-600 disabled:opacity-50","aria-label":"Save Gemini chat history",children:"Save Chat"}),C.jsx("button",{onClick:O,disabled:!dt||$,className:"px-3 py-1 bg-purple-700 text-white text-sm rounded-md hover:bg-purple-600 disabled:opacity-50","aria-label":"Load Gemini chat history",children:"Load Chat"}),C.jsx("button",{onClick:K,disabled:J.length===0||$,className:"px-3 py-1 bg-gray-700 text-white text-sm rounded-md hover:bg-gray-600 disabled:opacity-50","aria-label":"Clear current Gemini chat",children:"Clear Chat"})]})]}),C.jsxs("div",{className:"w-full max-w-4xl flex items-center space-x-2",children:[C.jsx("textarea",{value:o==="ollama"?T:Z,onChange:ee=>o==="ollama"?S(ee.target.value):le(ee.target.value),onKeyDown:ee=>{ee.key==="Enter"&&!ee.shiftKey&&!(o==="ollama"?_:$)&&(ee.preventDefault(),o==="ollama"?ae():me())},disabled:o==="ollama"?_:$,placeholder:"Type your message here...",className:"flex-grow h-auto max-h-32 min-h-[40px] p-2 bg-gray-900 border border-gray-600 rounded-md text-gray-300 focus:outline-none focus:ring-2 focus:ring-cyan-500 disabled:opacity-50 resize-y","aria-label":"Natural prompt text input"}),C.jsx("button",{onClick:()=>o==="ollama"?ae():me(),disabled:(o==="ollama"?_:$)||!(o==="ollama"?T.trim():Z.trim()),className:"bg-cyan-600 text-white font-bold py-2 px-4 rounded-md hover:bg-cyan-500 transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 disabled:opacity-50",children:"Send"})]})]})]})]}),C.jsx("div",{className:"absolute bottom-4 right-6 w-full max-w-md",children:C.jsx(oC,{error:p,onClear:B})})]})}const $l=({mode:l,currentMode:n,setMode:o,text:s})=>C.jsx("button",{onClick:()=>o(l),className:`w-full text-left px-3 py-2 rounded-md transition-colors text-sm font-medium ${n===l?"bg-cyan-600 text-white":"hover:bg-gray-700"}`,children:s});ov.createRoot(document.getElementById("root")).render(C.jsx(av.StrictMode,{children:C.jsx(hC,{})}));
