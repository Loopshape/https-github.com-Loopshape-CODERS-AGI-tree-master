(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();class l{constructor(t){if(this.editor=document.querySelector(t),!this.editor)return console.error("Editor element not found");this.fileType="txt",this.tokenPatterns={},this.setupPatterns(),this.observeChanges()}setFileType(t){const i=t.split(".").pop().toLowerCase();this.fileType=i}setupPatterns(){this.tokenPatterns={js:{keyword:/\b(const|let|var|function|return|if|else|for|while|switch|case|break|new|class|extends|import|export|from)\b/g,string:/(["'`])(?:(?=(\\?))\2.)*?\1/g,comment:/(\/\/.*$|\/\*[\s\S]*?\*\/)/gm,number:/\b\d+(\.\d+)?\b/g},py:{keyword:/\b(def|return|if|else|elif|for|while|import|from|as|class|try|except|with|lambda|yield|in|is|not|and|or)\b/g,string:/(["'`])(?:(?=(\\?))\2.)*?\1/g,comment:/#.*$/gm,number:/\b\d+(\.\d+)?\b/g},html:{tag:/(&lt;\/?[\w\s="'-:.#]+&gt;)/g,attr:/\b([\w-]+)(=)/g,string:/(["']).*?\1/g,comment:/<!--[\s\S]*?-->/g},css:{selector:/[.#]?\w[\w-]*\s*(?=\{)/g,property:/(\b[a-z-]+)(?=:)/g,value:/:\s*([^;]+)(?=;)/g,comment:/\/\*[\s\S]*?\*\//g},sql:{keyword:/\b(SELECT|INSERT|UPDATE|DELETE|FROM|WHERE|JOIN|INNER|LEFT|RIGHT|ON|GROUP|BY|ORDER|LIMIT|AS)\b/gi,string:/(["']).*?\1/g,comment:/(--.*$|\/\*[\s\S]*?\*\/)/gm,number:/\b\d+(\.\d+)?\b/g},php:{keyword:/\b(function|return|if|else|elseif|for|while|foreach|class|public|private|protected|new|echo|require|include)\b/g,string:/(["']).*?\1/g,comment:/(\/\/.*$|\/\*[\s\S]*?\*\/|#.*$)/gm,number:/\b\d+(\.\d+)?\b/g},md:{header:/^#+\s.*$/gm,bold:/\*\*(.*?)\*\*/g,italic:/\*(.*?)\*/g,code:/`(.*?)`/g,link:/\[([^\]]+)\]\(([^)]+)\)/g},sh:{keyword:/\b(if|then|else|fi|for|in|do|done|while|case|esac|function|exit|return)\b/g,string:/(["']).*?\1/g,comment:/#.*/g,number:/\b\d+(\.\d+)?\b/g},txt:{}}}highlight(t){if(this.fileType==="txt")return`<span class="txtfile">${t}</span>`;const i=this.tokenPatterns[this.fileType]||{};let s=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(const[e,r]of Object.entries(i))s=s.replace(r,o=>`<span class="${e}">${o}</span>`);return s}observeChanges(){const t=()=>{const i=this.editor.textContent||this.editor.value||"",s=this.highlight(i);this.editor.innerHTML!==s&&(this.editor.innerHTML=s)};this.editor.addEventListener("input",t),this.editor.addEventListener("paste",()=>setTimeout(t,10)),t()}}const c=new l("#editor");c.setFileType("example.py");
